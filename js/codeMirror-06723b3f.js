import{c as o}from"./_codemirror@5.65.16@codemirror-01d61fb4.js";import{n as s}from"./index-66a898a3.js";const i={name:"codeMirror",data(){return{jsonEditor:""}},components:{},props:{mode:{type:String,required:!0},jsonCode:{type:String,default:""},readonly:{type:Boolean,default:!1},value:{}},watch:{jsonCode(e){const t=this.jsonEditor.getValue();e!==t&&(this.mode==="application/json"?this.jsonEditor.setValue(JSON.stringify(JSON.parse(this.jsonCode),null,2)):this.jsonEditor.setValue(this.jsonCode.toString())),this.$nextTick(()=>{this.jsonEditor.refresh()})},immediate:!0,deep:!0},mounted(){this.jsonEditor=o.fromTextArea(this.$refs.textarea,{mode:this.mode,theme:"idea",lint:!1,tabSize:2,smartIndent:!0,styleActiveLine:!0,lineNumbers:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],lineWrapping:!0,matchBrackets:!0,autoCloseBrackets:!0,readOnly:this.readonly,foldGutter:!0}),this.mode==="application/json"?this.jsonEditor.setValue(JSON.stringify(JSON.parse(this.jsonCode),null,2)):this.jsonEditor.setValue(this.jsonCode),this.jsonEditor.on("change",e=>{this.$emit("change",e.getValue())})},methods:{refresh(){this.jsonEditor&&this.jsonEditor.refresh()}}};var n=function(){var t=this,r=t._self._c;return r("div",{staticClass:"json-editor"},[r("textarea",{ref:"textarea"})])},a=[],d=s(i,n,a,!1,null,"4d391cfd",null,null);const c=d.exports;export{c};
