import{n as h,y as f,_ as p}from"./index-fdff98f3.js";import{f as g}from"./index-3e7639ed.js";import{S as y}from"./_sortablejs@1.15.2@sortablejs-dd5833fd.js";import"./_element-ui@2.15.14@element-ui-d6404236.js";import"./_@antv_x6-common@2.0.17@@antv-e9d2c7f8.js";import"./_lodash-es@4.17.21@lodash-es-326016e5.js";import"./_vue@2.7.16@vue-c82c1faf.js";import"./_deepmerge@1.5.2@deepmerge-251d9111.js";import"./_resize-observer-polyfill@1.5.1@resize-observer-polyfill-88ffd6cd.js";import"./_throttle-debounce@1.1.0@throttle-debounce-d93b3c53.js";import"./_babel-helper-vue-jsx-merge-props@2.0.3@babel-helper-vue-jsx-merge-props-72d30afb.js";import"./_normalize-wheel@1.0.1@normalize-wheel-1b789469.js";import"./_async-validator@1.8.5@async-validator-8fabaacf.js";import"./_babel-runtime@6.26.0@babel-runtime-ff8b37cd.js";import"./_core-js@2.6.12@core-js-edebcccf.js";import"./_vuex@3.6.2@vuex-0d722715.js";import"./_axios@1.6.7@axios-8eaa8064.js";import"./_side-channel@1.0.5@side-channel-2c942eb6.js";import"./_get-intrinsic@1.2.4@get-intrinsic-c09dd1a7.js";import"./_es-errors@1.3.0@es-errors-d863dafe.js";import"./_has-symbols@1.0.3@has-symbols-af84758f.js";import"./_has-proto@1.0.1@has-proto-ed1b0be6.js";import"./_function-bind@1.1.2@function-bind-0a5fc7a8.js";import"./_hasown@2.0.1@hasown-7211ef3d.js";import"./_call-bind@1.0.7@call-bind-90319db2.js";import"./_set-function-length@1.2.1@set-function-length-ac203dfa.js";import"./_define-data-property@1.1.4@define-data-property-c2b4af81.js";import"./_es-define-property@1.0.0@es-define-property-86f51ffb.js";import"./_gopd@1.0.1@gopd-7b0e1986.js";import"./_has-property-descriptors@1.0.2@has-property-descriptors-af639a50.js";import"./_qs@6.11.2@qs-d48efb00.js";import"./_vue-router@3.5.3@vue-router-44f70d6f.js";import"./_nanoid@3.3.7@nanoid-3ec3f908.js";import"./_gm-crypto@0.1.12@gm-crypto-48543d3c.js";import"./_to-arraybuffer@1.0.1@to-arraybuffer-dd910a5e.js";import"./_buffer@5.7.1@buffer-81215e29.js";import"./_base64-js@1.5.1@base64-js-554c8894.js";import"./_ieee754@1.2.1@ieee754-0706f68c.js";import"./_jsbn@1.1.0@jsbn-726a10f4.js";import"./_element-resize-detector@1.2.4@element-resize-detector-0b105688.js";import"./_batch-processor@1.0.0@batch-processor-252a9c8d.js";import"./_@vueuse_core@10.7.2@@vueuse-38acc5bf.js";import"./_@vueuse_shared@10.7.2@@vueuse-98aa9f98.js";import"./_vue-demi@0.14.7@vue-demi-52bac217.js";import"./_v-region@2.3.0@v-region-cb5f6f14.js";import"./_@antv_x6@2.18.1@@antv-4eec9d0e.js";import"./_@antv_x6-geometry@2.0.5@@antv-5981308d.js";import"./_@antv_x6-vue-shape@2.1.2@@antv-7a0d94b2.js";import"./_vuedraggable@2.24.3@vuedraggable-f97e6635.js";import"./_sortablejs@1.10.2@sortablejs-2915de19.js";const b={name:"categoryTree",props:{treeTitle:{type:String,default:"\u8868\u5355\u7BA1\u7406"},actived:{type:String,default:"-0000"},type:{type:String,default:"1"},type_name:{type:String,default:"\u6570\u636E\u96C6\u5206\u7C7B"},setList:{type:Array,default:()=>[]},list:{type:Array,default:()=>[]},isEditable:{type:Boolean,default:!0},boxwidth:{type:String,default:"279px"},isCheckable:{type:Boolean,default:!1},showTitle:{type:String,default:""}},data(){return{activeTab:"0",ruleForm:{},typeTitle:"\u5206\u7EC4",dialogTitle:"",showTypeVisible:!1,rules:{name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["change","input","blur"]}]},act:"",arr:[],isShow:!0,editCheckedId:"",isClear:!1}},watch:{list:{deep:!0,handler(s){this.arr=JSON.parse(JSON.stringify(s))}},actived:{deep:!0,handler(s){this.$nextTick(()=>{this.$refs.tree.setCurrentKey(s)})}}},methods:{foldTree(){this.isShow=!this.isShow,this.$emit("toggleShow",this.isShow)},handleTabClick(s){this.activeTab=s.name,this.$emit("getCate")},onMove(s){return s.to.id!="-0000"},onEnd(s){const{from:{id:e},to:{id:t}}=s;let a=this.list.find(l=>l.id===e),i=this.list.find(l=>l.id===t);if(e!==t&&a.parent_id!==t&&a.parent_id!==i.parent_id){const l={act:"mov",id:a.id,type:this.type,parent_id:a.parent_id,nparent_id:i.parent_id!=="0"?i.parent_id:t};console.log(l),this.$api.customForm.actSort(l).then(o=>{o.status==100?(this.$message.success(o.msg),this.$emit("getCate",this.ruleForm.id)):this.$message.error(o.msg)})}},handleTypeCommand(s,e){s==="a"?this.addType(e.level,e):s==="b"?this.editType(e.level,e.data):s==="c"&&this.delType(e)},chooseType(s){this.$emit("chooseType",s)},check(s){this.$emit("check",s)},checkChange(s,e){this.isClear?this.$refs.tree.setCheckedKeys([]):(e===!0&&(this.editCheckedId=s.id,this.$refs.tree.setCheckedKeys([s.id]),console.log(this.$refs.tree)),this.$emit("check",this.editCheckedId))},clearChecked(){this.isClear=!0,this.$refs.tree.setCheckedKeys([])},changeClear(){this.isClear=!1},addType(s,e){this.act="add",this.ruleForm=this.$options.data().ruleForm,this.showTypeVisible=!0,this.$refs.ruleForm&&this.$refs.ruleForm.resetFields(),s?(this.typeTitle="\u5206\u7C7B",this.dialogTitle="\u65B0\u589E\u5206\u7C7B",this.ruleForm.parent_id=e.data.id):(this.typeTitle="\u5206\u7EC4",this.dialogTitle="\u65B0\u5EFA\u5206\u7EC4",this.ruleForm.parent_id="0")},editType(s,e){this.$refs.ruleForm&&this.$refs.ruleForm.clearValidate(),this.act="mod",this.showTypeVisible=!0,this.ruleForm={...e,level:s},s==1?(this.typeTitle="\u5206\u7EC4",this.dialogTitle="\u7F16\u8F91\u5206\u7EC4"):(this.typeTitle="\u5206\u7C7B",this.dialogTitle="\u7F16\u8F91\u5206\u7C7B")},async delType(s){this.$confirm("\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u6570\u636E, \u662F\u5426\u7EE7\u7EED?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(async()=>{this.act="del";const e={act:this.act,...s.data,type:this.type,type_name:this.type_name,dat_range:this.activeTab};if(s.data.children&&s.data.children.length>0){this.$message.warning("\u8BF7\u5148\u5220\u9664\u5B50\u7EA7\u6570\u636E");return}else{let t={};const i={1:"getTableList",2:"getFormListByCate",3:"getQryPgLstBySort"}[this.type],l=this.type=="3"?"qrypage":"customForm";t=await this.$api[l][i]({pageNum:0,pageSize:0,filter:{sortId:s.data.id}});const{data:{list:o}}=t,r=o.filter(n=>n.status!=="3");if(r&&r.length>0){this.$message.warning("\u8BF7\u5148\u5220\u9664\u5B50\u7EA7\u6570\u636E");return}}this.$api.customForm.submitSortInfo(e).then(t=>{t.status==102?(this.$message.success(t.msg),this.$emit("getCate")):this.$message.warning(t.msg)})}).catch(e=>{console.log(e)})},submitForm(){this.$refs.ruleForm.validate(s=>{if(s){delete this.ruleForm.children,delete this.ruleForm.level;const e={act:this.act,...this.ruleForm,type:this.type,type_name:this.type_name,dat_range:this.activeTab};console.log(e),this.$api.customForm.submitSortInfo(e).then(t=>{t.status==100?(this.$message.success(t.msg),this.$emit("getCate",this.ruleForm.id),this.closeForm()):this.$message.error(t.msg)})}})},closeForm(){this.showTypeVisible=!1,this.$refs.ruleForm.resetFields()}}};var v=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"treeCon",class:e.isEditable?"":"moveCon",style:{width:e.boxwidth}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isEditable||e.showTitle=="1",expression:"isEditable || showTitle=='1'"}],staticClass:"tree-title"},[t("span",[e._v(e._s(e.treeTitle))]),t("i",{staticClass:"el-icon-d-arrow-left",on:{click:e.foldTree}})]),t("el-tabs",{style:e.isEditable?"":{height:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTab,callback:function(a){e.activeTab=a},expression:"activeTab"}},[t("el-tab-pane",{attrs:{label:"\u7EC4\u7EC7\u7A7A\u95F4",name:"0"}},[e.activeTab==="0"?t("el-tree",{ref:"tree",staticClass:"aside_tree",style:e.isEditable?"":{height:"100%"},attrs:{data:e.setList,"node-key":"id","default-expand-all":"","check-strictly":"",indent:24,"show-checkbox":e.isCheckable,"expand-on-click-node":!1,"highlight-current":!e.isCheckable,"current-node-key":e.actived},on:{"node-click":e.chooseType,"check-change":e.checkChange},scopedSlots:e._u([{key:"default",fn:function({node:a,data:i}){return t("span",{staticClass:"custom-tree-node"},[t("draggable",e._b({staticClass:"draggable-node",attrs:{id:i.id,filter:".forbid",chosenClass:"chosen",ghostClass:"ghost",move:e.onMove},on:{end:e.onEnd},model:{value:e.arr,callback:function(l){e.arr=l},expression:"arr"}},"draggable",{animation:150,group:{name:"name",pull:!0},sort:!0},!1),[t("span",{class:[e.actived==i.id?"activedColor":"",i.parent_id=="0"?"forbid":""]},[a.level===1?t("i",{class:i.icon?`el-icon-my-${i.icon}`:"el-icon-my-folder",staticStyle:{"margin-right":"8px"}}):e._e(),t("span",[e._v(e._s(i.name))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:i.name!=="\u9ED8\u8BA4\u5206\u7EC4"&&e.isEditable,expression:"data.name !=='\u9ED8\u8BA4\u5206\u7EC4' && isEditable"}],staticClass:"card-item-dropMenu",on:{click:function(l){l.stopPropagation()}}},[t("el-dropdown",{attrs:{trigger:"click","hide-on-click":!1},on:{command:l=>{e.handleTypeCommand(l,a)}}},[t("i",{staticClass:"el-dropdown-link",class:e.actived===i.id?"el-icon-my-moreActive":"",staticStyle:{cursor:"pointer"}}),t("el-dropdown-menu",[a.level===1?t("el-dropdown-item",{attrs:{command:"a"}},[e._v("\u65B0\u589E\u5206\u7C7B")]):e._e(),t("el-dropdown-item",{attrs:{command:"b"}},[e._v(e._s(a.level===1?"\u7F16\u8F91\u5206\u7EC4":"\u7F16\u8F91\u5206\u7C7B"))]),t("el-dropdown-item",{attrs:{command:"c"}},[e._v(e._s(a.level===1?"\u5220\u9664\u5206\u7EC4":"\u5220\u9664\u5206\u7C7B"))])],1)],1)],1)])],1)}}],null,!1,3405495654)}):e._e()],1),t("el-tab-pane",{attrs:{label:"\u5E73\u53F0\u7A7A\u95F4",name:"1"}},[e.activeTab==="1"?t("el-tree",{ref:"tree",staticClass:"aside_tree",attrs:{data:e.setList,"node-key":"id","default-expand-all":"","check-strictly":"",indent:24,"show-checkbox":e.isCheckable,"expand-on-click-node":!1,"highlight-current":!e.isCheckable,"current-node-key":e.actived},on:{"node-click":e.chooseType,"check-change":e.checkChange},scopedSlots:e._u([{key:"default",fn:function({node:a,data:i}){return t("span",{staticClass:"custom-tree-node"},[t("draggable",e._b({staticClass:"draggable-node",attrs:{id:i.id,filter:".forbid",chosenClass:"chosen",ghostClass:"ghost",move:e.onMove},on:{end:e.onEnd},model:{value:e.arr,callback:function(l){e.arr=l},expression:"arr"}},"draggable",{animation:150,group:{name:"name",pull:!0},sort:!0},!1),[t("span",{class:[e.actived==i.id?"activedColor":"",i.parent_id=="0"?"forbid":""]},[a.level===1?t("i",{class:i.icon?`el-icon-my-${i.icon}`:"el-icon-my-folder",staticStyle:{"margin-right":"8px"}}):e._e(),t("span",[e._v(e._s(i.name))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:i.name!=="\u9ED8\u8BA4\u5206\u7EC4"&&e.isEditable,expression:"data.name !=='\u9ED8\u8BA4\u5206\u7EC4' && isEditable"}],staticClass:"card-item-dropMenu",on:{click:function(l){l.stopPropagation()}}},[t("el-dropdown",{attrs:{trigger:"click","hide-on-click":!1},on:{command:l=>{e.handleTypeCommand(l,a)}}},[t("i",{staticClass:"el-dropdown-link",class:e.actived===i.id?"el-icon-my-moreActive":"",staticStyle:{cursor:"pointer"}}),t("el-dropdown-menu",[a.level===1?t("el-dropdown-item",{attrs:{command:"a"}},[e._v("\u65B0\u589E\u5206\u7C7B")]):e._e(),t("el-dropdown-item",{attrs:{command:"b"}},[e._v(e._s(a.level===1?"\u7F16\u8F91\u5206\u7EC4":"\u7F16\u8F91\u5206\u7C7B"))]),t("el-dropdown-item",{attrs:{command:"c"}},[e._v(e._s(a.level===1?"\u5220\u9664\u5206\u7EC4":"\u5220\u9664\u5206\u7C7B"))])],1)],1)],1)])],1)}}],null,!1,3405495654)}):e._e()],1)],1),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isEditable,expression:"isEditable"}],staticClass:"bottom_btn",attrs:{plain:"",type:"primary",icon:"el-icon-plus"},on:{click:function(a){return e.addType(0)}}},[e._v("\u65B0\u5EFA\u5206\u7EC4")]),t("el-dialog",{staticClass:"view-edit",attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.showTypeVisible,"before-close":e.closeForm,"append-to-body":""},on:{"update:visible":function(a){e.showTypeVisible=a}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"mini"}},[t("el-form-item",{attrs:{label:e.typeTitle+"\u540D\u79F0",prop:"name",required:""}},[t("el-input",{model:{value:e.ruleForm.name,callback:function(a){e.$set(e.ruleForm,"name",typeof a=="string"?a.trim():a)},expression:"ruleForm.name"}})],1),t("el-form-item",{attrs:{label:"\u5E8F\u53F7",prop:"sort_index"}},[t("el-input-number",{attrs:{"controls-position":"right"},model:{value:e.ruleForm.sort_index,callback:function(a){e.$set(e.ruleForm,"sort_index",a)},expression:"ruleForm.sort_index"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.submitForm}},[e._v("\u786E\u5B9A")]),t("el-button",{attrs:{size:"mini"},on:{click:e.closeForm}},[e._v("\u53D6\u6D88")])],1)],1)],1)},S=[],_=h(b,v,S,!1,null,"6e99e2ce",null,null);const w=_.exports;const C={name:"querySet",components:{categoryTree:w},data(){return{row:"",datasetVisible:!1,loading:!1,state:null,setInfo:{menu_id:"",datset_id:"",datset_name:"",name:"",data:[]},hadMore:!1,showMore:!1,conditionHeight:12,enableArr:[],currentDataSetMenu:null,currentDataSet:null,tempDataSetMenu:null,tempDataSet:null,dataSetMenu:[],dataSetList:[],dataSetFields:null,dicSetRow:null,dicSetDrawer:!1,editName:!1,showSet:!0,isCbValue:!1,typeDic:[{label:"\u8F93\u5165\u6846",value:"dInput"},{label:"\u4E0B\u62C9\u9009\u62E9\u5668",value:"dSelect"},{label:"\u65E5\u671F\u9009\u62E9\u5668",value:"dTime"}],timeTypeDic:[{label:"\u65E5\u671F\u548C\u65F6\u95F4\u70B9",value:"datetime"},{label:"\u65E5\u671F\u548C\u65F6\u95F4\u8303\u56F4",value:"datetimerange"}],timeFormatDic:[{label:"\u5E74-\u6708-\u65E5",value:"yyyy-MM-dd"},{label:"\u5E74-\u6708-\u65E5 \u65F6",value:"yyyy-MM-dd HH"},{label:"\u5E74-\u6708-\u65E5 \u65F6-\u5206",value:"yyyy-MM-dd HH:mm"},{label:"\u5E74-\u6708-\u65E5 \u65F6-\u5206-\u79D2",value:"yyyy-MM-dd HH:mm:ss"}],listFlat:[],datasetViewList:[],page:{pageNum:1,pageSize:10,total:0}}},methods:{goBack(){this.state?this.$confirm("\u82E5\u5185\u5BB9\u672A\u4FDD\u5B58\u6570\u636E\u4F1A\u4E22\u5931\uFF0C\u662F\u5426\u9000\u51FA?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{this.$router.push({name:"querypageconfig",params:{currentGroup:this.$route.params.currentGroup}})}).catch(s=>{console.log(s)}):this.$router.push({name:"querypageconfig",params:{currentGroup:this.$route.params.currentGroup}})},handleConHeight(){let s=0,e=0,t=this.$refs.tableView,a=this.$refs.conditionItem;if(t&&a&&a.length>0){let i=t.clientWidth-185,l=[],o=0,r=0;for(;r<=a.length-1;){let n=0;if(l[o]=[],a[r].clientWidth+28+1>i)l[o].push(a[r]),r++;else for(;r<=a.length-1&&n+a[r].clientWidth+28<=i;)n+=a[r].clientWidth+28,l[o].push(a[r]),r++;o++}e=l.length,console.log(l,"rows"),s=e*44}else s=0;return s>88&&!this.showMore?(this.hadMore=!0,s=88):s<=88&&(this.hadMore=!1,this.showMore=!1),s},async dataSetHandler(){this.datasetVisible=!0,await this.getSetList(this.row.dat_range);const{menu_id:s,datset_id:e}=this.setInfo;let t=this.listFlat.find(a=>a.id===s);if(t){this.currentDataSetMenu=JSON.parse(JSON.stringify(t)),this.tempDataSetMenu=JSON.parse(JSON.stringify(t)),await this.getSetTableList(this.tempDataSetMenu.id,this.row.dat_range);let a=this.dataSetList.find(i=>i.id===e);a&&(this.currentDataSet=JSON.parse(JSON.stringify(a)),this.tempDataSet=JSON.parse(JSON.stringify(a)))}},feedbackInfo(){this.loading=!0,this.setInfo=this.row.setInfo,console.log(this.setInfo,"setInfo"),this.setInfo.datset_type!=="P"&&this.setInfo.datset_id&&this.queryInfo(),this.enableArr=this.setInfo.enableArr,this.currentDataSetMenu={id:this.setInfo.menu_id},this.currentDataSet={id:this.setInfo.datset_id,datset_name:this.setInfo.datset_name,datset_type:this.setInfo.datset_type},this.$nextTick(()=>{this.rowDrop();for(let s of this.enableArr)this.$refs.setInfoTable.toggleRowSelection(s);this.loading=!1})},flatDataSetMenu(s){let e=[];for(let t of s){let a=JSON.parse(JSON.stringify(t));if(delete a.children,e.push(a),t.children&&t.children.length>0){let i=this.flatDataSetMenu(t.children);e=[...e,...i]}}return e},getCate(){this.$nextTick(()=>{this.getSetList(),this.getSetTableList("-0000")})},async chooseDataset(s){if(console.log(s,"dataset"),!this.tempDataSet||!this.tempDataSetMenu){this.$message.warning("\u8BF7\u9009\u62E9\u6570\u636E\u96C6");return}this.$confirm("\u8BE5\u64CD\u4F5C\u5C06\u6E05\u7A7A\u5DF2\u914D\u7F6E\u7684\u6570\u636E\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(async()=>{this.datasetVisible=!1,await e.call(this)}).catch(t=>{console.log(t)}).finally(()=>{this.datasetVisible=!1});async function e(){let a=(await this.getSetFields(s.id)||[]).map(({name:i,describe:l})=>({id:this.$F.nanoid(),name:i,describe:l,alias:l,type:"",search:!1,width:150,dicSet:[],allowDrag:!0,props:{defVal:""},dicType:"1"}));this.$set(this.setInfo,"data",a),this.$set(this.setInfo,"enableArr",[]),this.setInfo.menu_id=this.tempDataSetMenu.id,this.setInfo.datset_id=this.tempDataSet.id,this.currentDataSetMenu=JSON.parse(JSON.stringify(this.tempDataSetMenu)),this.currentDataSet=JSON.parse(JSON.stringify(this.tempDataSet)),this.tempDataSetMenu=null,this.tempDataSet=null,this.enableArr=[],this.$nextTick(()=>{this.rowDrop();for(let i of this.setInfo.data)this.$refs.setInfoTable.toggleRowSelection(i)})}},async getSetList(s){const e=s||this.$refs.cusListTree2&&this.$refs.cusListTree2.activeTab||"0";return this.$F.isEmpty(s)||this.$nextTick(()=>{this.$refs.cusListTree2.activeTab=e}),await this.$api.customForm.getSortLst(1,e).then(t=>{const{status:a,data:i,msg:l}=t;if(a==104){let o=[{id:"-0000",name:"\u9ED8\u8BA4\u5206\u7EC4",parent_id:"0"},...i];this.listFlat=JSON.parse(JSON.stringify(o)),this.dataSetMenu=g(o)}else this.$message({type:"warning",message:l})}).catch(()=>{})},async getSetTableList(s,e){const t=e||this.$refs.cusListTree2&&this.$refs.cusListTree2.activeTab||"0";this.$F.isEmpty(e)||this.$nextTick(()=>{this.$refs.cusListTree2.activeTab=t});const a={pageNum:0,pageSize:0,filter:{sortId:s,likeVal:"",dat_range:t}};return await this.$api.customForm.getTableList(a).then(i=>{const{status:l,data:{list:o},msg:r}=i;l==104?this.dataSetList=o||[]:this.$message({type:"warning",message:r})}).catch(()=>{})},async getSetFields(s){this.loading=!0;const e={id:s,pageNum:0,pageSize:0,total:0};return await this.$api.customForm.getDtSetFieldInfo(e).then(t=>{const{status:a,data:i}=t;if(a===104)return i.list}).finally(()=>{this.loading=!1})},handleTypeChange(s,e){let t={dInput:{defVal:""},dSelect:{defVal:"",multiple:!1},dRadio:{defVal:""},dCheckbox:{defVal:""},dTime:{defVal:[],timeType:"datetimerange",format:"yyyy-MM-dd HH:mm"}};e.props=t[s],e.dicType="1",e.dicSet=[]},filterDicInfo(s){return s?s.filter(e=>!this.$F.isEmpty(e.label)&&!this.$F.isEmpty(e.value)):[]},handleCellWidth(){return this.setInfo&&this.setInfo.data.some(e=>e.search===!0)?"140":"100"},handleSelectionChange(s){this.enableArr=s},savePageCfg(){if(this.$F.isEmpty(this.setInfo.name)){this.$message.warning({message:"\u8BF7\u8F93\u5165\u540D\u79F0",showClose:!0,duration:3e3,offset:50}),this.editName=!0,this.$nextTick(()=>{this.$refs.pageNameIpt.focus()});return}const{dat_range:s,act:e,id:t}=this.row,{datset_id:a,datset_name:i,name:l,sort_id:o,status:r}=this.setInfo;let n=this.enableArr.map(c=>c.name);n=n.join(",");let d={act:e,datset_id:a,datset_name:i,field_text:JSON.stringify(this.enableArr),fields:n,name:l,sort_id:o,status:r,dat_range:s};e==="mod"&&(d.id=t),console.log(d,"params"),this.$api.qrypage.submitQryPageCfgInfo(d).then(c=>{const{status:u,msg:m}=c;u==100?(this.$message.success("\u64CD\u4F5C\u6210\u529F"),this.$router.push({name:"querypageconfig",params:{currentGroup:this.$route.params.currentGroup}})):this.$message({type:"warning",message:m})}).catch(c=>{console.log(c)})},async handleDicOrigin(){this.isCbValue=!0,this.datasetVisible=!0,await this.getSetList();let s=this.dicSetRow.sort_id||this.listFlat[0].id,e=this.listFlat.find(a=>a.id===s);e&&(this.tempDataSetMenu=JSON.parse(JSON.stringify(e))),await this.getSetTableList(s);let t=this.dicSetRow.datset_id;if(t){let a=this.dataSetList.find(i=>i.id===t);a&&(this.tempDataSet=JSON.parse(JSON.stringify(a)))}},getActiveDic(s){if(!this.tempDataSet||!this.tempDataSetMenu){this.$message.warning("\u8BF7\u9009\u62E9\u6570\u636E\u96C6");return}const{id:e,datset_name:t}=s,a={filter:{datset_id:e,datset_name:t},pageNum:0,pageSize:0};this.$api.customForm.getBusDicLst(a).then(i=>{const{status:l,data:o}=i;if(l===104){const{list:r}=o;if(r&&r.length>0){const n=r.reduce((d,c)=>[...d,{value:c.id,label:c.name}],[]);this.dicSetRow=Object.assign(this.dicSetRow,{dicActiveSet:n,datset_name:t,datset_id:e,sort_id:this.tempDataSetMenu.id})}}}).finally(()=>{this.isCbValue=!1,this.tempDataSetMenu=null,this.tempDataSet=null,this.datasetVisible=!1})},rowDrop(s){const e=document.querySelector(".setInfoTable .el-table__body-wrapper tbody"),t=this;new y(e,{animation:300,draggable:".allowDrag",onUpdate({newIndex:a,oldIndex:i}){let l=e.children[a],o=e.children[i];e.removeChild(l),a>i?e.insertBefore(l,o):e.insertBefore(l,o.nextSibling);let r=t.setInfo.data.splice(i,1);t.setInfo.data.splice(a,0,r[0]),t.$nextTick(()=>{let n={};for(let d in t.setInfo.data){let c=t.setInfo.data[d];n[c.name]=Number(d)}t.$refs.setInfoTable.selection.sort((d,c)=>n[d.name]-n[c.name]),t.enableArr=t.$refs.setInfoTable.selection,typeof s=="function"&&s()})}})},setRowActiveClass({row:s}){return s.allowDrag===!1?"":"allowDrag"},queryInfo(){console.log(this.setInfo,"setInfo");const{datset_id:s,datset_name:e,datset_type:t}=this.setInfo;let a={pageNum:this.page.pageNum,pageSize:this.page.pageSize,filter:{datset_id:s,datset_name:e}};if(t==="P"){let i=this.enableArr.filter(o=>o.cType==="P");if(i=i.map(o=>o.props.defVal),i.some(o=>this.$F.isEmpty(o))){this.$message.warning("\u67E5\u8BE2\u6761\u4EF6\u672A\u586B\u5199");return}let l=Object.values(i).join("|");a.filter.paramValue=l}f(a).then(i=>{const{data:l}=i;l?(this.datasetViewList=l.list||[],this.page.total=l.total):(this.datasetViewList=[],this.page.total=0)}).finally(()=>{this.datasetViewVisible=!0})},onReset(){let s=this.$F.copy(this.enableArr);for(let e of s)Array.isArray(e.props.defVal)?e.props.defVal=[]:e.props.defVal="";this.enableArr=s}},mounted(){this.row=this.$route.params,this.row.act&&(this.state=this.row.act!=="view",this.feedbackInfo()),window.onresize=()=>{this.conditionHeight=this.handleConHeight()+12}},watch:{enableArr:{deep:!0,handler(s){this.$nextTick(()=>{this.conditionHeight=this.handleConHeight()+12})}}},beforeRouteEnter(s,e,t){s.path==="/querySet"&&e.path==="/"?t("/querypageconfig"):t()}};var k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"querySet"},[t("div",{staticClass:"search-header"},[t("div",{staticClass:"go-back"},[t("i",{staticClass:"el-icon-my-back-search",on:{click:e.goBack}}),t("span",{staticStyle:{cursor:"pointer"},on:{click:e.goBack}},[e._v("\u8FD4\u56DE\u5217\u8868")])]),t("div",{staticClass:"page-name"},[e.editName?t("el-input",{ref:"pageNameIpt",attrs:{type:"text"},on:{blur:function(a){e.editName=!1}},model:{value:e.setInfo.name,callback:function(a){e.$set(e.setInfo,"name",typeof a=="string"?a.trim():a)},expression:"setInfo.name"}}):t("span",{attrs:{title:e.setInfo.name},on:{click:()=>{e.editName=!0,e.$nextTick(()=>{e.$refs.pageNameIpt.focus()})}}},[e._v(" "+e._s(e.setInfo.name)+" ")]),t("i",{directives:[{name:"show",rawName:"v-show",value:!e.editName&&e.row.act!=="view",expression:"!editName && row.act !== 'view'"}],staticClass:"el-icon-my-edit-search",on:{click:()=>{e.editName=!0,e.$nextTick(()=>{e.$refs.pageNameIpt.focus()})}}})],1),e.state?t("div",{staticClass:"fns"},[t("div",{staticClass:"fns-dataset",staticStyle:{cursor:"pointer"},on:{click:e.dataSetHandler}},[t("i",{staticClass:"el-icon-my-dataset-search"}),t("span",[e._v("\u6570\u636E\u96C6")])]),t("el-button",{attrs:{type:"primary"},on:{click:e.savePageCfg}},[e._v("\u4FDD\u5B58")])],1):e._e()]),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.state&&e.showSet,expression:"state && showSet"}],staticClass:"table-set"},[t("div",{staticClass:"table-set-title"},[t("span",[e._v("\u6570\u636E\u96C6\u5B57\u6BB5\u5217\u8868")]),t("i",{staticClass:"el-icon-d-arrow-left",on:{click:()=>{e.showSet=!1,e.$nextTick(()=>{e.conditionHeight=e.handleConHeight()+12})}}})]),t("el-table",{ref:"setInfoTable",staticClass:"setInfoTable",staticStyle:{width:"100%"},attrs:{data:e.setInfo.data,stripe:"",height:"calc(100% - 33px)","row-class-name":e.setRowActiveClass},on:{"selection-change":e.handleSelectionChange}},[t("template",{slot:"empty"},[t("img",{attrs:{src:p,alt:""}}),t("span",[e._v("\u6682\u65E0\u6570\u636E\u54E6\uFF5E")])]),t("el-table-column",{attrs:{type:"selection",width:"42"}}),t("el-table-column",{attrs:{width:"54",label:"\u5E8F\u53F7"},scopedSlots:e._u([{key:"default",fn:function({$index:a}){return[t("div",{staticStyle:{"text-align":"center"}},[e._v(e._s(a))])]}}])}),t("el-table-column",{attrs:{prop:"name","show-overflow-tooltip":"",label:"\u5B57\u6BB5\u540D"}}),t("el-table-column",{attrs:{prop:"alias",label:"\u522B\u540D"},scopedSlots:e._u([{key:"default",fn:function({row:a}){return[t("el-input",{attrs:{type:"text",placeholder:"\u8BF7\u8F93\u5165\u522B\u540D"},on:{focus:()=>{a.allowDrag=!1},blur:()=>{a.allowDrag=!0}},model:{value:a.alias,callback:function(i){e.$set(a,"alias",typeof i=="string"?i.trim():i)},expression:"row.alias"}})]}}])}),t("el-table-column",{attrs:{prop:"width",label:"\u5217\u5BBD",width:"100"},scopedSlots:e._u([{key:"default",fn:function({row:a}){return[t("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",size:"small"},on:{focus:()=>{a.allowDrag=!1},blur:()=>{a.allowDrag=!0}},model:{value:a.width,callback:function(i){e.$set(a,"width",typeof i=="string"?i.trim():i)},expression:"row.width"}})]}}])}),e.currentDataSet&&e.currentDataSet.datset_type!=="P"?[t("el-table-column",{attrs:{label:"\u641C\u7D22",width:"55"},scopedSlots:e._u([{key:"default",fn:function({row:a}){return[t("el-switch",{attrs:{"active-color":"#007aff","inactive-color":"#bfbfbf"},on:{change:i=>{i||(a.type="")}},model:{value:a.search,callback:function(i){e.$set(a,"search",i)},expression:"row.search"}})]}}],null,!1,2788940341)}),t("el-table-column",{attrs:{label:"\u641C\u7D22\u7C7B\u578B",width:e.handleCellWidth()},scopedSlots:e._u([{key:"default",fn:function({row:a}){return[a.search?[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{change:i=>{e.handleTypeChange(i,a)}},model:{value:a.type,callback:function(i){e.$set(a,"type",i)},expression:"row.type"}},e._l(e.typeDic,function(i){return t("el-option",{key:i.value,attrs:{label:i.label,value:i.value}})}),1)]:e._e()]}}],null,!1,5285924)}),t("el-table-column",{attrs:{fixed:"right",label:"\u64CD\u4F5C",width:"58"},scopedSlots:e._u([{key:"default",fn:function({row:a}){return[["dRadio","dCheckbox","dSelect","dTime"].includes(a.type)?t("el-button",{staticStyle:{display:"inline-flex","font-size":"14px"},attrs:{type:"text",size:"small"},on:{click:()=>{e.dicSetRow=a,e.dicSetDrawer=!0}}},[e._v(" \u914D\u7F6E ")]):e._e()]}}],null,!1,813515237)})]:e._e()],2)],1),e.showSet?e._e():t("div",{staticClass:"show-bar"},[t("i",{staticClass:"el-icon-d-arrow-right",on:{click:()=>{e.showSet=!0,e.$nextTick(()=>{e.conditionHeight=e.handleConHeight()+12})}}})]),t("div",{ref:"tableView",staticClass:"table-view",style:{width:e.currentDataSet&&e.state?"calc(100% - 804px)":"100%"}},[t("div",{staticClass:"conditions",class:{"conditions-more":e.showMore},style:{height:`${e.conditionHeight}px`}},[t("div",{staticClass:"condition-group"},[e._l(e.enableArr.filter(a=>a.search&&a.type),function(a){return[t("div",{key:a.name,ref:"conditionItem",refInFor:!0,staticClass:"condition-item"},[t("span",{staticClass:"condition-item-label"},[e._v(e._s(a.alias)+"\uFF1A")]),a.type==="dInput"?[t("el-input",{staticClass:"condition-item-com",attrs:{onKeyUp:"value=value.replace(/[% ]+/g, '')",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",clearable:""},model:{value:a.props.defVal,callback:function(i){e.$set(a.props,"defVal",typeof i=="string"?i.trim():i)},expression:"item.props.defVal"}})]:a.type==="dSelect"?[t("el-select",{staticClass:"condition-item-com",attrs:{multiple:a.props.multiple,"collapse-tags":a.props.multiple,clearable:"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:a.props.defVal,callback:function(i){e.$set(a.props,"defVal",i)},expression:"item.props.defVal"}},e._l(e.filterDicInfo(a.dicType==="1"?a.dicSet:a.dicActiveSet),function(i){return t("el-option",{key:i.value,attrs:{label:i.label,value:i.value}})}),1)]:a.type==="dRadio"?[t("el-radio-group",{staticClass:"condition-item-com",model:{value:a.defVal,callback:function(i){e.$set(a,"defVal",i)},expression:"item.defVal"}},e._l(e.filterDicInfo(a.dicSet),function(i){return t("el-radio",{key:i.value,attrs:{label:i.value}},[e._v(e._s(i.label))])}),1)]:a.type==="dTime"?[a.props.timeType==="datetime"?[t("el-date-picker",{staticClass:"condition-item-com",attrs:{format:a.props.format,"value-format":a.props.format,type:"datetime",placeholder:"\u9009\u62E9\u65E5\u671F\u65F6\u95F4"},model:{value:a.props.defVal,callback:function(i){e.$set(a.props,"defVal",i)},expression:"item.props.defVal"}})]:[t("el-date-picker",{staticClass:"condition-item-com",attrs:{size:"mini",type:"datetimerange",format:a.props.format,"value-format":a.props.format,"range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F"},model:{value:a.props.defVal,callback:function(i){e.$set(a.props,"defVal",i)},expression:"item.props.defVal"}})]]:a.type==="dCheckbox"?[t("el-checkbox-group",{staticClass:"condition-item-com",model:{value:a.props.defVal,callback:function(i){e.$set(a.props,"defVal",i)},expression:"item.props.defVal"}},e._l(e.filterDicInfo(a.dicSet),function(i){return t("el-checkbox",{key:i.value,attrs:{label:i.value}},[e._v(e._s(i.label))])}),1)]:e._e()],2)]})],2),t("div",{staticClass:"condition-btn"},[t("el-button",{on:{click:e.onReset}},[e._v("\u91CD\u7F6E")]),t("el-button",{attrs:{type:"primary"},on:{click:e.queryInfo}},[e._v("\u67E5\u8BE2")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.hadMore,expression:"hadMore"}],staticStyle:{"margin-left":"8px","font-size":"14px"},attrs:{size:"mini",type:"text",icon:e.showMore?"el-icon-caret-top":"el-icon-caret-bottom"},on:{click:()=>{e.showMore=!e.showMore,e.conditionHeight=e.handleConHeight()+12}}},[e._v(" "+e._s(e.showMore?"\u6536\u8D77":"\u5C55\u5F00")+" ")])],1)]),t("el-table",{ref:"enableTable",staticClass:"enableTable",class:{"enableTable-more":e.showMore},attrs:{data:e.datasetViewList,height:e.currentDataSet&&e.currentDataSet.datset_type!=="P"?`calc(100% - ${e.conditionHeight+12+52}px)`:`calc(100% - ${e.conditionHeight+12}px)`}},[t("template",{slot:"empty"},[t("img",{attrs:{src:p,alt:""}}),t("span",[e._v("\u6682\u65E0\u6570\u636E\u54E6\uFF5E")])]),e._l(e.enableArr.filter(a=>a.cType!=="P"),function(a,i){return[t("el-table-column",{key:i,attrs:{prop:a.name,width:a.width,label:a.alias}})]})],2),e.currentDataSet&&e.currentDataSet.datset_type!=="P"?t("d-page",{staticStyle:{padding:"8px","box-sizing":"border-box"},attrs:{"pager-count":5,"current-page":e.page.pageNum,"page-sizes":[10,20,30,50,100],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":a=>{e.page.pageNum=1,e.page.pageSize=a,e.queryInfo()},"current-change":a=>{e.page.pageNum=a,e.queryInfo()}}}):e._e()],1)]),t("el-dialog",{staticClass:"dataset-dialog",attrs:{title:"\u9009\u62E9\u6570\u636E\u96C6",visible:e.datasetVisible,"close-on-click-modal":!1,width:"938px"},on:{"update:visible":function(a){e.datasetVisible=a}}},[e.currentDataSet&&e.currentDataSet.id?t("div",{staticStyle:{display:"flex","align-items":"center","margin-bottom":"8px"}},[t("div",[e._v("\u5F53\u524D\u7ED1\u5B9A\u6570\u636E\u96C6\uFF1A"+e._s(e.currentDataSet.datset_name))])]):e._e(),t("el-container",[t("el-aside",{attrs:{width:"240px"}},[t("categoryTree",{ref:"cusListTree2",attrs:{actived:e.tempDataSetMenu?e.tempDataSetMenu.id:"-0000",setList:e.dataSetMenu,list:e.listFlat,boxwidth:"240px","is-editable":!1,type:"3",treeTitle:"\u67E5\u8BE2\u9875\u9762\u914D\u7F6E"},on:{chooseType:a=>{e.tempDataSetMenu=JSON.parse(JSON.stringify(a)),e.getSetTableList(a.id)},getCate:e.getCate}})],1),t("el-main",[t("el-row",e._l(e.dataSetList,function(a){return t("el-col",{key:a.id,class:e.tempDataSet&&e.tempDataSet.id===a.id?"box-border":"",attrs:{span:12}},[t("div",{staticClass:"box-btn",on:{click:function(i){e.tempDataSet=JSON.parse(JSON.stringify(a))},dblclick:()=>{e.isCbValue?e.getActiveDic(a):e.chooseDataset(a)}}},[t("i",{staticClass:"el-icon-my-dataset2"}),t("div",{staticClass:"box-fit"},[e._v(" "+e._s(a.datset_name)+" "),t("div",{staticClass:"databaseName"},[e._v(" "+e._s(a.datset_content)+" ")])])])])}),1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:()=>{e.isCbValue?e.getActiveDic(e.tempDataSet):e.chooseDataset(e.tempDataSet)}}},[e._v(" \u786E\u5B9A ")]),t("el-button",{on:{click:()=>{e.tempDataSetMenu=null,e.tempDataSet=null,e.datasetVisible=!1,e.isCbValue=!1}}},[e._v(" \u53D6\u6D88 ")])],1)],1),t("el-drawer",{staticClass:"dic-set-drawer",attrs:{title:"\u6570\u636E\u914D\u7F6E",visible:e.dicSetDrawer,wrapperClosable:!1,direction:"rtl","before-close":()=>{e.isCbValue=!1,e.dicSetDrawer=!1},"destroy-on-close":""},on:{"update:visible":function(a){e.dicSetDrawer=a}}},[e.dicSetRow?[["dTime","dSelect"].includes(e.dicSetRow.type)?[t("div",{staticClass:"dic-set-title"},[e._v("\u5C5E\u6027\u914D\u7F6E")]),e.dicSetRow.type==="dTime"?[t("div",{staticClass:"dic-set-prop"},[t("span",[e._v("\u65E5\u671F\u9009\u62E9\u5668\u7C7B\u578B\uFF1A")]),t("el-select",{staticClass:"dic-set-prop-com",attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{change:a=>{a==="datetimerange"?e.dicSetRow.props.defVal=[]:e.dicSetRow.props.defVal=""}},model:{value:e.dicSetRow.props.timeType,callback:function(a){e.$set(e.dicSetRow.props,"timeType",a)},expression:"dicSetRow.props.timeType"}},e._l(e.timeTypeDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1)],1),t("div",{staticClass:"dic-set-prop"},[t("span",[e._v("\u65E5\u671F\u683C\u5F0F\u5316\u9009\u62E9\uFF1A")]),t("el-select",{staticClass:"dic-set-prop-com",attrs:{placeholder:"\u8BF7\u9009\u62E9"},model:{value:e.dicSetRow.props.format,callback:function(a){e.$set(e.dicSetRow.props,"format",a)},expression:"dicSetRow.props.format"}},e._l(e.timeFormatDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1)],1)]:[t("div",{staticClass:"dic-set-prop"},[t("span",[e._v("\u662F\u5426\u591A\u9009\uFF1A")]),t("el-switch",{staticClass:"dic-set-prop-com",attrs:{"active-color":"#007aff","inactive-color":"#bfbfbf"},on:{change:a=>{a?e.dicSetRow.props.defVal=[]:e.dicSetRow.props.defVal=""}},model:{value:e.dicSetRow.props.multiple,callback:function(a){e.$set(e.dicSetRow.props,"multiple",a)},expression:"dicSetRow.props.multiple"}})],1)]]:e._e(),e.dicSetRow.type!=="dTime"?[e.dicSetRow.type==="dSelect"?[t("div",{staticClass:"dic-set-title"},[e._v("\u5B57\u5178\u914D\u7F6E")]),t("div",{staticStyle:{color:"#9da3ac","font-size":"14px","margin-bottom":"8px"}},[e._v("\u6570\u636E\u6765\u6E90")]),t("el-select",{staticClass:"dic-origin-select",staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},model:{value:e.dicSetRow.dicType,callback:function(a){e.$set(e.dicSetRow,"dicType",a)},expression:"dicSetRow.dicType"}},[t("el-option",{attrs:{label:"\u9759\u6001\u6570\u636E",value:"1"}}),t("el-option",{attrs:{label:"\u52A8\u6001\u6570\u636E",value:"2"}})],1),e.dicSetRow.dicType==="1"?t("div",{staticClass:"dic-static"},[t("div",{staticClass:"dic-con"},[t("div",{staticClass:"dic-title"},[t("span",{staticStyle:{"margin-right":"8px"}},[e._v("\u6807\u7B7E")]),t("span",[e._v("\u503C")])]),!e.dicSetRow||e.dicSetRow.dicSet.length===0?t("div",{staticStyle:{"text-align":"center"}},[e._v("\u6682\u65E0\u6570\u636E")]):e._e(),e._l(e.dicSetRow.dicSet,function(a,i){return t("div",{key:i,staticClass:"option-item"},[t("el-input",{staticStyle:{width:"126px","margin-right":"8px"},attrs:{type:"text",placeholder:"\u6807\u9898"},model:{value:a.label,callback:function(l){e.$set(a,"label",typeof l=="string"?l.trim():l)},expression:"item.label"}}),t("el-input",{staticStyle:{width:"126px","margin-right":"8px"},attrs:{type:"text",placeholder:"\u503C"},model:{value:a.value,callback:function(l){e.$set(a,"value",typeof l=="string"?l.trim():l)},expression:"item.value"}}),t("i",{staticClass:"el-icon-delete",on:{click:function(l){return e.dicSetRow.dicSet.splice(i,1)}}})],1)})],2),t("div",{staticClass:"add-btn",staticStyle:{"font-size":"14px",width:"73px"},on:{click:()=>{e.dicSetRow.dicSet.push({label:"",value:""})}}},[t("div",{staticClass:"plus"}),e._v(" \u65B0\u589E\u5173\u8054 ")])]):e.dicSetRow.dicType==="2"?t("div",{staticClass:"dic-active"},[t("div",{staticStyle:{color:"#9da3ac","font-size":"14px",margin:"8px 0"}},[e._v("\u52A8\u6001\u5B57\u5178\u6570\u636E\u6E90")]),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{focus:e.handleDicOrigin},model:{value:e.dicSetRow.datset_name,callback:function(a){e.$set(e.dicSetRow,"datset_name",a)},expression:"dicSetRow.datset_name"}})],1):e._e()]:e.dicSetRow.type!=="dSelect"?t("div",{staticClass:"dic-set-container isStatic",staticStyle:{height:"calc(100% - 33px)"}},[!e.dicSetRow||e.dicSetRow.dicSet.length===0?t("div",{staticClass:"dic-set__empty"},[t("div",[e._v("\u6682\u65E0\u6570\u636E")]),t("el-button",{attrs:{type:"primary"},on:{click:()=>{e.dicSetRow.dicSet.push({label:"",value:""})}}},[e._v(" \u65B0\u589E\u6570\u636E ")])],1):e._l(e.dicSetRow.dicSet,function(a,i){return t("div",{key:i,staticClass:"dic-set-item"},[t("div",{staticClass:"dic-set-con"},[t("el-input",{staticStyle:{"margin-bottom":"8px"},attrs:{placeholder:"\u8BF7\u8F93\u5165\u9009\u9879\u540D\u79F0"},model:{value:a.label,callback:function(l){e.$set(a,"label",typeof l=="string"?l.trim():l)},expression:"item.label"}}),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u9009\u9879\u503C"},model:{value:a.value,callback:function(l){e.$set(a,"value",typeof l=="string"?l.trim():l)},expression:"item.value"}})],1),t("div",{staticClass:"dic-set-tool"},[t("i",{staticClass:"el-icon-remove-outline",staticStyle:{color:"#eb291e","margin-bottom":"8px"},on:{click:function(l){return e.dicSetRow.dicSet.splice(i,1)}}}),i==e.dicSetRow.dicSet.length-1?t("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{color:"#007aff"},on:{click:()=>{e.dicSetRow.dicSet.push({label:"",value:""})}}}):e._e()])])})],2):e._e()]:e._e()]:e._e()],2)],1)},T=[],x=h(C,k,T,!1,null,"497144c6",null,null);const Ce=x.exports;export{Ce as default};
