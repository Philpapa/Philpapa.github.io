import{c as w,n as h,e as g,i as k,t as A,a as O}from"./_@vueuse_shared@10.7.2@@vueuse-de6891b4.js";import"./_vue-demi@0.14.6@vue-demi-7b32015b.js";import{w as I}from"./_vue@2.7.16@vue-83e28a6d.js";function f(i){var s;const n=A(i);return(s=n==null?void 0:n.$el)!=null?s:n}const L=w?window:void 0;w&&window.document;w&&window.navigator;w&&window.location;function y(...i){let s,n,o,u;if(typeof i[0]=="string"||Array.isArray(i[0])?([n,o,u]=i,s=L):[s,n,o,u]=i,!s)return h;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const d=[],m=()=>{d.forEach(c=>c()),d.length=0},l=(c,a,e,t)=>(c.addEventListener(a,e,t),()=>c.removeEventListener(a,e,t)),p=I(()=>[f(s),A(u)],([c,a])=>{if(m(),!c)return;const e=k(a)?{...a}:a;d.push(...n.flatMap(t=>o.map(r=>l(c,t,r,e))))},{immediate:!0,flush:"post"}),v=()=>{p(),m()};return O(v),v}let E=!1;function C(i,s,n={}){const{window:o=L,ignore:u=[],capture:d=!0,detectIframe:m=!1}=n;if(!o)return h;g&&!E&&(E=!0,Array.from(o.document.body.children).forEach(e=>e.addEventListener("click",h)),o.document.documentElement.addEventListener("click",h));let l=!0;const p=e=>u.some(t=>{if(typeof t=="string")return Array.from(o.document.querySelectorAll(t)).some(r=>r===e.target||e.composedPath().includes(r));{const r=f(t);return r&&(e.target===r||e.composedPath().includes(r))}}),c=[y(o,"click",e=>{const t=f(i);if(!(!t||t===e.target||e.composedPath().includes(t))){if(e.detail===0&&(l=!p(e)),!l){l=!0;return}s(e)}},{passive:!0,capture:d}),y(o,"pointerdown",e=>{const t=f(i);l=!p(e)&&!!(t&&!e.composedPath().includes(t))},{passive:!0}),m&&y(o,"blur",e=>{setTimeout(()=>{var t;const r=f(i);((t=o.document.activeElement)==null?void 0:t.tagName)==="IFRAME"&&!(r!=null&&r.contains(o.document.activeElement))&&s(e)},0)})].filter(Boolean);return()=>c.forEach(e=>e())}export{C as o};
