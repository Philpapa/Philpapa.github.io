import{r as x,u as r,c as Q,w as fe,P,l as oe,y as ue,Z as zt,M as be,A as jt,B as Ht,i as Ne}from"./_vue@2.7.16@vue-83e28a6d.js";import{n as B,u as ve,b as ge,_ as Pe,e as rt,F as u,f as qt,h as Wt,i as Je,j as it,k as Jt,l as Gt,m as Ut,o as Qt,p as Kt,q as Yt,s as Zt,a as Xt}from"./index-f23e66cc.js";import{e as H}from"./_element-ui@2.15.14@element-ui-fc052bc5.js";import{P as el}from"./printFn-35418519.js";import{F as tl}from"./_file-saver@2.0.5@file-saver-fdbc3d5f.js";import{c as We}from"./index-9e04d314.js";import{v as ll}from"./_@vueuse_components@10.7.2@@vueuse-6559d0e7.js";import{c as Oe}from"./category-b830facf.js";import{c as ol}from"./codeMirror-a07bfd37.js";import{r as al}from"./renderFormByJson-f12da1d8.js";import{d as Ae,c as st,r as il}from"./index-3e7639ed.js";import"./_@antv_x6-common@2.0.17@@antv-5f61d1c3.js";import"./_lodash-es@4.17.21@lodash-es-326016e5.js";import"./_vuex@3.6.2@vuex-0d722715.js";import"./_axios@1.6.6@axios-0e1c8a69.js";import"./_side-channel@1.0.4@side-channel-286692b5.js";import"./_get-intrinsic@1.2.2@get-intrinsic-d65d77de.js";import"./_has-symbols@1.0.3@has-symbols-af84758f.js";import"./_has-proto@1.0.1@has-proto-ed1b0be6.js";import"./_function-bind@1.1.2@function-bind-0a5fc7a8.js";import"./_hasown@2.0.0@hasown-843e4100.js";import"./_call-bind@1.0.5@call-bind-875e1b33.js";import"./_set-function-length@1.2.0@set-function-length-16fcf548.js";import"./_define-data-property@1.1.1@define-data-property-b4413702.js";import"./_has-property-descriptors@1.0.1@has-property-descriptors-19326040.js";import"./_gopd@1.0.1@gopd-5fc553b7.js";import"./_qs@6.11.2@qs-b0c89749.js";import"./_vue-router@3.5.3@vue-router-44f70d6f.js";import"./_nanoid@3.3.7@nanoid-3ec3f908.js";import"./_gm-crypto@0.1.12@gm-crypto-0d53e928.js";import"./_to-arraybuffer@1.0.1@to-arraybuffer-11df8309.js";import"./_buffer@5.7.1@buffer-3f1a9d90.js";import"./_base64-js@1.5.1@base64-js-787d8b6c.js";import"./_ieee754@1.2.1@ieee754-00029a05.js";import"./_jsbn@1.1.0@jsbn-569987c9.js";import"./_element-resize-detector@1.2.4@element-resize-detector-0b105688.js";import"./_batch-processor@1.0.0@batch-processor-252a9c8d.js";import"./_@vueuse_core@10.7.2@@vueuse-c641c031.js";import"./_@vueuse_shared@10.7.2@@vueuse-de6891b4.js";import"./_vue-demi@0.14.6@vue-demi-7b32015b.js";import"./_v-region@2.3.0@v-region-1f02d150.js";import"./_@antv_x6@2.18.1@@antv-b1d372ee.js";import"./_@antv_x6-geometry@2.0.5@@antv-094791ee.js";import"./_@antv_x6-vue-shape@2.1.1@@antv-8e71ca73.js";import"./_vuedraggable@2.24.3@vuedraggable-31bb3ba2.js";import"./_sortablejs@1.10.2@sortablejs-39264ca6.js";import"./_deepmerge@1.5.2@deepmerge-251d9111.js";import"./_resize-observer-polyfill@1.5.1@resize-observer-polyfill-9304753a.js";import"./_throttle-debounce@1.1.0@throttle-debounce-d93b3c53.js";import"./_babel-helper-vue-jsx-merge-props@2.0.3@babel-helper-vue-jsx-merge-props-72d30afb.js";import"./_normalize-wheel@1.0.1@normalize-wheel-1b789469.js";import"./_async-validator@1.8.5@async-validator-0d2cd599.js";import"./_babel-runtime@6.26.0@babel-runtime-ff8b37cd.js";import"./_core-js@2.6.12@core-js-edebcccf.js";import"./_codemirror@5.65.16@codemirror-ee333bfa.js";const sl={__name:"formResize",emits:["cResize"],setup(f,{emit:e}){const t=x(100),l=x(10),o=$=>{let T=r(t)+$;T>200||T<50||(t.value=T,e("cResize",T))},s=$=>{t.value=$,e("cResize",r(t))},a=x(!1);return{__sfc:!0,emit:e,resizeRatio:t,resizeStep:l,onResizeRatioChange:o,onResizeSet:s,isHovered:a,onHover:$=>{a.value=$},sizeList:[50,100,150,200],vElementHover:ll}}};var rl=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{staticClass:"form-resize"},[t("d-icon",{attrs:{name:"pAmplify",size:"28"},on:{click:function(o){return o.preventDefault(),o.stopPropagation(),l.onResizeRatioChange(l.resizeStep*-1)}}}),t("span",{directives:[{name:"element-hover",rawName:"v-element-hover",value:l.onHover,expression:"onHover"}],class:{"is-hover":l.isHovered}},[e._v(e._s(l.resizeRatio)+"%")]),t("d-icon",{attrs:{name:"pReduce",size:"28"},on:{click:function(o){return o.preventDefault(),o.stopPropagation(),l.onResizeRatioChange(l.resizeStep)}}}),t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"element-hover",rawName:"v-element-hover",value:l.onHover,expression:"onHover"},{name:"show",rawName:"v-show",value:l.isHovered,expression:"isHovered"}],staticClass:"resize-choose"},e._l(l.sizeList,function(o){return t("div",{key:o,staticClass:"size-item",on:{click:function(s){return l.onResizeSet(o)}}},[e._v(e._s(o)+"%")])}),0)])],1)},nl=[],cl=B(sl,rl,nl,!1,null,"4ef4e414",null,null);const dl=cl.exports;const pl={__name:"dataset-dialog",props:{editorModel:{type:Object},config:{type:Object},value:{type:Boolean}},emits:["input"],setup(f,{emit:e}){const t=f,{usedDatasetList:l}=ve({usedDatasetList:m=>m.form.choosedDataset}),{setUsedDatasetList:o}=ge({setUsedDatasetList:"form/SET_CHOOSE_DATASET"}),s=Q({get:()=>t.value,set:m=>{e("input",m)}}),a=x({list:[],bindDataset:null,chooseDataset:{},chooseSelect:null}),D=()=>{let m={datset_id:t.editorModel.props.datset_id,datset_name:t.editorModel.props.datset_name};["dicDataSet","busDataSet"].includes(t.config.type)&&(m=t.editorModel.props[t.config.type]),m.datset_id&&(a.value.bindDataset={id:m.datset_id,name:m.datset_name},a.value.chooseSelect={id:m.datset_id,name:m.datset_name})};return fe(s,m=>{!m||D()},{immediate:!0}),{__sfc:!0,emit:e,props:t,usedDatasetList:l,setUsedDatasetList:o,showDialog:s,datasetObj:a,initDatasetObj:D,getDatasetList:(m,_)=>{rt({pageNum:0,pageSize:0,filter:{sortId:m,dat_range:_}}).then(M=>{const{status:w,data:{list:b},msg:F}=M;w==104?a.value.list=b||[]:H.exports.Message.warning(F)})},cancelBindDataset:async()=>{if(!await H.exports.MessageBox.confirm("\u662F\u5426\u53D6\u6D88\u7ED1\u5B9A\u6570\u636E\u96C6\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>!0).catch(()=>!1))return;let _=u.copy(t.editorModel.props),p=_.datset_id;delete _.datset_id,delete _.datset_name,delete _.sort_id,P(t.editorModel,"props",_);let M=u.copy(r(l));M=M.filter(w=>w!==p),M=Array.from(new Set(M)),o(M),a.value={list:[],bindDataset:null,chooseDataset:{},chooseSelect:null},s.value=!1},datasetCancel:()=>{a.value={list:[],bindDataset:null,chooseDataset:{},chooseSelect:null},s.value=!1},saveDataset:async m=>{if(!m){H.exports.Message.warning("\u8BF7\u9009\u62E9\u6570\u636E\u96C6");return}const _=t.config.type,{id:p,datset_name:M,sort_id:w}=m;if(_==="selectActive"){let L=!1;if(await qt({datset_id:p,datset_name:M}).then(E=>{E.status===100&&(L=!0)}),!L)return}let b=u.copy(t.editorModel.props),F=b.datset_id;_==="dicDataSet"?(F=b.dicDataSet.datset_id,b.dicDataSet={datset_id:p,datset_name:M,sort_id:w}):_==="busDataSet"?(F=b.busDataSet.datset_id,b.busDataSet={datset_id:p,datset_name:M,sort_id:w}):b={...b,datset_id:p,datset_name:M,sort_id:w},P(t.editorModel,"props",b);let N=u.copy(r(l));F&&(N=N.filter(L=>L!==F)),N.push(p),N=Array.from(new Set(N)),o(N),a.value={list:[],bindDataset:null,chooseDataset:{},chooseSelect:null},s.value=!1},category:Oe}}};var ul=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return l.showDialog?t("el-dialog",{key:`${e.editorModel.id}__dialog`,staticClass:"cnt-select-dialog",attrs:{title:"\u9009\u62E9\u6570\u636E\u96C6",visible:l.showDialog,"close-on-click-modal":!1,"append-to-body":"","before-close":l.datasetCancel,width:"938px"},on:{"update:visible":function(o){l.showDialog=o}}},[l.datasetObj.bindDataset?t("div",{staticStyle:{display:"flex","align-items":"center","margin-bottom":"8px"}},[t("div",[e._v("\u5F53\u524D\u7ED1\u5B9A\u6570\u636E\u96C6\uFF1A"+e._s(l.datasetObj.bindDataset.name))])]):e._e(),l.showDialog?t("el-container",[t("el-aside",{attrs:{width:"240px"}},[t(l.category,{attrs:{type:"1",inner:"choose",initData:l.datasetObj.chooseDataset},on:{"node-click":(o,s)=>{l.datasetObj.chooseDataset={...o,dat_range:s},l.getDatasetList(o.id,s)}}})],1),t("el-main",[l.datasetObj.list.length>0?t("el-row",e._l(l.datasetObj.list,function(o){return t("el-col",{key:o.id,class:{"box-border":l.datasetObj.chooseSelect&&l.datasetObj.chooseSelect.id===o.id,"disable-btn":l.usedDatasetList.includes(o.id)},attrs:{span:4}},[t("div",{staticClass:"box-btn",on:{click:function(s){l.datasetObj.chooseSelect=JSON.parse(JSON.stringify(o))},dblclick:function(s){return l.saveDataset(o)}}},[t("i",{staticClass:"el-icon-my-dataset2"}),t("div",{staticClass:"box-fit"},[e._v(" "+e._s(o.datset_name)+" "),t("div",{staticClass:"databaseName"},[e._v(" "+e._s(o.datset_content)+" ")])])])])}),1):t("div",{staticClass:"fe-full"},[t("el-empty",{attrs:{image:Pe,description:"\u6682\u65E0\u6570\u636E\u54E6\uFF5E","image-size":200}})],1)],1)],1):e._e(),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(o){return l.saveDataset(l.datasetObj.chooseSelect)}}},[e._v("\u786E\u5B9A")]),l.datasetObj.bindDataset&&l.datasetObj.bindDataset.id?t("el-button",{attrs:{type:"primary",plain:""},on:{click:l.cancelBindDataset}},[e._v("\u53D6\u6D88\u7ED1\u5B9A")]):e._e(),t("el-button",{on:{click:l.datasetCancel}},[e._v("\u53D6\u6D88")])],1)],1):e._e()},fl=[],ml=B(pl,ul,fl,!1,null,"4ca8529d",null,null);const $e=ml.exports;const _l={__name:"active-table-dataset-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=x(!1);return{__sfc:!0,props:e,datasetVisible:t,DatasetDialog:$e}}};var bl=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{focus:function(o){l.datasetVisible=!0}},model:{value:e.editorModel.props.datset_name,callback:function(o){e.$set(e.editorModel.props,"datset_name",o)},expression:"editorModel.props.datset_name"}}),t(l.DatasetDialog,{attrs:{editorModel:e.editorModel,config:{type:"activeTable"}},model:{value:l.datasetVisible,callback:function(o){l.datasetVisible=o},expression:"datasetVisible"}})],2)},vl=[],gl=B(_l,bl,vl,!1,null,"335dced3",null,null);const hl=gl.exports,yl=Object.freeze(Object.defineProperty({__proto__:null,default:hl},Symbol.toStringTag,{value:"Module"}));function ae(f){const e=f.config.prop,t=f.config.root,l=f.config.isAttr,o=Q({get:()=>t?f.editorModel[e]:l?f.editorModel.attrs.find(a=>a.key===e).value:f.editorModel.props[e],set:s=>{if(t)P(f.editorModel,e,s);else if(l){let a=f.editorModel.attrs.find(D=>D.key===e);P(a,"value",s)}else P(f.editorModel.props,e,s)}});return u.isEmpty(r(o))&&"def"in f.config&&(o.value=f.config.def),o}const Cl={__name:"button-group-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=ae(e);return{__sfc:!0,props:e,input:t}}};var xl=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-radio-group",{model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},e._l(e.config.dic,function(o){return t("el-radio-button",{key:o.value,attrs:{label:o.value}},[e._v(e._s(o.label))])}),1)],2)},Sl=[],kl=B(Cl,xl,Sl,!1,null,"97488429",null,null);const Dl=kl.exports,Ml=Object.freeze(Object.defineProperty({__proto__:null,default:Dl},Symbol.toStringTag,{value:"Module"}));const wl={__name:"color-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=ae(e);return{__sfc:!0,props:e,input:t}}};var Tl=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-color-picker",{attrs:{"show-alpha":"","popper-class":"divider-color"},model:{value:l.input,callback:function(o){l.input=o},expression:"input"}})],2)},Nl=[],Al=B(wl,Tl,Nl,!1,null,"413856cf",null,null);const Pl=Al.exports,Ol=Object.freeze(Object.defineProperty({__proto__:null,default:Pl},Symbol.toStringTag,{value:"Module"}));const $l={__name:"input-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=ae(e),l=Q(()=>e.config.attrs||{placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"});return{__sfc:!0,props:e,input:t,attrs:l}}};var Rl=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-input",e._b({model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},"el-input",l.attrs,!1))],2)},Ll=[],Il=B($l,Rl,Ll,!1,null,"87e12bbb",null,null);const Fl=Il.exports,El=Object.freeze(Object.defineProperty({__proto__:null,default:Fl},Symbol.toStringTag,{value:"Module"}));const Vl={__name:"input-number-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=ae(e);return{__sfc:!0,props:e,input:t}}};var Bl=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-input-number",e._b({attrs:{"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",size:"medium"},model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},"el-input-number",e.config.attrs,!1))],2)},zl=[],jl=B(Vl,Bl,zl,!1,null,"b0f7f7ce",null,null);const Hl=jl.exports,ql=Object.freeze(Object.defineProperty({__proto__:null,default:Hl},Symbol.toStringTag,{value:"Module"}));const Wl={__name:"select-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=ae(e);return{__sfc:!0,props:e,input:t}}};var Jl=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-select",e._b({attrs:{placeholder:"\u8BF7\u9009\u62E9"},model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},"el-select",e.config.attrs,!1),e._l(e.config.dic,function(o){return t("el-option",{key:o.value,attrs:{label:o.label,value:o.value}})}),1)],2)},Gl=[],Ul=B(Wl,Jl,Gl,!1,null,"6f80cdfb",null,null);const Ql=Ul.exports,Kl=Object.freeze(Object.defineProperty({__proto__:null,default:Ql},Symbol.toStringTag,{value:"Module"}));const Yl={__name:"switch-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=ae(e);return{__sfc:!0,props:e,input:t,onChange:o=>{!e.config.listeners||!e.config.listeners.change||e.config.listeners.change(o,e.editorModel)}}}};var Zl=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{key:e.config.prop+"Editor"},[e.config.rLabel?t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.rLabel))])]):e._e(),t("div",{staticClass:"switch-con"},[t("span",[e._v(e._s(e.config.label))]),t("el-switch",e._g(e._b({attrs:{"active-color":"#007aff","inactive-color":"#939BA6"},on:{change:l.onChange},model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},"el-switch",e.config.attrs,!1),e.$listeners))],1)],2)},Xl=[],eo=B(Yl,Zl,Xl,!1,null,"2b5bae95",null,null);const nt=eo.exports,to=Object.freeze(Object.defineProperty({__proto__:null,default:nt},Symbol.toStringTag,{value:"Module"}));const lo={__name:"compute-table-hCode-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=Q(()=>e.editorModel.children.length),l=o=>{if(o>0){let s=e.editorModel.props.hCodeList.length,a=e.editorModel.children.map(S=>S.props.dic.length),D=Math.max(...a);if(D>s){let S=new Array(D-s).fill(1);S=S.map($=>({value:$})),P(e.editorModel.props,"hCodeList",[...e.editorModel.props.hCodeList,...S])}else D<s&&P(e.editorModel.props,"hCodeList",e.editorModel.props.hCodeList.slice(0,D))}else o===0&&e.editorModel.props.hCodeList.length>0&&P(e.editorModel.props,"hCodeList",[])};return fe(t,l,{deep:!0,immediate:!0}),{__sfc:!0,props:e,childLen:t,onInitHCodeList:l}}};var oo=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("el-form-item",{key:"compute-table-hCode-editor"},[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),e._l(e.editorModel.props.hCodeList,function(l,o){return t("el-input-number",{key:o,attrs:{"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",size:"medium",min:1,max:10},model:{value:l.value,callback:function(s){e.$set(l,"value",s)},expression:"col.value"}})})],2)},ao=[],io=B(lo,oo,ao,!1,null,"b7ac6d89",null,null);const so=io.exports,ro=Object.freeze(Object.defineProperty({__proto__:null,default:so},Symbol.toStringTag,{value:"Module"})),ct=[{label:"\u7B49\u4E8E",value:"equal"},{label:"\u4E0D\u7B49\u4E8E",value:"notEqual"},{label:"\u5927\u4E8E",value:"greater"},{label:"\u5927\u4E8E\u7B49\u4E8E",value:"greaterEqual"},{label:"\u5C0F\u4E8E",value:"less"},{label:"\u5C0F\u4E8E\u7B49\u4E8E",value:"lessEqual"},{label:"\u5305\u542B",value:"includes"},{label:"\u4E0D\u5305\u542B",value:"notIncludes"}],dt=[{label:"\u4E0E",value:"and"},{label:"\u6216",value:"or"}];const no={__name:"connect-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=x({}),l=x(!1),o=()=>{t.value=u.copy(e.editorModel.props),l.value=!0},s=oe("flatData",[]),a=()=>{t.value={},l.value=!1},D=()=>{P(e.editorModel,"props",u.copy(r(t))),t.value={},l.value=!1},S=(p,M,w)=>{if(w==="del")if(p!=0){let b=u.copy(r(t)[M]);b.splice(p,1),P(t.value,M,b)}else P(t.value,M,[{id:u.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}]);else if(w==="add"){let b=u.copy(r(t)[M]);b.push({id:u.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}),P(t.value,M,b)}},$=x(!1),T=x(null),v=Q(()=>r($)?r(s).filter(p=>p.id!==e.editorModel.id&&(p.props.cntCompDisArr||p.props.cntCompReqArr||p.props.cntCompShowArr)):[]);return{__sfc:!0,props:e,tempProps:t,relationVisible:l,onInitConnectConfig:o,flatData:s,onCancel:a,onSave:D,onControlRelateNum:S,importVisible:$,importChoose:T,importDic:v,onImportSave:()=>{let p=r(s).find(M=>M.id===r(T));p&&(P(t.value,"cntCompDisArr",u.copy(p.props.cntCompDisArr)),r(t).isRequired&&P(t.value,"cntCompReqArr",u.copy(p.props.cntCompReqArr)),P(t.value,"cntCompShowArr",u.copy(p.props.cntCompShowArr))),$.value=!1,T.value=null},onImportCancel:()=>{$.value=!1,T.value=null},compareDic:ct,logicDic:dt}}};var co=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-button",{staticClass:"config-btn",attrs:{plain:"",type:"primary"},on:{click:l.onInitConnectConfig}},[e._v("\u914D\u7F6E\u5173\u8054\u5173\u7CFB")]),l.relationVisible?t("el-dialog",{staticClass:"relation-dialog",attrs:{title:"\u6DFB\u52A0\u5173\u8054\u5173\u7CFB","append-to-body":"","close-on-click-modal":!1,visible:l.relationVisible,"before-close":l.onCancel},on:{"update:visible":function(o){l.relationVisible=o}}},[t("div",{staticClass:"relate-notice"},[t("i",{staticClass:"el-icon-info"}),t("span",[e._v("\u5F53\u5173\u8054\u5173\u7CFB\u4E0E\u63A7\u4EF6\u672C\u8EAB\u6709\u51B2\u7A81\u65F6\uFF0C\u4EE5\u63A7\u4EF6\u5173\u7CFB\u4E3A\u51C6\u3002")])]),t("div",{staticClass:"relate-container"},[t("div",{staticClass:"relate-title"},[e._v("\u7981\u7528\u5173\u7CFB")]),t("div",{staticClass:"relate-container",staticStyle:{"margin-bottom":"12px"}},[t("div",{staticClass:"relate-title"},[t("span",[e._v("\u5173\u8054\u7EC4\u4EF6/\u53C2\u6570")]),t("span",[e._v("\u5173\u7CFB\u7B26")]),t("span",[e._v("\u503C")]),t("span",[e._v("\u903B\u8F91\u8FD0\u7B97\u7B26")])]),e._l(l.tempProps.cntCompDisArr,function(o,s){return t("div",{key:o.id,staticClass:"relate-item"},[t("el-select",{attrs:{clearable:"","allow-create":"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.cntCompId,callback:function(a){e.$set(o,"cntCompId",typeof a=="string"?a.trim():a)},expression:"item.cntCompId"}},e._l(l.flatData,function(a){return t("el-option",{key:a.id,attrs:{disabled:a.id===e.editorModel.id,label:a.label,value:a.id}})}),1),t("el-select",{attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.op,callback:function(a){e.$set(o,"op",a)},expression:"item.op"}},e._l(l.compareDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("el-input",{attrs:{type:"text",placeholder:"\u8BF7\u8F93\u5165"},model:{value:o.val,callback:function(a){e.$set(o,"val",a)},expression:"item.val"}}),t("el-select",{attrs:{clearable:"",disabled:s===l.tempProps.cntCompDisArr.length-1,placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.logicOp,callback:function(a){e.$set(o,"logicOp",a)},expression:"item.logicOp"}},e._l(l.logicDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("i",{directives:[{name:"show",rawName:"v-show",value:s===l.tempProps.cntCompDisArr.length-1,expression:"index === tempProps.cntCompDisArr.length - 1"}],staticClass:"el-icon-my-relAdd",staticStyle:{"margin-right":"8px"},on:{click:function(a){return l.onControlRelateNum(s,"cntCompDisArr","add")}}}),t("i",{staticClass:"el-icon-my-relDel",on:{click:function(a){return l.onControlRelateNum(s,"cntCompDisArr","del")}}})],1)})],2),l.tempProps.isRequired?[t("div",{staticClass:"relate-title"},[e._v("\u5FC5\u586B\u5173\u7CFB")]),t("div",{staticClass:"relate-container",staticStyle:{"margin-bottom":"12px"}},[t("div",{staticClass:"relate-title"},[t("span",[e._v("\u5173\u8054\u7EC4\u4EF6/\u53C2\u6570")]),t("span",[e._v("\u5173\u7CFB\u7B26")]),t("span",[e._v("\u503C")]),t("span",[e._v("\u903B\u8F91\u8FD0\u7B97\u7B26")])]),e._l(l.tempProps.cntCompReqArr,function(o,s){return t("div",{key:o.id,staticClass:"relate-item"},[t("el-select",{attrs:{clearable:"","allow-create":"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.cntCompId,callback:function(a){e.$set(o,"cntCompId",a)},expression:"item.cntCompId"}},e._l(l.flatData,function(a){return t("el-option",{key:a.id,attrs:{disabled:a.id===e.editorModel.id,label:a.label,value:a.id}})}),1),t("el-select",{attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.op,callback:function(a){e.$set(o,"op",a)},expression:"item.op"}},e._l(l.compareDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("el-input",{attrs:{type:"text",placeholder:"\u8BF7\u8F93\u5165"},model:{value:o.val,callback:function(a){e.$set(o,"val",a)},expression:"item.val"}}),t("el-select",{attrs:{clearable:"",disabled:s===l.tempProps.cntCompReqArr.length-1,placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.logicOp,callback:function(a){e.$set(o,"logicOp",a)},expression:"item.logicOp"}},e._l(l.logicDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("i",{directives:[{name:"show",rawName:"v-show",value:s===l.tempProps.cntCompReqArr.length-1,expression:"index === tempProps.cntCompReqArr.length - 1"}],staticClass:"el-icon-my-relAdd",staticStyle:{"margin-right":"8px"},on:{click:function(a){return l.onControlRelateNum(s,"cntCompReqArr","add")}}}),t("i",{staticClass:"el-icon-my-relDel",on:{click:function(a){return l.onControlRelateNum(s,"cntCompReqArr","del")}}})],1)})],2)]:e._e(),t("div",{staticClass:"relate-title"},[e._v("\u9690\u85CF\u5173\u7CFB")]),t("div",{staticClass:"relate-container"},[t("div",{staticClass:"relate-title"},[t("span",[e._v("\u5173\u8054\u7EC4\u4EF6/\u53C2\u6570")]),t("span",[e._v("\u5173\u7CFB\u7B26")]),t("span",[e._v("\u503C")]),t("span",[e._v("\u903B\u8F91\u8FD0\u7B97\u7B26")])]),e._l(l.tempProps.cntCompShowArr,function(o,s){return t("div",{key:o.id,staticClass:"relate-item"},[t("el-select",{attrs:{clearable:"","allow-create":"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.cntCompId,callback:function(a){e.$set(o,"cntCompId",a)},expression:"item.cntCompId"}},e._l(l.flatData,function(a){return t("el-option",{key:a.id,attrs:{disabled:a.id===e.editorModel.id,label:a.label,value:a.id}})}),1),t("el-select",{attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.op,callback:function(a){e.$set(o,"op",a)},expression:"item.op"}},e._l(l.compareDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("el-input",{attrs:{type:"text",placeholder:"\u8BF7\u8F93\u5165"},model:{value:o.val,callback:function(a){e.$set(o,"val",a)},expression:"item.val"}}),t("el-select",{attrs:{clearable:"",disabled:s===l.tempProps.cntCompShowArr.length-1,placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.logicOp,callback:function(a){e.$set(o,"logicOp",a)},expression:"item.logicOp"}},e._l(l.logicDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("i",{directives:[{name:"show",rawName:"v-show",value:s===l.tempProps.cntCompShowArr.length-1,expression:"index === tempProps.cntCompShowArr.length - 1"}],staticClass:"el-icon-my-relAdd",staticStyle:{"margin-right":"8px"},on:{click:function(a){return l.onControlRelateNum(s,"cntCompShowArr","add")}}}),t("i",{staticClass:"el-icon-my-relDel",on:{click:function(a){return l.onControlRelateNum(s,"cntCompShowArr","del")}}})],1)})],2)],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(o){l.importVisible=!0}}},[e._v("\u5BFC\u5165\u5173\u8054\u5173\u7CFB")]),t("el-button",{attrs:{type:"primary"},on:{click:l.onSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onCancel}},[e._v("\u53D6\u6D88")])],1)]):e._e(),l.importVisible?t("el-dialog",{staticClass:"ipt-dialog",attrs:{title:"\u5BFC\u5165","append-to-body":"","close-on-click-modal":!1,visible:l.importVisible,"before-close":l.onImportCancel,width:"294px",top:"203px"},on:{"update:visible":function(o){l.importVisible=o}}},[t("div",[t("div",{staticStyle:{"margin-bottom":"8px"}},[e._v("\u5BFC\u5165\u9009\u62E9\uFF1A")]),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9",filterable:"",clearable:""},model:{value:l.importChoose,callback:function(o){l.importChoose=o},expression:"importChoose"}},e._l(l.importDic,function(o){return t("el-option",{key:o.id,attrs:{label:o.label,value:o.id}})}),1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onImportSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onImportCancel}},[e._v("\u53D6\u6D88")])],1)]):e._e()],2)},po=[],uo=B(no,co,po,!1,null,"cc9213c9",null,null);const fo=uo.exports,mo=Object.freeze(Object.defineProperty({__proto__:null,default:fo},Symbol.toStringTag,{value:"Module"}));const _o={__name:"default-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=ae(e),l=e.editorModel.name;return{__sfc:!0,props:e,input:t,cName:l,handleCompName:D=>{const{name:S}=D;return["dRadio","dCheckbox"].includes(S)?"dSelect":S},handleAttrs:D=>{const{attrs:S,id:$,name:T}=D;let v={};return S.forEach(m=>{const{key:_,value:p,type:M}=m;if(M==="json"){if(!u.isEmpty(_)&&!u.isEmpty(p)){let w=null;try{w=JSON.parse(p),v[_]=w}catch(b){console.log(b)}}}else!u.isEmpty(_)&&!u.isEmpty(p)&&(v[_]=p)}),v={...v,dKey:$},["dRadio","dCheckbox","dSelect"].includes(T)&&(v.clearable=!0),T==="dCheckbox"&&(v.multiple=!0),v},handleDic:D=>{const{props:{dicField:S,dic:$}}=D;return u.isEmpty(S),$}}}};var bo=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),l.cName==="dTime"?t("el-select",{staticStyle:{width:"100%","margin-bottom":"8px"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},model:{value:e.editorModel.props.isDefNow,callback:function(o){e.$set(e.editorModel.props,"isDefNow",o)},expression:"editorModel.props.isDefNow"}},[t("el-option",{attrs:{label:"\u5F53\u524D\u65F6\u95F4",value:!0}}),t("el-option",{attrs:{label:"\u56FA\u5B9A\u503C",value:!1}})],1):e._e(),["dTitle","dText","dImage"].includes(l.cName)?[t("el-input",e._b({attrs:{placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},"el-input",e.config.attrs,!1))]:[t(l.handleCompName(e.editorModel),e._b({key:e.editorModel.id,ref:e.editorModel.id,tag:"component",attrs:{isDef:"",disabled:e.editorModel.props.isDefNow,dic:l.handleDic(e.editorModel)},model:{value:e.editorModel.defVal,callback:function(o){e.$set(e.editorModel,"defVal",o)},expression:"editorModel.defVal"}},"component",l.handleAttrs(e.editorModel),!1))]],2)},vo=[],go=B(_o,bo,vo,!1,null,"9dd1f772",null,null);const ho=go.exports,yo=Object.freeze(Object.defineProperty({__proto__:null,default:ho},Symbol.toStringTag,{value:"Module"}));const Co={__name:"divider-type-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=ae(e);return{__sfc:!0,props:e,input:t}}};var xo=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-select",e._b({attrs:{placeholder:"\u8BF7\u9009\u62E9"},model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},"el-select",e.config.attrs,!1),[t("el-option",{attrs:{value:"solid"}},[t("div",{staticStyle:{height:"0","border-top":"1px solid #000","margin-top":"17px"}})]),t("el-option",{attrs:{value:"dashed"}},[t("div",{staticStyle:{height:"0","border-top":"1px dashed #000","margin-top":"17px"}})]),t("el-option",{attrs:{value:"dotted"}},[t("div",{staticStyle:{height:"0","border-top":"1px dotted #000","margin-top":"17px"}})])],1),t("div",{staticClass:"divider-type-demo",class:e.editorModel.props?e.editorModel.props.dividerType:""})],2)},So=[],ko=B(Co,xo,So,!1,null,"303fc359",null,null);const Do=ko.exports,Mo=Object.freeze(Object.defineProperty({__proto__:null,default:Do},Symbol.toStringTag,{value:"Module"}));const wo={__name:"drop-config-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=e.config.secConfig.bindName,l=e.config.secConfig.searchPageWidth,o=e.config.secConfig.dropCondition,s=x(!1),a=x({}),D=x({}),S=async()=>{s.value=!0,e.editorModel.props.bindId&&(D.value={id:e.editorModel.props.bindId})},$=x([]),T=(R,W)=>($.value=[],Wt({pageNum:0,pageSize:0,filter:{sortId:R,dat_range:W}}).then(Z=>{const{status:G,data:{list:le},msg:se}=Z;G==104?$.value=le||[]:H.exports.Message.warning(se)})),v=R=>{if(!R){H.exports.Message.warning("\u8BF7\u9009\u62E9\u67E5\u8BE2\u914D\u7F6E");return}let W=r($).find(J=>J.id===R.id);P(e.editorModel.props,"bindId",W.id),P(e.editorModel.props,"bindName",W.name),a.value={},D.value={},s.value=!1},m=()=>{a.value={},D.value={},s.value=!1},_=x(!1),p=x(null),M=oe("flatData",[]),w=oe("DFields",[]),b=x([]),F=async()=>{const{tag:R,tableId:W}=e.editorModel;if(R==="table"){let J=r(M).find(G=>G.id===W);if(!J||!J.props.datset_id){b.value=[];return}const Z={id:J.props.datset_id,pageNum:0,pageSize:0};b.value=await Je(Z).then(G=>{const{status:le,data:se}=G;return le==104&&se?se.list:[]})}else console.log(r(w),"DFields"),b.value=u.copy(r(w))},N=(R,W)=>{if(!R)return W.map(({name:G,alias:le})=>({name:G,alias:le,reflectName:""}));let J=Object.fromEntries(W.map(G=>[G.name,G])),Z=Object.fromEntries(R.map(G=>[G.name,G]));for(let G in J)if(Z[G])J[G]={...Z[G],alias:J[G].alias};else{const{name:le,alias:se}=J[G];J[G]={name:le,alias:se,reflectName:""}}return Object.values(J)},L=async()=>{await F(),p.value=u.copy(e.editorModel.props);let R;if(r(p).bindId&&(R=await it({id:r(p).bindId})),!R)return;const{data:{field_text:W}}=R;if(!W)return;let J=[];try{J=JSON.parse(W)}catch(Z){console.log(Z)}P(p.value,"fieldsSet",N(r(p).fieldsSet,J)),P(p.value,"userInfoSet",N(r(p).userInfoSet,J)),_.value=!0},z=x("formBack"),E=R=>{if(R.name==="formCon"&&!r(p).fillReflectSet&&r(w)){let W=r(w).map(J=>({describe:J.describe,name:J.name,reflectName:""}));P(p.value,"fillReflectSet",W)}},V=()=>{p.value=null,z.value="formBack",_.value=!1},O=()=>{P(e.editorModel,"props",u.copy(r(p))),z.value="formBack",_.value=!1},I=e.config.secConfig.compInteractive,q=x(!1),K=async()=>{if(!e.editorModel.tag||e.editorModel.tag!=="table")return;p.value=u.copy(e.editorModel.props),await F();let R;r(p).compInteractive?R=u.copy(r(p).compInteractive):R={cbApi:"",configFields:[]};let W;if(r(p).bindId&&(W=await it({id:r(p).bindId})),!W)return;const{data:{field_text:J}}=W;if(!J)return;let Z=[];try{Z=JSON.parse(J)}catch(G){console.log(G)}R.configFields=N(R.configFields,Z),P(p.value,"compInteractive",R),q.value=!0},te=Q(()=>r(q)?r(b).map(R=>({...R,fLabel:`${R.name}\uFF08${R.describe}\uFF09${["dInput","dTextarea","dInputNumber"].includes(e.editorModel.name)?`\uFF08${R.length}\uFF09`:""}`})):[]),ee=Q(()=>{if(!r(q))return[];let R=r(p).compInteractive.configFields.map(W=>W.reflectName);return R=R.filter(W=>!u.isEmpty(W)),[...Ae,...R]});return{__sfc:!0,props:e,bindNameConfig:t,searchPageWidthConfig:l,dropConditionConfig:o,datasetVisible:s,chooseDataset:a,chooseQry:D,onOpenChooseQryDialog:S,qryList:$,getQryList:T,onChooseQrySave:v,onChooseQryCancel:m,dropConfigVisible:_,tempProps:p,flatData:M,DFields:w,fieldsDic:b,fieldSetDicHandler:F,getUpdateInfo:N,selectTabsReflectSetHandler:L,selectTabsName:z,selectTabsClickHandler:E,onDropConfigDialogClose:V,onDropConfigDialogSave:O,ATIptInsertConfig:I,ATVisible:q,compInteractiveInit:K,ATReflectDic:te,ATReflectDis:ee,onATDialogClose:()=>{p.value=null,q.value=!1},onATDialogSave:()=>{P(e.editorModel,"props",u.copy(r(p))),p.value=null,q.value=!1},category:Oe,disableFields:Ae}}};var To=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{staticClass:"drop-config-editor"},[t("el-form-item",{key:"bindName"},[t("template",{slot:"label"},[t("span",[e._v(e._s(l.bindNameConfig.label))])]),t("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{focus:l.onOpenChooseQryDialog},model:{value:e.editorModel.props.bindName,callback:function(o){e.$set(e.editorModel.props,"bindName",o)},expression:"editorModel.props.bindName"}})],2),t("el-form-item",{key:"searchPageWidth"},[t("template",{slot:"label"},[t("span",[e._v(e._s(l.searchPageWidthConfig.label))])]),t("el-input-number",e._b({attrs:{"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",size:"medium"},model:{value:e.editorModel.props.searchPageWidth,callback:function(o){e.$set(e.editorModel.props,"searchPageWidth",o)},expression:"editorModel.props.searchPageWidth"}},"el-input-number",l.searchPageWidthConfig.attrs,!1))],2),e.editorModel.props.bindName?t("el-form-item",{key:"dropConfig"},[t("el-button",{staticClass:"config-btn",attrs:{plain:"",type:"primary"},on:{click:l.selectTabsReflectSetHandler}},[e._v("\u4E0B\u62C9\u5217\u8868\u6620\u5C04\u914D\u7F6E")])],1):e._e(),t("el-form-item",{key:"dropCondition"},[t("template",{slot:"label"},[t("span",[e._v(e._s(l.dropConditionConfig.label))])]),t("el-input",{staticStyle:{"margin-bottom":"8px"},attrs:{type:"text",placeholder:"\u6761\u4EF6\u540D\u79F0"},model:{value:e.editorModel.props.dropCondition.key,callback:function(o){e.$set(e.editorModel.props.dropCondition,"key",typeof o=="string"?o.trim():o)},expression:"editorModel.props.dropCondition.key"}}),t("el-input",{attrs:{type:"text",placeholder:"\u6761\u4EF6\u503C"},model:{value:e.editorModel.props.dropCondition.value,callback:function(o){e.$set(e.editorModel.props.dropCondition,"value",typeof o=="string"?o.trim():o)},expression:"editorModel.props.dropCondition.value"}})],2),e.editorModel.props.bindName&&e.editorModel.tag?t("el-form-item",{key:"APConfig"},[t("template",{slot:"label"},[t("span",[e._v(e._s(l.ATIptInsertConfig.label))])]),t("el-button",{staticClass:"config-btn",attrs:{plain:"",type:"primary"},on:{click:l.compInteractiveInit}},[e._v("\u914D\u7F6E\u7EC4\u4EF6\u4EA4\u4E92")])],2):e._e(),l.datasetVisible?t("el-dialog",{staticClass:"dataset-dialog",attrs:{title:"\u9009\u62E9\u67E5\u8BE2\u914D\u7F6E",visible:l.datasetVisible,"close-on-click-modal":!1,"append-to-body":"",width:"938px","before-close":l.onChooseQryCancel},on:{"update:visible":function(o){l.datasetVisible=o}}},[e.editorModel&&e.editorModel.props.bindName?t("div",{staticClass:"bind-name"},[t("div",[e._v("\u5F53\u524D\u7ED1\u5B9A\u67E5\u8BE2\u914D\u7F6E\uFF1A"+e._s(e.editorModel.props.bindName))])]):e._e(),t("el-container",[t("el-aside",{attrs:{width:"240px"}},[t(l.category,{attrs:{type:"3",inner:"choose",initData:l.chooseDataset},on:{"node-click":(o,s)=>{l.chooseDataset={...o,dat_range:s},l.getQryList(o.id,s)}}})],1),t("el-main",[t("el-row",{directives:[{name:"show",rawName:"v-show",value:l.qryList.length>0,expression:"qryList.length > 0"}]},e._l(l.qryList,function(o){return t("el-col",{key:o.id,attrs:{span:4}},[t("div",{staticClass:"form-card",class:{"form-card__active":l.chooseQry.id===o.id},on:{click:function(s){l.chooseQry=JSON.parse(JSON.stringify(o))},dblclick:function(s){return l.onChooseQrySave(o)}}},[t("i",{staticClass:"el-icon-my-dataset2"}),t("div",{staticClass:"form-card-des"},[e._v(" "+e._s(o.datset_name)+" "),t("div",{staticClass:"databaseName"},[e._v(e._s(o.name))])])])])}),1),t("div",{directives:[{name:"show",rawName:"v-show",value:l.qryList.length===0,expression:"qryList.length === 0"}],staticClass:"fe-full"},[t("el-empty",{attrs:{image:Pe,description:"\u6682\u65E0\u6570\u636E\u54E6\uFF5E","image-size":200}})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(o){return l.onChooseQrySave(l.chooseQry)}}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onChooseQryCancel}},[e._v("\u53D6\u6D88")])],1)],1):e._e(),l.dropConfigVisible?t("el-dialog",{staticClass:"sickListReflect-dialog",attrs:{"append-to-body":"",top:"5vh",title:"\u5217\u8868\u6620\u5C04\u914D\u7F6E",visible:l.dropConfigVisible,"close-on-click-modal":!1,"before-close":l.onDropConfigDialogClose},on:{"update:visible":function(o){l.dropConfigVisible=o}}},[t("div",{staticClass:"header-notice"},[t("i",{staticClass:"el-icon-info"}),t("span",{directives:[{name:"show",rawName:"v-show",value:l.selectTabsName==="formBack",expression:"selectTabsName === 'formBack'"}]},[e._v("\u8868\u5355\u56DE\u586B\u6620\u5C04\uFF1A\u5C06\u4E0B\u62C9\u9875\u9762\u67E5\u8BE2\u51FA\u6765\u7684\u6570\u636E\u56DE\u586B\u5230\u8868\u5355\u5BF9\u5E94\u7ED1\u5B9A\u5B57\u6BB5\u7684\u7EC4\u4EF6\u4E0A\uFF0C\u201C\u5B57\u6BB5\u540D\u79F0\u201D\u4E3A\u4E0B\u62C9\u9875\u9762\u6240\u67E5\u8BE2\u7684\u5B57\u6BB5\u540D\uFF0C\u201C\u6620\u5C04\u540D\u79F0\u201D\u4E3A\u8868\u5355\u7EC4\u4EF6\u7ED1\u5B9A\u7684\u5B57\u6BB5\u540D")]),t("span",{directives:[{name:"show",rawName:"v-show",value:l.selectTabsName==="urlParams",expression:"selectTabsName === 'urlParams'"}]},[e._v("URL\u53C2\u6570\u6620\u5C04\uFF1A\u5C06\u901A\u8FC7URL\u8BF7\u6C42\u5934\u4F20\u5165\u8868\u5355\u7684\u53C2\u6570\u4F20\u5165\u5230\u4E0B\u62C9\u5217\u9875\u9762\u4E2D\uFF0C\u201C\u5B57\u6BB5\u540D\u79F0\u201D\u4E3A\u4E0B\u62C9\u9875\u9762\u6240\u67E5\u8BE2\u7684\u5B57\u6BB5\u540D\uFF0C\u201C\u6620\u5C04\u540D\u79F0\u201D\u4E3AURL\u8BF7\u6C42\u5934\u7684\u53C2\u6570\u540D")]),t("span",{directives:[{name:"show",rawName:"v-show",value:l.selectTabsName==="formCon",expression:"selectTabsName === 'formCon'"}]},[e._v("\u8868\u5355\u5185\u5BB9\u6620\u5C04\uFF1A\u5C06\u8868\u5355\u7EC4\u4EF6\u7684\u503C\u4F20\u5165\u5230\u4E0B\u62C9\u5217\u9875\u9762\uFF0C\u201C\u5B57\u6BB5\u540D\u79F0\u201D\u4E3A\u8868\u5355\u7EC4\u4EF6\u7ED1\u5B9A\u7684\u5B57\u6BB5\u540D\uFF0C\u201C\u6620\u5C04\u540D\u79F0\u201D\u4E3A\u4E0B\u62C9\u9875\u9762\u6240\u7ED1\u5B9A\u7684\u6570\u636E\u96C6\u7684\u5B57\u6BB5\u540D\uFF08*\u82E5\u4E0B\u62C9\u9875\u9762\u6240\u7ED1\u5B9A\u7684\u6570\u636E\u96C6\u7C7B\u578B\u4E3A\u5B58\u50A8\u8FC7\u7A0B\uFF0C\u5219\u201C\u6620\u5C04\u540D\u79F0\u201D\u4E3A\u5B58\u50A8\u8FC7\u7A0B\u53C2\u6570\u540D\uFF09")])]),l.tempProps&&e.editorModel?t("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":l.selectTabsClickHandler},model:{value:l.selectTabsName,callback:function(o){l.selectTabsName=o},expression:"selectTabsName"}},[e.editorModel.props.bindName?t("el-tab-pane",{attrs:{label:"\u8868\u5355\u56DE\u586B\u6620\u5C04",name:"formBack"}},[t("el-table",{attrs:{data:l.tempProps.fieldsSet,stripe:"",fit:"",height:"100%"}},[t("el-table-column",{attrs:{prop:"name",label:"\u5B57\u6BB5\u540D\u79F0","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("span",[e._v(e._s(`${o.name}\uFF08${o.alias}\uFF09`))])]}}],null,!1,2096447952)}),t("el-table-column",{attrs:{label:"\u6620\u5C04\u540D\u79F0"},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",size:"small",placeholder:"\u6620\u5C04\u540D\u79F0"},model:{value:o.reflectName,callback:function(s){e.$set(o,"reflectName",s)},expression:"row['reflectName']"}},e._l(l.fieldsDic,function({name:s,describe:a}){return t("el-option",{key:s,attrs:{label:`${s}\uFF08${a}\uFF09`,value:s,disabled:l.disableFields.includes(s)}})}),1)]}}],null,!1,2547302002)})],1)],1):e._e(),e.editorModel.props.bindName?t("el-tab-pane",{attrs:{label:"URL\u53C2\u6570\u6620\u5C04",name:"urlParams"}},[t("el-table",{attrs:{data:l.tempProps.userInfoSet,stripe:"",fit:"",height:"100%"}},[t("el-table-column",{attrs:{prop:"name",label:"\u5B57\u6BB5\u540D\u79F0","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("span",[e._v(e._s(`${o.name}\uFF08${o.alias}\uFF09`))])]}}],null,!1,2096447952)}),t("el-table-column",{attrs:{label:"\u6620\u5C04\u540D\u79F0"},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("el-input",{attrs:{type:"text",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},model:{value:o.reflectName,callback:function(s){e.$set(o,"reflectName",typeof s=="string"?s.trim():s)},expression:"row['reflectName']"}})]}}],null,!1,3791522708)})],1)],1):e._e(),l.DFields&&l.DFields.length>0?t("el-tab-pane",{attrs:{label:"\u8868\u5355\u5185\u5BB9\u6620\u5C04",name:"formCon"}},[t("el-table",{attrs:{data:l.tempProps.fillReflectSet,stripe:"",fit:"",height:"100%"}},[t("el-table-column",{attrs:{prop:"name",label:"\u5B57\u6BB5\u540D\u79F0","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("span",[e._v(e._s(`${o.name}\uFF08${o.describe}\uFF09`))])]}}],null,!1,73428875)}),t("el-table-column",{attrs:{label:"\u6620\u5C04\u540D\u79F0"},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("el-input",{attrs:{type:"text",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},model:{value:o.reflectName,callback:function(s){e.$set(o,"reflectName",typeof s=="string"?s.trim():s)},expression:"row['reflectName']"}})]}}],null,!1,3791522708)})],1)],1):e._e()],1):e._e(),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onDropConfigDialogSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onDropConfigDialogClose}},[e._v("\u53D6\u6D88")])],1)],1):e._e(),l.ATVisible?t("el-dialog",{staticClass:"comp-interactive-dialog",attrs:{title:"\u7EC4\u4EF6\u4EA4\u4E92\u914D\u7F6E","append-to-body":"","close-on-click-modal":!1,visible:l.ATVisible,"before-close":l.onATDialogClose},on:{"update:visible":function(o){l.ATVisible=o}}},[l.tempProps&&l.tempProps.compInteractive?[t("div",{staticStyle:{"margin-bottom":"8px"}},[t("div",{staticStyle:{"margin-bottom":"8px"}},[e._v("Api:")]),t("el-input",{attrs:{type:"text",size:"mini",placeholder:"\u8BF7\u8F93\u5165Api"},model:{value:l.tempProps.compInteractive.cbApi,callback:function(o){e.$set(l.tempProps.compInteractive,"cbApi",typeof o=="string"?o.trim():o)},expression:"tempProps.compInteractive.cbApi"}})],1),t("div",{staticStyle:{"margin-bottom":"8px"}},[e._v("\u8868\u683C\u56DE\u586B\u6620\u5C04\uFF1A")]),t("el-table",{attrs:{data:l.tempProps.compInteractive.configFields,stripe:"",fit:"",height:"calc(100% - 102px)"}},[t("el-table-column",{attrs:{prop:"name",label:"\u5B57\u6BB5\u540D\u79F0","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("span",[e._v(e._s(`${o.name}\uFF08${o.alias}\uFF09`))])]}}],null,!1,2096447952)}),t("el-table-column",{attrs:{label:"\u6620\u5C04\u540D\u79F0"},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",size:"small",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.reflectName,callback:function(s){e.$set(o,"reflectName",s)},expression:"row['reflectName']"}},e._l(l.ATReflectDic,function(s){return t("el-option",{key:s.name,attrs:{label:s.fLabel,value:s.name,disabled:l.ATReflectDis.includes(s.name)}})}),1)]}}],null,!1,4288028610)})],1)]:e._e(),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onATDialogSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onATDialogClose}},[e._v("\u53D6\u6D88")])],1)],2):e._e()],1)},No=[],Ao=B(wo,To,No,!1,null,"bbd9a2a7",null,null);const Po=Ao.exports,Oo=Object.freeze(Object.defineProperty({__proto__:null,default:Po},Symbol.toStringTag,{value:"Module"}));const $o={__name:"drop-connect-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f;return{__sfc:!0,props:e,onChange:l=>{l||(P(e.editorModel.props,"bindId",""),P(e.editorModel.props,"bindName",""),P(e.editorModel.props,"searchPageWidth",550),P(e.editorModel.props,"dropCondition",{key:"",value:""}))},SwitchEditor:nt}}};var Ro=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t(l.SwitchEditor,{attrs:{editorModel:e.editorModel,config:e.config},on:{change:l.onChange}})},Lo=[],Io=B($o,Ro,Lo,!1,null,"68d20575",null,null);const Fo=Io.exports,Eo=Object.freeze(Object.defineProperty({__proto__:null,default:Fo},Symbol.toStringTag,{value:"Module"}));const Vo={__name:"field-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=oe("flatData",[]),l=oe("usedFields",[]),o=oe("DFields",[]),s=x([]),a=async()=>{const v=e.editorModel.name;if(e.editorModel.tag!=="table")s.value=r(o).map(_=>({..._,fLabel:`${_.name}\uFF08${_.describe}\uFF09${["dInput","dTextarea","dInputNumber"].includes(v)?`\uFF08${_.length}\uFF09`:""}`}));else{let _=r(t).find(M=>M.id===e.editorModel.tableId);if(!_||!_.props.datset_id){s.value=[];return}const p={id:_.props.datset_id,pageNum:0,pageSize:0};await Je(p).then(M=>{if(M.status==104){const w=M.data.list||[];s.value=w.map(b=>({...b,fLabel:`${b.name}\uFF08${b.describe}\uFF09${["dInput","dTextarea","dInputNumber"].includes(v)?`\uFF08${b.length}\uFF09`:""}`}))}else H.exports.Message.warning(M.msg)})}},D=Q(()=>{if(!e.editorModel||!e.editorModel.name)return[];if(e.editorModel.tag!=="table")return[];let v=r(t).find(m=>m.id===e.editorModel.tableId);if(v){let m=[];for(let _ of v.children)_.dataset_field&&m.push(_.dataset_field),_.dataset_code&&m.push(_.dataset_code);return m}return[]}),S=Q(()=>!e.editorModel||!e.editorModel.name?[]:e.editorModel.tag!=="table"?[...r(l),...Ae]:[...r(D),...Ae]),$=ae(e);return fe(()=>e.editorModel,(v,m)=>{(!m||v.id!==m.id)&&a()},{deep:!0,immediate:!0}),{__sfc:!0,props:e,flatData:t,usedFields:l,DFields:o,dicList:s,onFormatDicList:a,tableUsedFields:D,disableDic:S,input:$,insertValToMaxLength:v=>{if(e.config.prop!=="dataset_field")return;const m=e.editorModel.name;if(!["dInput","dInputNumber","dTextarea"].includes(m))return;let _=r(s).find(p=>p.name===v);!_||e.editorModel.attrs.forEach(p=>{p.key==="maxlength"&&["dInput","dTextarea"].includes(m)&&(p.value=Number(_.length)),p.key==="max"&&m==="dInputNumber"&&(p.value=Number(_.length))})}}}};var Bo=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"\u8BF7\u9009\u62E9"},on:{change:l.insertValToMaxLength},model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},e._l(l.dicList,function(o){return t("el-option",{key:o.name,attrs:{label:o.fLabel,value:o.name,disabled:l.disableDic.includes(o.name)}})}),1)],2)},zo=[],jo=B(Vo,Bo,zo,!1,null,"b37fe73c",null,null);const Ho=jo.exports,qo=Object.freeze(Object.defineProperty({__proto__:null,default:Ho},Symbol.toStringTag,{value:"Module"}));const Wo={__name:"fish-bone-dataset-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=x(!1);return{__sfc:!0,props:e,datasetVisible:t,DatasetDialog:$e}}};var Jo=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{focus:function(o){l.datasetVisible=!0}},model:{value:e.editorModel.props.dicDataSet.datset_name,callback:function(o){e.$set(e.editorModel.props.dicDataSet,"datset_name",o)},expression:"editorModel.props.dicDataSet.datset_name"}}),t(l.DatasetDialog,{attrs:{editorModel:e.editorModel,config:{type:"dicDataSet"}},model:{value:l.datasetVisible,callback:function(o){l.datasetVisible=o},expression:"datasetVisible"}})],2)},Go=[],Uo=B(Wo,Jo,Go,!1,null,"a19096af",null,null);const Qo=Uo.exports,Ko=Object.freeze(Object.defineProperty({__proto__:null,default:Qo},Symbol.toStringTag,{value:"Module"}));const Yo={__name:"fish-business-dataset-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=x(!1);return{__sfc:!0,props:e,datasetVisible:t,DatasetDialog:$e}}};var Zo=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{focus:function(o){l.datasetVisible=!0}},model:{value:e.editorModel.props.busDataSet.datset_name,callback:function(o){e.$set(e.editorModel.props.busDataSet,"datset_name",o)},expression:"editorModel.props.busDataSet.datset_name"}}),t(l.DatasetDialog,{attrs:{editorModel:e.editorModel,config:{type:"busDataSet"}},model:{value:l.datasetVisible,callback:function(o){l.datasetVisible=o},expression:"datasetVisible"}})],2)},Xo=[],ea=B(Yo,Zo,Xo,!1,null,"dcd3ad95",null,null);const ta=ea.exports,la=Object.freeze(Object.defineProperty({__proto__:null,default:ta},Symbol.toStringTag,{value:"Module"}));const oa={__name:"group-disable-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=T=>{T||(P(e.editorModel.props,"gpDisCdtGp",[{key:"",label:"",op:"",logicOp:""}]),P(e.editorModel.props,"groupDisStr",""))},l=x({}),o=x(!1),s=oe("flatData",[]);return{__sfc:!0,props:e,onTabDisable:t,tempProps:l,groupDisVisible:o,flatData:s,onInitConfig:()=>{l.value=u.copy(e.editorModel.props),o.value=!0},onControlConfigNum:T=>{T===-1?l.value.gpDisCdtGp.push({key:"",label:"",op:"",logicOp:""}):l.value.gpDisCdtGp.length>1?l.value.gpDisCdtGp.splice(T,1):P(l.value,"gpDisCdtGp",[{key:"",label:"",op:"",logicOp:""}])},onConfigCancel:()=>{l.value={},o.value=!1},onConfigSave:()=>{P(e.editorModel,"props",u.copy(r(l))),l.value={},o.value=!1},compareDic:ct,logicDic:dt}}};var aa=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{staticClass:"group-disable-editor"},[t("el-form-item",{key:"group-disable-switch",staticClass:"group-disable-switch"},[e.config.rLabel?t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.rLabel))])]):e._e(),t("div",{staticClass:"switch-con"},[t("span",[e._v(e._s(e.config.label))]),t("el-switch",{attrs:{"active-color":"#007aff","inactive-color":"#939BA6"},on:{change:l.onTabDisable},model:{value:e.editorModel.props.groupDisabled,callback:function(o){e.$set(e.editorModel.props,"groupDisabled",o)},expression:"editorModel.props.groupDisabled"}})],1)],2),e.editorModel.props&&e.editorModel.props.groupDisabled?t("el-form-item",{key:"group-disable-config",staticClass:"group-disable-config"},[t("template",{slot:"label"},[t("span",[e._v("\u7981\u7528\u6761\u4EF6\u914D\u7F6E")]),t("span",{staticClass:"config-set",on:{click:l.onInitConfig}},[e._v("\u4FEE\u6539\u914D\u7F6E")])]),t("el-input",{attrs:{disabled:"",type:"textarea",resize:"none",autosize:{minRows:3},placeholder:"\u6682\u65E0\u53EF\u5C55\u793A\u7684\u914D\u7F6E"},model:{value:e.editorModel.props.groupDisStr,callback:function(o){e.$set(e.editorModel.props,"groupDisStr",o)},expression:"editorModel.props.groupDisStr"}})],2):e._e(),l.groupDisVisible?t("el-dialog",{staticClass:"group-dis-dialog",attrs:{title:"\u5206\u7EC4\u7981\u7528\u6761\u4EF6","close-on-click-modal":!1,visible:l.groupDisVisible,"before-close":l.onConfigCancel},on:{"update:visible":function(o){l.groupDisVisible=o}}},[t("div",{staticClass:"basic-container"},[t("div",{staticClass:"basic-title"},[t("span",[e._v("\u7EC4\u4EF6/\u53C2\u6570\u540D\u79F0")]),t("span",[e._v("\u5173\u7CFB\u7B26")]),t("span",[e._v("\u503C")]),t("span",[e._v("\u903B\u8F91\u8FD0\u7B97\u7B26")])]),e._l(l.tempProps.gpDisCdtGp,function(o,s){return t("div",{key:o.id,staticClass:"basic-item"},[t("el-select",{attrs:{clearable:"","allow-create":"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.key,callback:function(a){e.$set(o,"key",a)},expression:"item.key"}},e._l(l.flatData,function(a){return t("el-option",{key:a.id,attrs:{disabled:a.id===e.editorModel.id,label:a.label,value:a.id}})}),1),t("el-select",{attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.op,callback:function(a){e.$set(o,"op",a)},expression:"item.op"}},e._l(l.compareDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("el-input",{attrs:{placeholder:"\u6761\u4EF6\u503C",type:"text"},model:{value:o.label,callback:function(a){e.$set(o,"label",typeof a=="string"?a.trim():a)},expression:"item.label"}}),t("el-select",{attrs:{disabled:s===l.tempProps.gpDisCdtGp.length-1,placeholder:"\u903B\u8F91\u8FD0\u7B97\u7B26"},model:{value:o.logicOp,callback:function(a){e.$set(o,"logicOp",a)},expression:"item.logicOp"}},e._l(l.logicDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("i",{directives:[{name:"show",rawName:"v-show",value:s===l.tempProps.gpDisCdtGp.length-1,expression:"index === tempProps.gpDisCdtGp.length - 1"}],staticClass:"el-icon-my-relAdd",staticStyle:{"margin-right":"8px"},on:{click:function(a){return l.onControlConfigNum(-1)}}}),t("i",{staticClass:"el-icon-my-relDel",on:{click:function(a){return l.onControlConfigNum(s)}}})],1)})],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onConfigSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onConfigCancel}},[e._v("\u53D6\u6D88")])],1)]):e._e()],1)},ia=[],sa=B(oa,aa,ia,!1,null,"64052a63",null,null);const ra=sa.exports,na=Object.freeze(Object.defineProperty({__proto__:null,default:ra},Symbol.toStringTag,{value:"Module"}));const ca={__name:"option-connect-form-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=x(!1),l=x([]),o=Q(()=>e.editorModel.attachedParams&&e.editorModel.attachedParams.length>0?e.editorModel.attachedParams.filter(I=>!u.isEmpty(I.value)&&I.formId).length:0),s=O=>{O===-1?l.value.push({id:st(),value:"",formId:"",formName:"",params_list:[{zkid:"",fkid:""}],relation_fields_list:[]}):l.value.splice(O,1)},a=oe("flatData",[]),D=()=>{S.value=r(a).map(O=>({id:O.id,dataset_field:O.dataset_field||"\u672A\u7ED1\u5B9A\u5B57\u6BB5",defVal:O.defVal,label:O.label}))},S=x([]),$=O=>{let I=[];const{isBasic:q,children:K}=O;if(!q){const{name:te,slots:ee}=O;let Y=u.copy(O);if(["dInput","dInputNumber","dTextarea","dTime","dRadio","dCheckbox","dSelect","dCascader","dRegion","dActiveTable","dComputeTable"].includes(te)&&(I=[...I,Y]),ee&&ee.named&&ee.named.length>0)for(let ie in ee.named){let R=u.copy(ee.named[ie]);!R||!R.comDetail||u.isEmpty(R.id)||(I=[...I,R])}}if(K)for(let te in K)I=[...I,...$(K[te])];return I},T=O=>Jt({id:O}).then(I=>{const{status:q,data:K}=I;if(q==104){const te=JSON.parse(K.form_text);return $(te).map(Y=>({id:Y.id,dataset_field:Y.dataset_field||"\u672A\u7ED1\u5B9A\u5B57\u6BB5",defVal:Y.defVal,label:Y.label}))}else H.exports.Message.warning(K.msg)}),v=async()=>{D(),l.value=u.copy(e.editorModel.attachedParams)||[],r(l)&&r(l).length===0?s(-1):r(l).forEach(async O=>{O.formId&&(O.relation_fields_list=await T(O.formId))}),t.value=!0},m=x([]),_={value:[{required:!0,message:"\u8BF7\u8F93\u5165\u503C",trigger:["blur","change"]}],formId:[{required:!0,message:"\u8BF7\u9009\u62E9\u8868\u5355",trigger:["blur","change"]}]},p=x({cntVisible:!1,formList:[],chooseDataset:{},chooseForm:null,initForm:null,paramsIdx:0}),M=(O,I)=>{p.value.paramsIdx=I,p.value.cntVisible=!0,O.formId&&(p.value.initForm={id:O.formId,name:O.formName},p.value.chooseForm={id:O.formId,name:O.formName})},w=(O,I)=>{I===-1?l.value[O].params_list.push({zkid:"",fkid:""}):l.value[O].params_list.splice(I,1)},b=()=>{H.exports.MessageBox.confirm("\u662F\u5426\u6E05\u9664\u5173\u8054\u5E76\u4FDD\u5B58?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{P(e.editorModel,"attachedParams",[{id:st(),value:"",formId:"",formName:"",params_list:[{zkid:"",fkid:""}],relation_fields_list:[]}]),l.value=[],t.value=!1})},F=()=>{let O=!0;for(let I of r(m))if(I.validate(q=>O=q),!O)return;P(e.editorModel,"attachedParams",u.copy(r(l))),l.value=[],t.value=!1},N=()=>{l.value=[],t.value=!1},L=oe("curDataSet"),z=(O,I)=>{if(!r(L)){p.value.formList=[];return}return Gt({pageNum:0,pageSize:0,filter:{sortId:O,dat_range:I}}).then(K=>{const{status:te,data:{list:ee},msg:Y}=K;if(te==104){const ie=ee.filter(R=>R.datset_id&&R.status==="1"&&R.id!==r(L).id);p.value.formList=ie}else H.exports.Message.warning(Y)})},E=async()=>{if(!r(p).chooseForm){H.exports.Message.warning("\u8BF7\u9009\u62E9\u5B50\u8868\u5355");return}const{paramsIdx:O,chooseForm:{id:I,name:q}}=r(p);P(l.value,O,{...r(l)[O],formId:I,formName:q,relation_fields_list:await T(I)}),V()},V=()=>{p.value={cntVisible:!1,formList:[],chooseDataset:{},chooseForm:null,paramsIdx:0}};return{__sfc:!0,props:e,showParamsForm:t,attachedParams:l,cntNum:o,onControlItemNum:s,flatData:a,getParams:D,paramsList:S,onFormatFormInfo:$,getAttachParams:T,onConfigInit:v,relationRef:m,rules:_,cntChild:p,onInitCntFormConfig:M,onControlParamsListNum:w,clearRelation:b,onSave:F,onCancel:N,curDataSet:L,getFormList:z,onSaveFormChoose:E,onCntFormDialogClose:V,category:Oe}}};var da=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{key:"option-connect-form-editor"},[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:l.cntNum!==0,expression:"cntNum !== 0"}],staticClass:"connect-form-num"},[t("i",{staticClass:"el-icon-my-pmsCnct"}),e._v(" \u5DF2\u5173\u8054"+e._s(l.cntNum)+"\u4E2A\u5B50\u8868\u5355 "),t("span",{staticClass:"edit-btn",on:{click:l.onConfigInit}},[e._v("\u4FEE\u6539")])]),l.cntNum===0?t("el-button",{staticClass:"config-btn",attrs:{plain:"",type:"primary"},on:{click:l.onConfigInit}},[e._v("\u5173\u8054\u53C2\u6570")]):e._e(),l.showParamsForm?t("el-dialog",{staticClass:"pms-set-dialog",attrs:{title:"\u8BBE\u7F6E\u5173\u8054\u53C2\u6570","close-on-click-modal":!1,visible:l.showParamsForm,"before-close":l.onCancel},on:{"update:visible":function(o){l.showParamsForm=o}}},[t("div",{staticClass:"container_attach"},[t("div",{staticClass:"attach-header"},[t("span",[e._v("\u5F53\u503C\u4E3A")]),t("span",[e._v("\u5173\u8054\u5B50\u8868\u5355")]),t("div",{staticClass:"add-btn",staticStyle:{"font-size":"14px",width:"80px"},on:{click:function(o){return l.onControlItemNum(-1)}}},[t("div",{staticClass:"plus"}),e._v("\u65B0\u589E\u5173\u8054 ")])]),t("div",{staticClass:"attach-content hover-scroll"},e._l(l.attachedParams,function(o,s){return t("div",{key:o.id,staticClass:"div_params_attach"},[o?t("el-form",{ref:"relationRef",refInFor:!0,staticClass:"attach_form",attrs:{model:o}},[t("div",{staticClass:"attach-choose"},[t("el-form-item",{attrs:{prop:"value",rules:l.rules.value}},[t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165",clearable:""},model:{value:o.value,callback:function(a){e.$set(o,"value",typeof a=="string"?a.trim():a)},expression:"aItem.value"}})],1),t("i",{staticClass:"el-icon-my-pmsCnct",staticStyle:{margin:"0 8px"}}),t("el-form-item",{attrs:{prop:"formId",rules:l.rules.formId}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{focus:function(a){return l.onInitCntFormConfig(o,s)}},model:{value:o.formName,callback:function(a){e.$set(o,"formName",a)},expression:"aItem.formName"}})],1),l.attachedParams.length>1?t("i",{staticClass:"el-icon-my-pmsDelFrm",staticStyle:{width:"24px",height:"24px","margin-left":"8px",cursor:"pointer"},on:{click:function(a){return l.onControlItemNum(s)}}}):e._e()],1),t("div",{staticClass:"attach-pms"},e._l(o.params_list,function(a,D){return t("div",{key:a.id,staticClass:"attach-pms-item"},[t("el-form-item",{attrs:{prop:`params_list.${D}.zkid`,rules:l.rules.zkid}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u9700\u8981\u4F20\u9012\u7684\u53C2\u6570",filterable:"",clearable:"","collapse-tags":""},on:{focus:l.getParams},model:{value:a.zkid,callback:function(S){e.$set(a,"zkid",S)},expression:"par.zkid"}},e._l(l.paramsList,function(S){return t("el-option",{key:S.id,attrs:{label:`${S.label}\uFF08${S.dataset_field}\uFF09`,value:S.id}})}),1)],1),t("i",{staticClass:"el-icon-my-pmsEmit",staticStyle:{margin:"0 8px"}}),t("el-form-item",{attrs:{prop:`params_list.${D}.fkid`,rules:l.rules.fkid}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u5BF9\u5E94\u5B50\u8868\u5355\u53C2\u6570",filterable:"",clearable:"","collapse-tags":""},model:{value:a.fkid,callback:function(S){e.$set(a,"fkid",S)},expression:"par.fkid"}},e._l(o.relation_fields_list,function(S){return t("el-option",{key:S.id,attrs:{label:`${S.label}\uFF08${S.dataset_field}\uFF09`,value:S.id}})}),1)],1),t("div",{staticClass:"attach-pms-item-btn"},[t("i",{directives:[{name:"show",rawName:"v-show",value:D===o.params_list.length-1,expression:"parIdx === aItem.params_list.length - 1"}],staticClass:"attach-pms-icon el-icon-my-relAdd",on:{click:function(S){return l.onControlParamsListNum(s,-1)}}}),t("i",{directives:[{name:"show",rawName:"v-show",value:o.params_list.length>1,expression:"aItem.params_list.length > 1"}],staticClass:"attach-pms-icon el-icon-my-relDel",on:{click:function(S){return l.onControlParamsListNum(s,D)}}})])],1)}),0)]):e._e()],1)}),0)]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{plain:"",type:"primary"},on:{click:l.clearRelation}},[e._v("\u6E05\u9664\u5173\u8054")]),t("el-button",{attrs:{type:"primary"},on:{click:l.onSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onCancel}},[e._v("\u53D6\u6D88")])],1)]):e._e(),l.cntChild.cntVisible?t("el-dialog",{staticClass:"child-form-dialog",attrs:{title:"\u9009\u62E9\u5173\u8054\u5B50\u8868\u5355",visible:l.cntChild.cntVisible,"close-on-click-modal":!1,"before-close":l.onCntFormDialogClose},on:{"update:visible":function(o){return e.$set(l.cntChild,"cntVisible",o)}}},[l.cntChild.initForm?t("div",{staticStyle:{display:"flex","align-items":"center","margin-bottom":"8px"}},[t("div",[e._v("\u5F53\u524D\u5173\u8054\u5B50\u8868\u5355\uFF1A"+e._s(l.cntChild.initForm.name))])]):e._e(),l.cntChild.cntVisible?t("el-container",[t("el-aside",{attrs:{width:"240px"}},[t(l.category,{attrs:{type:"2",inner:"choose",initData:l.cntChild.chooseDataset},on:{"node-click":(o,s)=>{l.cntChild.chooseDataset={...o,dat_range:s},l.getFormList(o.id,s)}}})],1),t("el-main",[l.cntChild.formList.length>0?t("el-row",e._l(l.cntChild.formList,function(o){return t("el-col",{key:o.id,class:{"box-border":l.cntChild.chooseForm&&l.cntChild.chooseForm.id===o.id},attrs:{span:12}},[t("div",{staticClass:"box-btn",on:{click:function(s){l.cntChild.chooseForm=o}}},[t("i",{staticClass:"el-icon-my-dataset2"}),t("div",{staticClass:"box-fit"},[e._v(" "+e._s(o.datset_name)+" "),t("div",{staticClass:"form-name"},[e._v(" "+e._s(o.name)+" ")])])])])}),1):t("div",{staticClass:"fe-full"},[t("el-empty",{attrs:{image:Pe,description:"\u6682\u65E0\u6570\u636E\u54E6\uFF5E","image-size":200}})],1)],1)],1):e._e(),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onSaveFormChoose}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onCntFormDialogClose}},[e._v("\u53D6\u6D88")])],1)],1):e._e()],2)},pa=[],ua=B(ca,da,pa,!1,null,"9e76b5da",null,null);const fa=ua.exports,ma=Object.freeze(Object.defineProperty({__proto__:null,default:fa},Symbol.toStringTag,{value:"Module"}));const _a={__name:"option-disable-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=[{label:"\u7B49\u4E8E",value:"equal"},{label:"\u4E0D\u7B49\u4E8E",value:"notEqual"},{label:"\u5927\u4E8E",value:"greater"},{label:"\u5C0F\u4E8E",value:"less"},{label:"\u5927\u4E8E\u7B49\u4E8E",value:"greaterEqual"},{label:"\u5C0F\u4E8E\u7B49\u4E8E",value:"lessEqual"}],l=["dInput","dTextarea","dRadio","dCheckbox","dSelect","dInputNumber","dTime"],o=x(!1),s=x({}),a=oe("flatData",[]),D=Q(()=>{let m=r(a).filter(_=>_.id!==e.editorModel.id&&l.includes(_.name));return m=m.map(_=>({..._,fVal:`${_.id}|${_.name}`})),m});return{__sfc:!0,props:e,compareDic:t,usuallyCom:l,opDisabledVisible:o,tempProps:s,flatData:a,cntDic:D,onConfigInit:()=>{s.value=u.copy(e.editorModel.props),o.value=!0},handleTypeOptionsDisabled:(m,_)=>{let p=_.split("|");return["dInputNumber","dTime"].includes(p[1])?!1:!["\u7B49\u4E8E","\u4E0D\u7B49\u4E8E"].includes(m)},onSave:()=>{P(e.editorModel,"props",u.copy(r(s))),s.value={},o.value=!1},onCancel:()=>{s.value={},o.value=!1}}}};var ba=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{key:"option-disable-editor"},[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-button",{staticClass:"config-btn",attrs:{plain:"",type:"primary"},on:{click:l.onConfigInit}},[e._v("\u9009\u9879\u7981\u7528\u914D\u7F6E")]),l.opDisabledVisible?t("el-dialog",{staticClass:"op-dis-dialog",attrs:{title:"\u9009\u9879\u7981\u7528\u914D\u7F6E","close-on-click-modal":!1,visible:l.opDisabledVisible,"before-close":l.onCancel},on:{"update:visible":function(o){l.opDisabledVisible=o}}},[t("div",{staticClass:"basic-container"},[t("div",{staticClass:"basic-title"},[t("span",[e._v("\u5173\u8054\u5BF9\u8C61")]),t("span",[e._v("\u6BD4\u8F83\u7C7B\u578B")]),t("span",[e._v("\u5173\u8054\u5BF9\u8C61\u503C")]),t("span",[e._v("\u7981\u7528\u9009\u9879")])]),e._l(l.tempProps.opDisabledSet,function(o,s){return t("div",{key:s,staticClass:"basic-item"},[t("el-select",{staticStyle:{flex:"1"},attrs:{clearable:"",filterable:"",placeholder:"\u5173\u8054\u5BF9\u8C61"},on:{change:function(a){o.type=""}},model:{value:o.target,callback:function(a){e.$set(o,"target",a)},expression:"item.target"}},e._l(l.cntDic,function(a){return t("el-option",{key:a.id,attrs:{label:a.label,value:a.fVal}})}),1),t("el-select",{staticStyle:{flex:"1"},attrs:{clearable:"",filterable:"",placeholder:"\u6BD4\u8F83\u7C7B\u578B"},model:{value:o.type,callback:function(a){e.$set(o,"type",a)},expression:"item.type"}},e._l(l.compareDic,function(a){return t("el-option",{key:a.value,attrs:{disabled:l.handleTypeOptionsDisabled(a.label,o.target),label:a.label,value:a.value}})}),1),t("el-input",{staticStyle:{flex:"1"},attrs:{type:"text",placeholder:"\u5173\u8054\u5BF9\u8C61\u503C"},model:{value:o.value,callback:function(a){e.$set(o,"value",typeof a=="string"?a.trim():a)},expression:"item.value"}}),t("el-select",{staticClass:"op-item--last",staticStyle:{flex:"1"},attrs:{multiple:"","collapse-tags":"",clearable:"",filterable:"",placeholder:"\u7981\u7528\u9009\u9879"},model:{value:o.options,callback:function(a){e.$set(o,"options",a)},expression:"item.options"}},e._l(l.tempProps.dic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("i",{directives:[{name:"show",rawName:"v-show",value:s===l.tempProps.opDisabledSet.length-1,expression:"index === tempProps.opDisabledSet.length - 1"}],staticClass:"el-icon-my-relAdd",staticStyle:{"margin-right":"8px"},on:{click:()=>{l.tempProps.opDisabledSet.push({target:"",type:"",value:"",options:[]})}}}),t("i",{directives:[{name:"show",rawName:"v-show",value:l.tempProps.opDisabledSet.length>1,expression:"tempProps.opDisabledSet.length > 1"}],staticClass:"el-icon-my-relDel",on:{click:()=>{l.tempProps.opDisabledSet.splice(s,1)}}})],1)})],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onCancel}},[e._v("\u53D6\u6D88")])],1)]):e._e()],2)},va=[],ga=B(_a,ba,va,!1,null,"24f3bff6",null,null);const ha=ga.exports,ya=Object.freeze(Object.defineProperty({__proto__:null,default:ha},Symbol.toStringTag,{value:"Module"}));const Ca={__name:"option-layout-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){return{__sfc:!0,props:f}}};var xa=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("el-form-item",{key:"options-layout-editor"},[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9"},model:{value:e.editorModel.props.chooseAlign,callback:function(l){e.$set(e.editorModel.props,"chooseAlign",l)},expression:"editorModel.props.chooseAlign"}},[t("el-option",{attrs:{label:"\u4E00\u884C\u591A\u4E2A",value:"many"}}),t("el-option",{attrs:{label:"\u4E00\u884C\u4E00\u4E2A",value:"one"}})],1),t("el-input-number",{directives:[{name:"show",rawName:"v-show",value:e.editorModel.props.chooseAlign==="many",expression:"editorModel.props.chooseAlign === 'many'"}],staticClass:"choose-row-num",attrs:{"controls-position":"right",size:"medium",min:0,max:1/0},model:{value:e.editorModel.props.chooseRowNum,callback:function(l){e.$set(e.editorModel.props,"chooseRowNum",l)},expression:"editorModel.props.chooseRowNum"}})],2)},Sa=[],ka=B(Ca,xa,Sa,!1,null,"1f95d7bc",null,null);const Da=ka.exports,Ma=Object.freeze(Object.defineProperty({__proto__:null,default:Da},Symbol.toStringTag,{value:"Module"}));const wa={__name:"option-note-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=x(!1),l=x({});return{__sfc:!0,props:e,opNoteVisible:t,tempProps:l,onConfigInit:()=>{l.value=u.copy(e.editorModel.props),t.value=!0},onSave:()=>{P(e.editorModel,"props",u.copy(r(l))),l.value={},t.value=!1},onCancel:()=>{l.value={},t.value=!1}}}};var Ta=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{key:"option-note-editor"},[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-button",{staticClass:"config-btn",attrs:{plain:"",type:"primary"},on:{click:l.onConfigInit}},[e._v("\u4FEE\u6539\u914D\u7F6E")]),l.opNoteVisible?t("el-dialog",{staticClass:"op-note-dialog",attrs:{title:"\u9009\u9879\u63D0\u793A\u914D\u7F6E","close-on-click-modal":!1,visible:l.opNoteVisible,"before-close":l.onCancel},on:{"update:visible":function(o){l.opNoteVisible=o}}},[t("div",{staticClass:"basic-container"},[t("div",{staticClass:"basic-title"},[t("span",[e._v("\u9009\u9879\u503C")]),t("span",[e._v("\u63D0\u793A\u5185\u5BB9")])]),e._l(l.tempProps.opNoteSet,function(o,s){return t("div",{key:s,staticClass:"basic-item"},[t("el-select",{staticStyle:{flex:"1"},attrs:{clearable:"",filterable:"",placeholder:"\u9009\u62E9\u9009\u9879\u503C"},model:{value:o.target,callback:function(a){e.$set(o,"target",a)},expression:"item.target"}},e._l(l.tempProps.dic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("el-input",{staticStyle:{flex:"1"},attrs:{type:"text",placeholder:"\u63D0\u793A\u5185\u5BB9"},model:{value:o.value,callback:function(a){e.$set(o,"value",typeof a=="string"?a.trim():a)},expression:"item.value"}}),t("i",{directives:[{name:"show",rawName:"v-show",value:s===l.tempProps.opNoteSet.length-1,expression:"index === tempProps.opNoteSet.length - 1"}],staticClass:"el-icon-my-relAdd",staticStyle:{"margin-right":"8px"},on:{click:()=>l.tempProps.opNoteSet.push({target:"",value:""})}}),t("i",{directives:[{name:"show",rawName:"v-show",value:l.tempProps.opNoteSet.length>1,expression:"tempProps.opNoteSet.length > 1"}],staticClass:"el-icon-my-relDel",on:{click:()=>l.tempProps.opNoteSet.splice(s,1)}})],1)})],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onCancel}},[e._v("\u53D6\u6D88")])],1)]):e._e()],2)},Na=[],Aa=B(wa,Ta,Na,!1,null,"5ddf1b90",null,null);const Pa=Aa.exports,Oa=Object.freeze(Object.defineProperty({__proto__:null,default:Pa},Symbol.toStringTag,{value:"Module"}));const $a={__name:"option-origin-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,{usedDatasetList:t}=ve({usedDatasetList:N=>N.form.choosedDataset}),{setUsedDatasetList:l}=ge({setUsedDatasetList:"form/SET_CHOOSE_DATASET"}),o=x({}),s=N=>{const{slotId:L,value:z}=N;let E=e.editorModel.defVal?u.copy(e.editorModel.defVal):"";if(E){let I=e.editorModel.props.dic.map(q=>q.value);Array.isArray(E)?E=E.filter(q=>I.includes(q)):!I.includes(E)&&(E=""),P(e.editorModel,"defVal",E)}let V=u.copy(e.editorModel.slots);if(!(!V.named||V.named.length==0)){for(let O in V.named){let I=V.named[O];if(I.label===L){if(!I.comDetail)break;V.named[O].comDetail.props.cntCompDisArr[0].val=z,V.named[O].comDetail.props.cntCompReqArr[0].val=z}}P(e.editorModel,"slots",V)}},a=(N,L)=>{let z=u.copy(e.editorModel.slots.named);N?z=z.filter(E=>E.label!==N):z=z.filter((E,V)=>L!==V),P(e.editorModel.slots,"named",z)},D=N=>{if(N===-1){let L=e.editorModel.props.dic.length;e.editorModel.props.dic.push({label:`\u9009\u9879${L+1}`,value:`${L+1}`,hadSlot:!1,slotId:u.nanoid()})}else{let L=e.editorModel.props.dic.splice(N,1);console.log(L,"option"),L[0].hadSlot&&a(L.slotId,N)}},S=x(!1),$=Q(()=>e.editorModel.name!=="dCascader"||e.editorModel.props.dicOrigin!==1?!1:(e.editorModel.props.dic||[]).length>0),T=Q(()=>{if(e.editorModel.name!=="dCascader"||!r(S))return!1}),v=()=>{o.value=u.copy(e.editorModel.props),S.value=!0},m=x(null),_=x(null),p=(N,L)=>{if(u.isEmpty(L)){let z=function(E,V){for(let O in E){let I=E[O];if(I.id===V){E.splice(O,1);break}I.children&&I.children.length>0&&z(I.children,V)}};z(r(o).dic,N)}else{let E=function(V,O){for(let I in V){let q=V[I];if(q.id===O){V[I].children?V[I].children.push({pid:O,id:u.nanoid(),label:u.nanoid(3),value:u.nanoid(3),isEdit:!1,level:L+1,children:null}):V[I].children=[{pid:O,id:u.nanoid(),label:u.nanoid(3),value:u.nanoid(3),isEdit:!1,level:L+1,children:null}];break}q.children&&q.children.length>0&&E(q.children,O)}},z=u.copy(r(o).dic);N===0?z.push({pid:N,id:u.nanoid(),label:u.nanoid(3),value:u.nanoid(3),isEdit:!1,level:0,children:null}):E(z,N),P(o.value,"dic",z)}},M=(N,L)=>{N==="a"?(_.value=u.copy(L),L.isEdit=!0):N==="b"?p(L.pid,L.level-1):N==="c"?p(L.id,L.level):N==="d"&&p(L.id)},w=()=>{o.value={},S.value=!1},b=()=>{P(e.editorModel,"props",u.copy(r(o))),o.value={},S.value=!1},F=x(!1);return{__sfc:!0,props:e,usedDatasetList:t,setUsedDatasetList:l,tempProps:o,defValAndSlotCntUpdateHandler:s,deleteSlotOption:a,onControlDicOpNum:D,cascaderVisible:S,showCascaderDicEdit:$,showDelBtn:T,onInitCascaderDic:v,activeTreeNodeId:m,treeNodeCache:_,onControlTreeNodeNum:p,handleTreeNodeCommand:M,onCVClose:w,onCVSave:b,datasetVisible:F,DatasetDialog:$e}}};var Ra=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{attrs:{prop:"option-origin-editor"}},[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))]),l.showCascaderDicEdit?t("span",{staticStyle:{color:"#007aff",cursor:"pointer",float:"right"},on:{click:l.onInitCascaderDic}},[e._v("\u4FEE\u6539\u6570\u636E")]):e._e()]),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},model:{value:e.editorModel.props.dicOrigin,callback:function(o){e.$set(e.editorModel.props,"dicOrigin",o)},expression:"editorModel.props.dicOrigin"}},[t("el-option",{attrs:{label:"\u9759\u6001\u6570\u636E",value:1}}),t("el-option",{attrs:{label:"\u52A8\u6001\u6570\u636E",value:2,disabled:e.editorModel.name!=="dSelect"}})],1),e.editorModel.props.dicOrigin===1?t("div",{staticClass:"static-origin",class:{"static-origin__dCascader":e.editorModel.name==="dCascader","dCascader-is-empty":e.editorModel.name==="dCascader"&&(!e.editorModel.props.dic||e.editorModel.props.dic.length===0)}},[e.editorModel.name==="dCascader"?[!e.editorModel.props.dic||e.editorModel.props.dic.length===0?t("el-form-item",{key:"dCascader-dic",staticStyle:{"margin-top":"12px"}},[t("el-button",{staticClass:"config-btn",attrs:{type:"primary",plain:""},on:{click:()=>{l.tempProps=JSON.parse(JSON.stringify(e.editorModel.props)),l.cascaderVisible=!0}}},[e._v("\u6570\u636E\u914D\u7F6E")])],1):t("div",{staticClass:"dic-tree"},[t("el-tree",{attrs:{"default-expand-all":"",data:e.editorModel.props.dic,indent:8,"node-key":"id",props:{children:"children",label:"label"}},scopedSlots:e._u([{key:"default",fn:function({data:o}){return t("span",{staticClass:"com-tree-item"},[e._v(" "+e._s(o.label)+" ")])}}],null,!1,3433230736)})],1)]:[t("div",{staticClass:"dic-con"},[t("div",{staticClass:"dic-title"},[t("span",{staticStyle:{"margin-right":"8px"}},[e._v("\u6807\u7B7E")]),t("span",[e._v("\u503C")])]),t("draggable",e._b({staticClass:"op-group",model:{value:e.editorModel.props.dic,callback:function(o){e.$set(e.editorModel.props,"dic",o)},expression:"editorModel.props.dic"}},"draggable",{animation:300},!1),e._l(e.editorModel.props.dic,function(o,s){return t("div",{key:s,staticClass:"option-item"},[t("el-input",{staticStyle:{width:"100px","margin-right":"8px"},attrs:{type:"text",placeholder:"\u6807\u9898"},model:{value:o.label,callback:function(a){e.$set(o,"label",typeof a=="string"?a.trim():a)},expression:"item.label"}}),t("el-input",{staticStyle:{width:"100px","margin-right":"8px"},attrs:{type:"text",placeholder:"\u503C"},on:{input:function(a){return l.defValAndSlotCntUpdateHandler(o)}},model:{value:o.value,callback:function(a){e.$set(o,"value",typeof a=="string"?a.trim():a)},expression:"item.value"}}),t("i",{staticClass:"el-icon-delete",on:{click:function(a){return l.onControlDicOpNum(s)}}})],1)}),0)],1),t("div",{staticClass:"add-btn",on:{click:function(o){return l.onControlDicOpNum(-1)}}},[t("div",{staticClass:"plus"}),e._v("\u6DFB\u52A0\u6807\u7B7E ")])]],2):e.editorModel.props.dicOrigin===2?t("el-form-item",{key:"active-origin",staticClass:"active-origin"},[t("template",{slot:"label"},[t("span",[e._v("\u52A8\u6001\u5B57\u5178\u6570\u636E\u6E90")])]),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{focus:function(o){l.datasetVisible=!0}},model:{value:e.editorModel.props.datset_name,callback:function(o){e.$set(e.editorModel.props,"datset_name",o)},expression:"editorModel.props.datset_name"}})],2):e._e(),l.cascaderVisible?t("el-dialog",{staticClass:"cascader-dic-dialog",attrs:{title:"\u7EA7\u8054\u6570\u636E\u914D\u7F6E","close-on-click-modal":!1,visible:l.cascaderVisible,"before-close":l.onCVClose},on:{"update:visible":function(o){l.cascaderVisible=o}}},[l.tempProps?t("div",{staticClass:"dic-container"},[l.tempProps.dic.length!==0?t("el-tree",{attrs:{"default-expand-all":"","current-node-key":l.treeNodeCache?l.treeNodeCache.id:"",data:l.tempProps.dic,"expand-on-click-node":!1,indent:8,"node-key":"id",props:{children:"children",label:"label"}},on:{"node-click":o=>{l.treeNodeCache||(l.activeTreeNodeId=o.id)}},scopedSlots:e._u([{key:"default",fn:function({data:o}){return t("span",{staticClass:"com-tree-item"},[o.isEdit?t("div",{staticClass:"com-tree-edit-item",on:{click:function(s){s.stopPropagation()}}},[t("el-input",{staticStyle:{"margin-right":"8px"},attrs:{type:"text",placeholder:"\u6807\u9898"},model:{value:o.label,callback:function(s){e.$set(o,"label",typeof s=="string"?s.trim():s)},expression:"data.label"}}),t("el-input",{attrs:{type:"text",placeholder:"\u503C"},model:{value:o.value,callback:function(s){e.$set(o,"value",typeof s=="string"?s.trim():s)},expression:"data.value"}}),t("el-button",{staticStyle:{"margin-left":"8px",display:"inline-flex"},attrs:{type:"text"}},[t("span",{staticStyle:{color:"#007aff"},on:{click:()=>{l.treeNodeCache=null,o.isEdit=!1}}},[e._v("\u786E\u5B9A")])]),t("el-button",{staticStyle:{"margin-left":"8px",display:"inline-flex"},attrs:{type:"text"}},[t("span",{staticStyle:{color:"#595959"},on:{click:()=>{o.label=l.treeNodeCache.label,o.value=l.treeNodeCache.value,l.treeNodeCache=null,o.isEdit=!1}}},[e._v("\u53D6\u6D88")])])],1):t("span",[e._v(e._s(o.label))]),t("span",{directives:[{name:"show",rawName:"v-show",value:l.activeTreeNodeId===o.id&&!o.isEdit,expression:"activeTreeNodeId === data.id && !data.isEdit"}],on:{click:function(s){s.stopPropagation()}}},[t("el-dropdown",{attrs:{trigger:"click"},on:{command:s=>{l.handleTreeNodeCommand(s,o)}}},[t("span",{staticClass:"el-dropdown-link"},[t("i",{staticClass:"el-icon-more",staticStyle:{color:"#007aff","font-size":"18px"}})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"a"}},[e._v("\u7F16\u8F91")]),t("el-dropdown-item",{attrs:{command:"b"}},[e._v("\u65B0\u589E\u540C\u7EA7")]),o.level<=3?t("el-dropdown-item",{attrs:{command:"c"}},[e._v("\u65B0\u589E\u4E0B\u7EA7")]):e._e(),t("el-dropdown-item",{attrs:{command:"d"}},[e._v("\u5220\u9664")])],1)],1)],1)])}}],null,!1,1914527021)}):t("div",{staticClass:"dic-empty"},[t("el-button",{staticClass:"empty-btn",attrs:{plain:"",type:"primary"},on:{click:function(o){return l.onControlTreeNodeNum(0,0)}}},[e._v("\u65B0\u589E")]),t("div",[e._v("\u6682\u65E0\u6570\u636E")])],1)],1):e._e(),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onCVSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onCVClose}},[e._v("\u53D6\u6D88")])],1)]):e._e(),t(l.DatasetDialog,{attrs:{editorModel:e.editorModel,config:{type:"selectActive"}},model:{value:l.datasetVisible,callback:function(o){l.datasetVisible=o},expression:"datasetVisible"}})],2)},La=[],Ia=B($a,Ra,La,!1,null,"e4cd1e5b",null,null);const Fa=Ia.exports,Ea=Object.freeze(Object.defineProperty({__proto__:null,default:Fa},Symbol.toStringTag,{value:"Module"}));const Va={__name:"option-slot-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=[{label:"\u8F93\u5165\u6846",value:"dInput"},{label:"\u6570\u503C\u8F93\u5165\u6846",value:"dInputNumber"},{label:"\u591A\u884C\u8F93\u5165\u6846",value:"dTextarea"},{label:"\u65E5\u671F\u9009\u62E9\u5668",value:"dTime"},{label:"\u5355\u9009\u6846",value:"dRadio"},{label:"\u591A\u9009\u6846",value:"dCheckbox"},{label:"\u4E0B\u62C9\u9009\u62E9\u5668",value:"dSelect"},{label:"\u7EA7\u8054\u9009\u62E9\u5668",value:"dCascader"},{label:"\u5730\u533A\u9009\u62E9\u5668",value:"dRegion"},{label:"\u5206\u7EC4",value:"dDraggable"}],l=Q(()=>{if(!!e.editorModel.slots.named)return e.editorModel.slots.named.length<e.editorModel.props.dic.length}),o=Q(()=>{var m,_,p,M;let T=(_=(m=e.editorModel)==null?void 0:m.props)==null?void 0:_.dic,v=(M=(p=e.editorModel)==null?void 0:p.slots)==null?void 0:M.named;if(T&&T.length>0&&v&&v.length>0){let w=v.map(F=>F.label),b=T.filter(F=>!w.includes(F.slotId));return b=b.map(F=>F.slotId),b}else return[]}),s=(T,v)=>{e.editorModel.slots.named||P(e.editorModel.slots,"named",[]);let m=u.copy(e.editorModel.slots.named);console.log(m,"named"),T===-1?m.push({label:"",value:"",block:!1}):v?m=m.filter(_=>_.label!==v):m=m.filter((_,p)=>T!==p),P(e.editorModel.slots,"named",m)},a=(T,v)=>{let m=[];for(let _ in e.editorModel.slots.named){let p=e.editorModel.slots.named[_];_==v?(P(e.editorModel.slots.named[_],"comDetail",null),P(e.editorModel.slots.named[_],"value",""),P(e.editorModel.slots.named[_],"block",!1),T&&m.push(T)):p.label&&m.push(p.label)}for(let _ of e.editorModel.props.dic)m.includes(_.slotId)?_.hadSlot=!0:(_.hadSlot=!1,_.block=!1)},D=T=>{let v=u.copy(T);return v.id=u.nanoid(),v.props.labelAlign="flex-end",v.props.labelColAlign="center",v.props.cntCompDisArr=[{id:u.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}],v.props.cntCompReqArr=[{id:u.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}],v.props.cntCompShowArr=[{id:u.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}],v.name==="dInput"&&(v.props.searchPageWidth=550),["dRadio","dCheckbox"].includes(v.name)&&(v.props.dic=v.props.dic.map(m=>({...m,slotId:u.nanoid()})),v.props.chooseAlign="many",v.props.chooseRowNum=0),["dRadio","dCheckbox","dSelect"].includes(v.name)&&(v.props.opDisabledSet=[{target:"",type:"",value:"",options:[]}],v.props.opNoteSet=[{target:"",value:""}]),v.name==="dCascader"&&(v.props.dic=[{pid:0,id:1,label:"\u4E00\u7EA7\u9009\u9879",value:"a",isEdit:!1,level:1,children:[{pid:1,id:2,label:"\u4E8C\u7EA7\u9009\u9879",value:"b",isEdit:!1,level:2,children:[{pid:2,id:3,label:"\u4E09\u7EA7\u9009\u9879",value:"c",isEdit:!1,level:3}]}]}]),v.name==="dDraggable"&&(v.props.gpDisCdtGp=[{key:"",label:"",op:"",logicOp:""}],v.props.align=1,v.props.cAlign=1,v.props.groupBorderColor="#ccc"),v.name==="dComputeTable"&&(v.props.hCodeList=[],v.props.cTableTitle="\u8BA1\u7B97\u8868\u683C"),v.name==="dDivider"&&(v.props.dividerType="solid",v.props.dividerHeight=1,v.props.dividerColor="#606871"),v.name==="dText"&&(v.props.textColor="#262626",v.props.textAlign="left",v.props.textFontSize=12,v.props.textLineHeight=12,v.props.textSpaceLetter=0,v.props.textWeight=!1),v.name==="dFish"&&(v.props.dicDataSet={},v.props.busDataSet={}),v};return{__sfc:!0,props:e,slotDic:t,showAdd:l,slotOptions:o,onControlSlotNum:s,handleOpHadSlot:a,extendCompProp:D,generateCom:(T,v)=>{if(!T){v.comDetail=null;return}const{basic:m,container:_}=We;let p=[...m,..._].find(N=>N.name===T);if(!p)return;let M=D(p);M.id=u.nanoid(),M.tag="slot",M.label="",M.props.labelWidth=0,M.attrs=M.attrs.map(N=>N.key==="disabled"?{...N,value:!0}:N);const{label:w}=v,{props:{dic:b},id:F}=e.editorModel;if(b){let N=b.find(L=>L.hadSlot&&L.slotId===w);N&&(M.props.cntCompDisArr=[{id:u.nanoid(),cntCompId:F,op:"notEqual",val:N.value,logicOp:""}],M.props.cntCompReqArr=[{id:u.nanoid(),cntCompId:F,op:"equal",val:N.value,logicOp:""}])}v.comDetail=M},handleOpBlock:(T,v)=>{let{props:{dic:m}}=e.editorModel;if(m){for(let _ in m)if(m[_].slotId===v.label){m[_].block=T;break}}}}}};var Ba=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{key:"option-slot-editor"},[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))]),l.showAdd?t("div",{staticClass:"add-btn",on:{click:function(o){return l.onControlSlotNum(-1)}}},[t("div",{staticClass:"plus"}),e._v("\u6DFB\u52A0\u63D2\u69FD ")]):e._e()]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.editorModel.slots.named&&e.editorModel.slots.named.length>0,expression:"editorModel.slots.named && editorModel.slots.named.length > 0"}],staticClass:"slot-con"},[t("div",{staticClass:"slot-title"},[t("span",{staticStyle:{"margin-right":"8px"}},[e._v("\u6807\u7B7E")]),t("span",{staticStyle:{"margin-right":"8px"}},[e._v("\u63D2\u69FD\u7C7B\u578B")]),t("span",[e._v("\u4E0E\u9009\u9879\u540C\u884C")])]),e._l(e.editorModel.slots.named,function(o,s){return t("div",{key:s,staticClass:"slot-item"},[t("el-select",{staticStyle:{width:"72px","margin-right":"8px"},attrs:{placeholder:"\u6807\u7B7E"},on:{change:a=>{l.handleOpHadSlot(a,s)}},model:{value:o.label,callback:function(a){e.$set(o,"label",typeof a=="string"?a.trim():a)},expression:"item.label"}},e._l(e.editorModel.props.dic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,disabled:!l.slotOptions.includes(a.slotId),value:a.slotId}})}),1),t("el-select",{staticStyle:{width:"72px","margin-right":"8px"},attrs:{disabled:!o.label,clearable:"",placeholder:"\u7C7B\u578B"},on:{change:a=>{l.generateCom(a,o)}},model:{value:o.value,callback:function(a){e.$set(o,"value",typeof a=="string"?a.trim():a)},expression:"item.value"}},e._l(l.slotDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("el-switch",{staticStyle:{"margin-right":"8px"},attrs:{"active-color":"#007aff","inactive-color":"#939BA6"},on:{change:a=>{l.handleOpBlock(a,o)}},model:{value:o.block,callback:function(a){e.$set(o,"block",a)},expression:"item.block"}}),t("i",{staticClass:"el-icon-delete",on:{click:function(a){return l.onControlSlotNum(s,o.label)}}})],1)})],2)],2)},za=[],ja=B(Va,Ba,za,!1,null,"d7fb07bf",null,null);const Ha=ja.exports,qa=Object.freeze(Object.defineProperty({__proto__:null,default:Ha},Symbol.toStringTag,{value:"Module"}));const Wa={__name:"time-compare-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f,t=oe("flatData",[]),l=Q(()=>{let S=[{label:"\u5F53\u524D\u65F6\u95F4",id:"now"},{label:"\u9009\u62E9\u65F6\u95F4",id:"choose"}],$=r(t).filter(T=>T.name==="dTime"&&T.id!==e.editorModel.id);return S=[...S,...$],S}),o=[{label:"\u7B49\u4E8E",value:"equal"},{label:"\u4E0D\u7B49\u4E8E",value:"notEqual"},{label:"\u5927\u4E8E",value:"greater"},{label:"\u5C0F\u4E8E",value:"less"},{label:"\u5927\u4E8E\u7B49\u4E8E",value:"greaterEqual"},{label:"\u5C0F\u4E8E\u7B49\u4E8E",value:"lessEqual"}],s=x("");return{__sfc:!0,props:e,flatData:t,compareDic:l,opDic:o,tempTimeChoose:s,handleTimeCompare:S=>{let $=r(t).find(v=>v.id===S),T=e.editorModel.props.timeCompareArr.find(v=>v.target===S);if(T){if(S==="now"){T.value="now";return}if(S==="choose"){T.value="choose";return}$&&(T.value=`${e.editorModel.label}|${$.id}|${$.label}`)}},onControlItemNum:S=>{e.editorModel.props.timeCompareArr||P(e.editorModel.props,"timeCompareArr",[]),S===-1?e.editorModel.props.timeCompareArr.push({type:"",target:"",value:""}):e.editorModel.props.timeCompareArr.splice(S,1)}}}};var Ja=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{key:"time-compare-editor"},[t("template",{slot:"label"},[t("span",[e._v("\u65E5\u671F\u6BD4\u8F83")]),t("div",{staticClass:"add-btn",staticStyle:{float:"right"},on:{click:function(o){return l.onControlItemNum(-1)}}},[t("div",{staticClass:"plus"}),e._v("\u6DFB\u52A0\u6BD4\u8F83 ")])]),t("div",{staticClass:"time-compare"},[t("div",{staticClass:"time-compare-title"},[t("span",{staticStyle:{"margin-right":"8px"}},[e._v("\u7C7B\u578B")]),t("span",[e._v("\u5BF9\u8C61")])]),e._l(e.editorModel.props.timeCompareArr,function(o,s){return t("div",{key:s,staticClass:"time-compare-item"},[t("el-select",{staticStyle:{"margin-right":"8px"},attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.type,callback:function(a){e.$set(o,"type",a)},expression:"item.type"}},e._l(l.opDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),o.target!=="choose"?t("el-select",{attrs:{clearable:"","allow-create":"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},on:{change:l.handleTimeCompare},model:{value:o.target,callback:function(a){e.$set(o,"target",a)},expression:"item.target"}},e._l(l.compareDic,function(a){return t("el-option",{key:a.id,attrs:{label:a.label,value:a.id}})}),1):e._e(),o.target==="choose"?t("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm",placeholder:"\u8BF7\u9009\u62E9"},on:{change:a=>{o.target=a,l.tempTimeChoose=""}},model:{value:l.tempTimeChoose,callback:function(a){l.tempTimeChoose=a},expression:"tempTimeChoose"}}):e._e(),t("i",{staticClass:"el-icon-delete",on:{click:function(a){return l.onControlItemNum(s)}}})],1)}),!e.editorModel.props.timeCompareArr||e.editorModel.props.timeCompareArr.length===0?t("el-empty",{scopedSlots:e._u([{key:"image",fn:function(){return[t("span",{staticStyle:{display:"none"}})]},proxy:!0}],null,!1,259797040)}):e._e()],2)],2)},Ga=[],Ua=B(Wa,Ja,Ga,!1,null,"60b52b91",null,null);const Qa=Ua.exports,Ka=Object.freeze(Object.defineProperty({__proto__:null,default:Qa},Symbol.toStringTag,{value:"Module"}));const Ya={__name:"width-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(f){const e=f;return{__sfc:!0,props:e,handleWidthInput:l=>{l=l.replace(/[^\d]/g,""),e.editorModel.width=Number(l)}}}};var Za=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{staticClass:"width-editor",attrs:{prop:"width"}},[t("template",{slot:"label"},[t("span",[e._v("\u63A7\u4EF6")]),t("span",[e._v("id\uFF1A"+e._s(e.editorModel.id))])]),t("div",{staticClass:"slider-control"},[t("span",[e._v("\u5BBD\u5EA6")]),t("el-slider",{model:{value:e.editorModel.props.width,callback:function(o){e.$set(e.editorModel.props,"width",o)},expression:"editorModel.props.width"}}),t("el-input",{attrs:{type:"number",max:100},on:{input:l.handleWidthInput},model:{value:e.editorModel.props.width,callback:function(o){e.$set(e.editorModel.props,"width",e._n(o))},expression:"editorModel.props.width"}})],1),t("div",{staticClass:"fast-btn"},[t("span",{on:{click:function(o){e.editorModel.props.width=25}}},[e._v("25%")]),t("span",{on:{click:function(o){e.editorModel.props.width=50}}},[e._v("50%")]),t("span",{on:{click:function(o){e.editorModel.props.width=75}}},[e._v("75%")]),t("span",{on:{click:function(o){e.editorModel.props.width=100}}},[e._v("100%")])])],2)},Xa=[],ei=B(Ya,Za,Xa,!1,null,"241fb08c",null,null);const ti=ei.exports,li=Object.freeze(Object.defineProperty({__proto__:null,default:ti},Symbol.toStringTag,{value:"Module"}));function oi(){const e=Object.values(Object.assign({"./property-editor/active-table-dataset-editor.vue":yl,"./property-editor/common-editor/button-group-editor.vue":Ml,"./property-editor/common-editor/color-editor.vue":Ol,"./property-editor/common-editor/input-editor.vue":El,"./property-editor/common-editor/input-number-editor.vue":ql,"./property-editor/common-editor/select-editor.vue":Kl,"./property-editor/common-editor/switch-editor.vue":to,"./property-editor/compute-table-hCode-editor.vue":ro,"./property-editor/connect-editor.vue":mo,"./property-editor/default-editor.vue":yo,"./property-editor/divider-type-editor.vue":Mo,"./property-editor/drop-table-editor/drop-config-editor.vue":Oo,"./property-editor/drop-table-editor/drop-connect-editor.vue":Eo,"./property-editor/field-editor.vue":qo,"./property-editor/fish-bone-dataset-editor.vue":Ko,"./property-editor/fish-business-dataset-editor.vue":la,"./property-editor/group-disable-editor.vue":na,"./property-editor/option-connect-form-editor.vue":ma,"./property-editor/option-disable-editor.vue":ya,"./property-editor/option-layout-editor.vue":Ma,"./property-editor/option-note-editor.vue":Oa,"./property-editor/option-origin-editor.vue":Ea,"./property-editor/option-slot-editor.vue":qa,"./property-editor/time-compare-editor.vue":Ka,"./property-editor/width-editor.vue":li})),t={},l=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,D,S)=>D?D.toUpperCase():a.toLowerCase());return e.forEach(o=>{const s=l(o.default.__name);t[s]=o.default}),t}const ai={width:"width-editor",suffixCon:"input-editor",height:"input-number-editor",label:"input-editor",compFontSize:"input-number-editor",labelAlign:"button-group-editor",labelColAlign:"button-group-editor",isRowLabel:"switch-editor",labelWidth:"input-number-editor",opLayout:"option-layout-editor",opHeight:"input-number-editor",boxType:"button-group-editor",labelType:"button-group-editor",showGroupBorder:"switch-editor",groupBorderColor:"color-editor",tableState:"switch-editor",align:"button-group-editor",cAlign:"button-group-editor",rowCounts:"input-number-editor",dividerType:"divider-type-editor",dividerHeight:"input-number-editor",dividerColor:"color-editor",textAlign:"button-group-editor",textWeight:"switch-editor",textFontSize:"input-number-editor",textLineHeight:"input-number-editor",textSpaceLetter:"input-number-editor",textColor:"color-editor",placeholder:"input-editor",tailAddWidth:"input-number-editor",headAddWidth:"input-number-editor",mBoneBetween:"input-number-editor",boneDeg:"input-number-editor",sDirection:"select-editor",sBoneBetween:"input-number-editor",lDirection:"select-editor",lBoneBetween:"input-number-editor",cTableTitle:"input-editor"},ii={dInput:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0},{prop:"placeholder",label:"\u8F93\u5165\u63D0\u9192\u4FE1\u606F",isAttr:!0}],dInputNumber:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0}],dTextarea:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0},{prop:"placeholder",label:"\u8F93\u5165\u63D0\u9192\u4FE1\u606F",isAttr:!0}],dTime:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0},{prop:"placeholder",label:"\u8F93\u5165\u63D0\u9192\u4FE1\u606F",isAttr:!0}],dRadio:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0},{prop:"opLayout",label:"\u5E03\u5C40\u65B9\u5F0F"},{prop:"opHeight",label:"\u9009\u9879\u884C\u95F4\u8DDD",attrs:{min:0,max:100}},{prop:"boxType",label:"\u9009\u9879\u6846\u6837\u5F0F",dic:[{label:"\u5706\u6846",value:1},{label:"\u65B9\u6846",value:2}]},{prop:"labelType",label:"\u9009\u9879\u6807\u9898\u4F4D\u7F6E",dic:[{label:"\u5C45\u5DE6",value:1},{label:"\u5C45\u53F3",value:2}]}],dCheckbox:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0},{prop:"opLayout",label:"\u5E03\u5C40\u65B9\u5F0F"},{prop:"opHeight",label:"\u9009\u9879\u884C\u95F4\u8DDD",attrs:{min:0,max:100}},{prop:"boxType",label:"\u9009\u9879\u6846\u6837\u5F0F",dic:[{label:"\u5706\u6846",value:1},{label:"\u65B9\u6846",value:2}]},{prop:"labelType",label:"\u9009\u9879\u6807\u9898\u4F4D\u7F6E",dic:[{label:"\u5C45\u5DE6",value:1},{label:"\u5C45\u53F3",value:2}]}],dSelect:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0},{prop:"placeholder",label:"\u8F93\u5165\u63D0\u9192\u4FE1\u606F",isAttr:!0}],dCascader:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0}],dRegion:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0}],dPlaceholder:[{prop:"width",label:"\u63A7\u4EF6"}],dTitle:[{prop:"width",label:"\u63A7\u4EF6"}],dText:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"textAlign",label:"\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"left"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"right"}]},{prop:"textWeight",label:"\u5B57\u4F53\u7C97\u7EC6"},{prop:"textFontSize",label:"\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"}],dImage:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"height",label:"\u9AD8\u5EA6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0}],dDivider:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"dividerType",label:"\u7EBF\u6761\u6837\u5F0F"},{prop:"dividerHeight",label:"\u7EBF\u6761\u7C97\u7EC6",attrs:{min:1,max:30}},{prop:"dividerColor",label:"\u7EBF\u6761\u989C\u8272"}],dDraggable:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"showGroupBorder",label:"\u663E\u793A\u8FB9\u6846",listeners:{change(f,e){f||P(e.props,"groupBorderColor","#ccc")}}},{prop:"groupBorderColor",label:"\u8FB9\u6846\u989C\u8272"},{prop:"tableState",label:"\u8868\u683C\u6A21\u5F0F"},{prop:"align",label:"\u5206\u7EC4\u5185\u5BB9\u6C34\u5E73\u5E03\u5C40",dic:[{label:"\u5C45\u5DE6",value:1},{label:"\u5C45\u4E2D",value:2},{label:"\u5C45\u53F3",value:3},{label:"\u4E24\u7AEF",value:4}]},{prop:"cAlign",label:"\u5206\u7EC4\u5185\u5BB9\u5782\u76F4\u5E03\u5C40",dic:[{label:"\u9876\u90E8",value:1},{label:"\u5C45\u4E2D",value:2},{label:"\u9876\u90E8",value:3}]}],dActiveTable:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"rowCounts",label:"\u8868\u683C\u521D\u59CB\u884C\u6570"}],dComputeTable:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"cTableTitle",label:"\u8868\u683C\u6807\u9898"}],dFish:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"height",label:"\u9AD8\u5EA6"},{prop:"tailAddWidth",label:"\u9C7C\u5C3E\u989D\u5916\u5BBD\u5EA6",attrs:{min:200,max:1/0}},{prop:"headAddWidth",label:"\u9C7C\u5934\u989D\u5916\u5BBD\u5EA6",attrs:{min:200,max:1/0}},{prop:"mBoneBetween",label:"\u4E00\u7EA7\u9C7C\u523A\u8282\u70B9\u95F4\u8DDD",attrs:{min:0,max:1/0}},{prop:"boneDeg",label:"\u4E00\u7EA7\u9C7C\u523A\u5F2F\u66F2\u89D2\u5EA6",attrs:{min:15,max:75}},{prop:"sDirection",label:"\u4E8C\u7EA7\u9C7C\u9AA8\u671D\u5411",dic:[{label:"\u5DE6",value:"left"},{label:"\u53F3",value:"right"},{label:"\u4EA4\u9519",value:"stagger"}]},{prop:"sBoneBetween",label:"\u4E8C\u7EA7\u9C7C\u523A\u8282\u70B9\u95F4\u8DDD",attrs:{min:0,max:1/0}},{prop:"lDirection",label:"\u4E09\u7EA7\u9C7C\u9AA8\u671D\u5411",dic:[{label:"\u5916",value:"top"},{label:"\u5185",value:"bottom"},{label:"\u4EA4\u9519",value:"stagger"}]},{prop:"lBoneBetween",label:"\u4E09\u7EA7\u9C7C\u523A\u8282\u70B9\u95F4\u8DDD",attrs:{min:0,max:1/0}}]},si={maxlength:"input-number-editor",defVal:"default-editor",dataset_code:"field-editor",dataset_field:"field-editor",reserve_field:"input-editor",isSearch:"drop-connect-editor",dropConfig:"drop-config-editor",precision:"input-number-editor",min:"input-number-editor",max:"input-number-editor","value-format":"select-editor",type:"switch-editor",connect_field:"input-editor",option_note_config:"option-note-editor",option_connect_form_config:"option-connect-form-editor",option_disable_config:"option-disable-editor",option_origin_config:"option-origin-editor",option_slot_config:"option-slot-editor",multiple:"switch-editor",datset_name:"active-table-dataset-editor",hCodeList:"compute-table-hCode-editor",fishBoneDataset:"fish-bone-dataset-editor",fishBusinessDataset:"fish-business-dataset-editor"},ri={dInput:[{prop:"maxlength",label:"\u6700\u5927\u8F93\u5165\u957F\u5EA6\uFF08\u5B57\u7B26\u957F\u5EA6\uFF09",isAttr:!0,attrs:{min:0,max:8e3}},{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0},{prop:"isSearch",label:"\u5173\u8054\u4E0B\u62C9\u9875\u9762\u5217\u8868"},{prop:"dropConfig",secConfig:{bindName:{prop:"bindName",label:"\u5173\u8054\u67E5\u8BE2\u914D\u7F6E"},searchPageWidth:{prop:"searchPageWidth",label:"\u67E5\u8BE2\u914D\u7F6E\u5BBD\u5EA6",attrs:{min:550,max:1800}},dropCondition:{prop:"dropCondition",label:"\u4E0B\u62C9\u6761\u4EF6\u914D\u7F6E"},compInteractive:{prop:"compInteractive",label:"\u7EC4\u4EF6\u4EA4\u4E92"}}}],dInputNumber:[{prop:"precision",label:"\u7CBE\u5EA6",isAttr:!0,attrs:{min:0,max:10}},{prop:"min",label:"\u6700\u5C0F\u503C",isAttr:!0,attrs:{min:-1/0,max:1/0}},{prop:"max",label:"\u6700\u5927\u503C",isAttr:!0,attrs:{min:-1/0,max:1/0}},{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0}],dTextarea:[{prop:"maxlength",label:"\u6700\u5927\u8F93\u5165\u957F\u5EA6\uFF08\u5B57\u7B26\u957F\u5EA6\uFF09",isAttr:!0,attrs:{min:0,max:8e3}},{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0}],dTime:[{prop:"value-format",label:"\u65E5\u671F\u683C\u5F0F",isAttr:!0,dic:[{label:"\u5E74-\u6708-\u65E5",value:"yyyy-MM-dd"},{label:"\u5E74-\u6708-\u65E5 \u65F6",value:"yyyy-MM-dd HH"},{label:"\u5E74-\u6708-\u65E5 \u65F6-\u5206",value:"yyyy-MM-dd HH:mm"},{label:"\u5E74-\u6708-\u65E5 \u65F6-\u5206-\u79D2",value:"yyyy-MM-dd HH:mm:ss"}]},{prop:"type",label:"\u662F\u5426\u8303\u56F4\u9009\u62E9",rLabel:"\u7EC4\u4EF6\u7C7B\u578B",isAttr:!0,attrs:{activeValue:"datetimerange",inactiveValue:"datetime"},listeners:{change(f,e){f==="datetimerange"?P(e,"defVal",[]):f==="datetime"&&P(e,"defVal","")}}},{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0}],dRadio:[{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_code",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u540D\u79F0)",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u7F16\u7801)",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0},{prop:"connect_field",label:"\u5173\u8054\u7EC4\u4EF6\u7EC4\u540D",root:!0},{prop:"option_note_config",label:"\u9009\u9879\u63D0\u793A\u914D\u7F6E"},{prop:"option_disable_config",label:"\u9009\u9879\u7981\u7528\u914D\u7F6E"},{prop:"option_connect_form_config",label:"\u5173\u8054\u5B50\u8868\u5355"},{prop:"option_origin_config",label:"\u6570\u636E\u6765\u6E90"},{prop:"option_slot_config",label:"\u63D2\u69FD\u914D\u7F6E"}],dCheckbox:[{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_code",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u540D\u79F0)",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u7F16\u7801)",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0},{prop:"option_origin_config",label:"\u6570\u636E\u6765\u6E90"},{prop:"option_slot_config",label:"\u63D2\u69FD\u914D\u7F6E"}],dSelect:[{prop:"multiple",label:"\u662F\u5426\u591A\u9009",isAttr:!0},{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_code",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u540D\u79F0)",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u7F16\u7801)",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0},{prop:"option_origin_config",label:"\u6570\u636E\u6765\u6E90"}],dCascader:[{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_code",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u540D\u79F0)",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u7F16\u7801)",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0},{prop:"option_origin_config",label:"\u6570\u636E\u6765\u6E90"}],dRegion:[{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_code",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u540D\u79F0)",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u7F16\u7801)",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0}],dTitle:[{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0}],dText:[{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0,attrs:{type:"textarea",resize:"none",autosize:{minRows:6,maxRows:6}}}],dImage:[{prop:"defVal",label:"\u56FE\u7247\u5730\u5740",root:!0}],dActiveTable:[{prop:"datset_name",label:"\u8868\u683C\u6570\u636E\u96C6"}],dComputeTable:[{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5",root:!0},{prop:"hCodeList",label:"\u8868\u683C\u5206\u6570\u914D\u7F6E"}],dFish:[{prop:"fishBoneDataset",label:"\u9C7C\u9AA8\u6570\u636E\u96C6"},{prop:"fishBusinessDataset",label:"\u7ED1\u5B9A\u6570\u636E\u96C6"}]},ni={isRequired:"switch-editor",reqMsg:"input-editor",isHidden:"switch-editor",isDisabled:"switch-editor",connect:"connect-editor",regText:"select-editor",regMsg:"input-editor",readonly:"switch-editor",timeCompare:"time-compare-editor",groupDisable:"group-disable-editor"},ci={dInput:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"regText",label:"\u6821\u9A8C\u89C4\u5219\uFF08\u53EF\u81EA\u5B9A\u4E49\u6B63\u5219\uFF09",dic:il,attrs:{allowCreate:!0,filterable:!0,clearable:!0}},{prop:"regMsg",label:"\u6821\u9A8C\u63D0\u793A"},{prop:"readonly",label:"\u662F\u5426\u4E3A\u53EA\u8BFB\u72B6\u6001",rLabel:"\u53EA\u8BFB\u72B6\u6001"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dInputNumber:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dTextarea:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dTime:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"timeCompare",label:"\u65E5\u671F\u6BD4\u8F83"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dRadio:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dCheckbox:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dSelect:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dRegion:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dPlaceholder:[{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"}],dTitle:[{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"}],dText:[{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"}],dImage:[{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"}],dDivider:[{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"}],dDraggable:[{prop:"groupDisable",label:"\u5206\u7EC4\u7981\u7528",rLabel:"\u5206\u7EC4\u7981\u7528\u6761\u4EF6"}]};const Ge=oi();console.log(Ge,"moduleMap");const di={name:"setting-panel",components:{...Ge}},pi=Object.assign(di,{setup(f){const{currentCom:e}=ve({currentCom:D=>D.form.currentCom}),{setCurrentCom:t}=ge({setCurrentCom:"form/SET_CUR_COMP"}),l=x("style"),o=Q({get:()=>(r(e)||(l.value="style"),r(e)),set:D=>{t(D)}});return{__sfc:!0,moduleMap:Ge,currentCom:e,setCurrentCom:t,activeName:l,editorModel:o,hasPropEditor:D=>{const{prop:S}=D;if(S==="dropConfig"){if(!r(o).props.isSearch)return!1}else if(S==="reqMsg"){if(!r(o).props.isRequired)return!1}else if(S==="regMsg"){if(!r(o).props.regText)return!1}else if(S==="option_note_config"){if(r(o).props.dicOrigin===2)return!1}else if(S==="hCodeList"){if(r(o).children.length===0)return!1}else if(S==="groupBorderColor"&&!r(o).props.showGroupBorder)return!1;return!(r(o)&&r(o).tag==="slot"&&["defVal","textFontSize","compFontSize","textLineHeight","textSpaceLetter","textColor","readonly","isHidden","isDisabled","connect"].includes(S))},namedPropEditor:D=>{if(r(l)==="style")return ai[D];if(r(l)==="data")return si[D];if(r(l)==="interaction")return ni[D]},COMP_STYLE:ii,COMP_DATA:ri,COMP_INTERACTION:ci}}});var ui=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{staticClass:"renderSet",class:{renderSet__hidden:!l.editorModel||!l.editorModel.id}},[l.editorModel&&l.editorModel.id?t("el-tabs",{staticClass:"editor-panel",model:{value:l.activeName,callback:function(o){l.activeName=o},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"\u6837\u5F0F",name:"style"}},[t("el-form",[e._l(l.COMP_STYLE[l.editorModel.name],function(o){return[l.hasPropEditor(o)?t(l.namedPropEditor(o.prop),{key:o.prop,tag:"component",attrs:{config:o,editorModel:l.editorModel}}):e._e()]})],2)],1),t("el-tab-pane",{attrs:{label:"\u6570\u636E",name:"data"}},[t("el-form",[e._l(l.COMP_DATA[l.editorModel.name],function(o){return[l.hasPropEditor(o)?t(l.namedPropEditor(o.prop),{key:o.prop,tag:"component",attrs:{config:o,editorModel:l.editorModel}}):e._e()]})],2)],1),t("el-tab-pane",{attrs:{label:"\u4EA4\u4E92",name:"interaction"}},[t("el-form",[e._l(l.COMP_INTERACTION[l.editorModel.name],function(o){return[l.hasPropEditor(o)?t(l.namedPropEditor(o.prop),{key:o.prop,tag:"component",attrs:{config:o,editorModel:l.editorModel}}):e._e()]})],2)],1)],1):e._e()],1)},fi=[],mi=B(pi,ui,fi,!1,null,"9ebfd241",null,null);const _i=mi.exports;const bi={name:"renderTree"},vi=Object.assign(bi,{props:{data:Object,allowMove:Boolean},setup(f){const e=f,{currentCom:t}=ve({currentCom:m=>m.form.currentCom}),{setCurCom:l}=ge({setCurCom:"form/SET_CUR_COMP"}),o=x(null),s=m=>{e.allowMove||l(m)},a=x([]),D=m=>{const _=new Set([...r(a),m.id]);a.value=Array.from(_)},S=m=>{const _=p(m);a.value=a.value.filter(M=>!_.includes(M));function p(M){let w=[];const{children:b,id:F}=M;if(w.push(F),b&&b.length>0)for(let N of b){let L=p(N);w=[...w,...L]}return w}},$=m=>{const{name:_}=m;if(["dPlaceholder","dTitle","dText","dImage","dDivider","dDraggable"].includes(_))return!1;if(_==="dActiveTable"){const{props:{datset_name:M}}=m;return!M}const{dataset_field:p}=m;return!p};return fe(t,m=>{ue(()=>{var _,p,M,w;m?(p=(_=r(o))==null?void 0:_.setCurrentKey)==null||p.call(_,m.id):(w=(M=r(o))==null?void 0:M.setCurrentKey)==null||w.call(M,null)})},{deep:!0}),{__sfc:!0,currentCom:t,setCurCom:l,props:e,eTree:o,chooseNode:s,expandNodeIdList:a,nodeExpand:D,nodeCollapse:S,handleVif:$,allowDrop:(m,_,p)=>{var b,F;let M=(b=m==null?void 0:m.data)==null?void 0:b.name,w=(F=_==null?void 0:_.data)==null?void 0:F.name;return!(p==="inner"&&(!["dDraggable","dComputeTable","dActiveTable"].includes(w)||M==="dDraggable"&&w!=="dDraggable"||!["dInput","dInputNumber","dTextarea","dTime","dRadio","dCheckbox","dSelect","dCascader","dRegion"].includes(M)&&w==="dActiveTable"||!["dRadio","dCheckbox"].includes(M)&&w==="dComputeTable"))},onNodeDragOver:(m,_,p)=>{var N,L,z,E,V;let M=document.querySelector(".el-tree__drop-indicator");console.dir(p.target);const w=((L=(N=p.target.querySelector(".el-tree-node__expand-icon"))==null?void 0:N.getBoundingClientRect)==null?void 0:L.call(N))||{},b=((V=(E=(z=r(o))==null?void 0:z.$el)==null?void 0:E.getBoundingClientRect)==null?void 0:V.call(E))||{},F=Number(M.style.top.replace(/px/g,""));F===w.top-b.top?M.style.top=`${F-8}px`:F===w.bottom-b.top&&(M.style.top=`${F+8}px`)}}}});var gi=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{attrs:{id:"tree-content"}},[t("el-tree",{ref:"eTree",staticClass:"eTree",attrs:{data:e.data.children,"default-expanded-keys":l.expandNodeIdList,"node-key":"id",props:{children:"children",label:"label"},draggable:e.allowMove,"allow-drop":l.allowDrop},on:{"node-click":l.chooseNode,"node-expand":l.nodeExpand,"node-collapse":l.nodeCollapse,"node-drag-over":l.onNodeDragOver},scopedSlots:e._u([{key:"default",fn:function({data:o}){return t("span",{staticClass:"tree-item",class:{"tree-item__active":l.currentCom&&l.currentCom.id===o.id}},[t("span",{staticClass:"tree-item-label"},[e._v(e._s(o.label))]),l.handleVif(o)?t("i",{staticClass:"el-icon-my-noBind"}):e._e()])}}])})],1)},hi=[],yi=B(vi,gi,hi,!1,null,"e8648461",null,null);const Ci=yi.exports;const xi={name:"formBuilder"},Si=Object.assign(xi,{setup(f){zt((n,i)=>({"9176dd2c":i.resizeNum}));const e=ve({currentCom:n=>n.form.currentCom,choosedDataset:n=>n.form.choosedDataset,isPrint:n=>n.form.isPrint,isShowPrintRes:n=>n.form.isShowPrintRes}),{currentCom:t,choosedDataset:l,isPrint:o,isShowPrintRes:s}=e,a=ge({setCurCom:"form/SET_CUR_COMP",setRelatedComp:"form/SET_RELATED_COMP",setChoosedDataset:"form/SET_CHOOSE_DATASET",setPrint:"form/SET_PRINT",setPrintResShow:"form/SET_PRINT_RES"}),{setCurCom:D,setRelatedComp:S,setChoosedDataset:$,setPrint:T,setPrintResShow:v}=a,m=Ut(),_=Qt(),p=x({}),M=x(null),w=x(null);be("curDataSet",w);const b=x({id:"Basic",isBasic:!0,children:[]}),F=x({}),N=x([]);be("DFields",N);const L=async n=>await Je({id:n,pageNum:0,pageSize:0}).then(d=>{d.status==104?N.value=d.data.list||[]:H.exports.Message.warning(d.msg)}),z=(n,i)=>{const{children:d,isBasic:c,name:C,id:y}=n;if(!c&&C==="dActiveTable"){let h=i.find(g=>g.components_id===y);if(h){console.log("feedback");const{datset_id:g,datset_name:k,id:A}=h;n.props.datset_id=g,n.props.datset_name=k,n.props.id=A}}if(d&&d.length>0)for(let h of d)z(h,i)},E=()=>{H.exports.MessageBox.confirm("\u82E5\u5185\u5BB9\u672A\u4FDD\u5B58\u6570\u636E\u4F1A\u4E22\u5931\uFF0C\u662F\u5426\u9000\u51FA?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{D(null),$([]),_.push({name:"customFormList",params:{currentGroup:m.params.currentGroup}})})},V=x({}),O=x(!1),I=x(null),q=()=>{O.value=!O.value,ue(()=>{var n,i;(i=(n=r(I))==null?void 0:n.focus)==null||i.call(n)})},K=x(null),te=()=>{T(!0),v(!0),setTimeout(()=>{const n=r(K).$el,i=1083;let d=1,c=n.getBoundingClientRect(),C=r(K).$children[0].$children;const y=g=>{g=Array.from(g);let k=[];return g.forEach(A=>{let j=(A==null?void 0:A.$el)||A;j._prevClass.includes("draggable-item-draggable")?k=[...k,...y(j.children||[])]:k.push(j)}),k};let h=y(C);console.log(c,"printViewRect"),h.forEach(g=>{let k=g.getBoundingClientRect(),A=k.y-c.y;g.classList.remove("print_gap"),A>d*i&&(d++,g.classList.add("print_gap")),console.dir(g),console.log(A,k)}),console.log(h),n.style.height="fit-content",n.style.minHeight="100%"},200)},ee=()=>{el(r(K))},Y=x(0),ie=40,R=x([NaN,NaN]),W=()=>{const n=r(K).$el;if(!n)return;const i=Number(n.clientWidth);if(r(R).some(c=>isNaN(c)))R.value=[ie,i-ie];else{const c=r(R)[0]/r(Y),C=r(R)[1]/r(Y);R.value=[Math.ceil(c*i),Math.floor(C*i)]}Y.value=i},J=n=>r(R).indexOf(n)==1?r(Y)-n:n;fe(s,n=>{n?(ue(()=>{R.value=[NaN,NaN],W()}),window.addEventListener("resize",W)):window.removeEventListener("resize",W)});const Z=x(!1),G=async n=>await Yt(n).then(i=>i.status===104&&i.data.list?i.data.list.map(d=>({value:d.id,label:d.name})):[]),le=async n=>{const{children:i,isBasic:d,name:c}=n;if(!d){const{props:{datset_id:C,datset_name:y}}=n;if(c==="dSelect"&&C){const h={pageNum:0,pageSize:0,filter:{datset_id:C,datset_name:y}};n.props.dic=await G(h)}}if(i&&i.length>0)for(let C of i)le(C)},se=()=>{Z.value=!0,le(b.value)},pt=()=>{n(r(b)),Z.value=!1;function n(i){const{children:d,isBasic:c,name:C}=i;if(!c){const{props:{datset_id:y}}=i;C==="dSelect"&&y&&(i.props.dic=[])}if(d&&d.length>0)for(let y of d)n(y)}},Ue=x(null),ut=()=>{ue(()=>{var n,i;(i=(n=r(Ue))==null?void 0:n.toPdfFn)==null||i.call(n)})},he=n=>{let i=[];const{isBasic:d,children:c,name:C,slots:y}=n;if(!d){const{dataset_code:h,dataset_field:g}=n;h&&i.push(h),g&&i.push(g)}if(C!=="dActiveTable"&&c&&c.length>0)for(let h of c){let g=he(h);i=[...i,...g]}if(y&&y.named&&y.named.length)for(let h in y.named){let g=y.named[h].comDetail;if(!g)continue;let k=he(g);i=[...i,...k]}return i},ye=n=>{let i=[];const{isBasic:d,children:c,name:C}=n;if(!d&&C==="dActiveTable"){const{id:y,props:{datset_id:h,datset_name:g,id:k}}=n;let A=c.map(X=>X.dataset_field);A=A.filter(X=>!u.isEmpty(X)),A=A.join(",");let j={components_id:y,bus_field:A,datset_id:h,datset_name:g,id:k};i=[...i,j]}if(C!=="dActiveTable"&&c)for(let y of c){let h=ye(y);i=[...i,...h]}return i},Ce=n=>{let i=null;const{isBasic:d,children:c}=n;if(!d){const{slots:C,props:{datset_id:y},name:h,id:g}=n;if(h==="dActiveTable"){if(!y)return H.exports.Message.warning(`\u52A8\u6001\u8868\u683C ${g} \u672A\u9009\u62E9\u6570\u636E\u96C6`),!1;Ne(n.props,"datset_id"),Ne(n.props,"datset_name"),Ne(n.props,"datsource_id"),Ne(n.props,"sort_id")}if(h==="dSearchTable"&&P(n,"defVal",""),C&&C.named&&C.named.length>0)for(let k in C.named){if(!C.named[k].comDetail)continue;if(Ce(C.named[k].comDetail)===!1)return i=!1,i}}if(c&&c.length>0){for(let C of c)if(Ce(C)===!1)return i=!1,i}return n},ft=()=>{if(!r(V).name){q(),H.exports.Message.warning("\u8BF7\u8F93\u5165\u8868\u5355\u540D\u79F0");return}const{isAdd:n}=r(p);let i=he(b.value)||[],d=ye(b.value),c=ye(F.value),C=d.map(U=>U.components_id),y=c.map(U=>U.components_id),h=C.filter(U=>!y.includes(U)),g=y.filter(U=>!C.includes(U)),k=[];for(let U of d)h.includes(U.components_id)?k=[...k,{...U,act:"add"}]:k=[...k,{...U,act:"mod"}];for(let U of c)g.includes(U.components_id)&&(k=[...k,{...U,act:"del"}]);let A=Ce(u.copy(r(b)));if(A===!1)return;A=JSON.stringify(A),i=i.filter(U=>!u.isEmpty(U));const{datset_id:j,datset_name:X,datsource_id:qe,id:we,original_id:de}=r(w)||{};let _e={...r(V),act:n?"add":"mod",id:n?"":we,original_id:n?"":de,dat_range:r(p).currentGroup.dat_range,form_text:A,datset_id:j,datset_name:X,datsource_id:qe,sort_id:r(p).row?r(p).row.sort_id:r(p).currentGroup.id,bus_field:i.join(","),tableset:k};console.log(_e,"obj"),Zt(_e).then(U=>{U.status==100?(H.exports.Message.success(U.msg),D(null),$([]),_.push({name:"customFormList",params:{currentGroup:r(p).currentGroup}})):H.exports.Message.warning(U.msg)})},Re=x(!1),pe=x(!1),Le=x(null),Ie=(n,i)=>{let d=u.copy(n);c(d),b.value=d;function c(C){const{isBasic:y,children:h}=C;if(!y){const{dataset_field:g,dataset_code:k,slots:A}=C;if(g&&!i.includes(g)&&(C.dataset_field=""),k&&!i.includes(k)&&(C.dataset_code=""),A&&A.named&&A.named.length>0)for(let j in A.named)!A.named[j].comDetail||c(A.named[j].comDetail)}if(h&&h.length>0)for(let g in h)c(h[g])}},mt=()=>{pe.value=!1,Le.value=null,(!r(w)||!r(w).datset_id)&&Ie(b.value,[])},_t=()=>{H.exports.MessageBox.confirm("\u662F\u5426\u53D6\u6D88\u7ED1\u5B9A\u6570\u636E\u96C6","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{w.value={...w.value,datset_id:"",datset_name:"",datsource_id:""},Le.value=null}).catch(n=>{console.log(n)})},bt=async n=>{if(!n){pe.value=!1;return}!r(w)||n.datset_id!==r(w).datset_id?H.exports.MessageBox.confirm("\u8BE5\u64CD\u4F5C\u5C06\u5F71\u54CD\u5DF2\u7ED1\u5B9A\u5B57\u6BB5\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(async()=>{Re.value=!0;let i=u.copy(r(l));for(let c in i)if(r(w).datset_id===i[c]){i.splice(c,1);break}i=Array.from(new Set([...i,n.datset_id])),w.value={...r(w),datset_id:n.datset_id,datset_name:n.datset_name,datsource_id:n.datsource_id},$(i),await L(r(w).datset_id);let d=r(N).map(c=>c.name);Ie(b.value,d),pe.value=!1}).catch(()=>{}).finally(()=>{Re.value=!1}):pe.value=!1},Fe=x([]),vt=(n,i)=>{Fe.value=[],rt({pageNum:0,pageSize:0,filter:{sortId:n,dat_range:i}}).then(c=>{const{status:C,data:{list:y},msg:h}=c;C==104?Fe.value=y.map(g=>{let k={...g,datset_id:g.id};return delete k.id,k}):H.exports.Message.warning(h)})},Qe=x(!1),gt=()=>{Qe.value=!1;const n=JSON.stringify(r(b)),i=new Blob([n],{type:""});tl.saveAs(i,"data.json")},Ke=x(!1),ne=x(null),ht=n=>{const i=new FileReader;i.readAsText(n.raw,"UTF-8"),i.onload=function(d){let c=[];try{c=JSON.parse(d.target.result)}catch{c=[]}ne.value=c}},yt=()=>{!r(ne)||(Array.isArray(r(ne))?P(b.value,"children",[...r(b).children,...r(ne)]):b.value=r(ne),ne.value=null,Ke.value=!1,pe.value=!0)},Ct=()=>{if(!r(b).children||r(b).children.length===0){H.exports.Message("\u6682\u65E0\u6570\u636E");return}H.exports.MessageBox.confirm("\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u5DF2\u6784\u5EFA\u6570\u636E, \u662F\u5426\u7EE7\u7EED?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{P(b.value,"children",[]),D(null),$([r(w).datset_id])})},Ee=x(!1),xe=x(null),xt=()=>{D(null),xe.value=u.copy(r(b)),Ee.value=!0},Ye=()=>{D(null),xe.value=null,Ee.value=!1},St=()=>{b.value=u.copy(r(xe)),Ye()},Se=Q(()=>{let n=[];n=i(b.value);function i(d){let c=[];const{isBasic:C,children:y}=d;if(!C){const{name:h,slots:g}=d;let k=u.copy(d);if(["dInput","dInputNumber","dTextarea","dTime","dRadio","dCheckbox","dSelect","dCascader","dRegion","dActiveTable","dComputeTable"].includes(h)&&(c=[...c,k]),g&&g.named&&g.named.length>0)for(let A in g.named){let j=u.copy(g.named[A]);!j||!j.comDetail||u.isEmpty(j.id)||(c=[...c,j])}}if(y)for(let h in y)c=[...c,...i(y[h])];return c}return n});be("flatData",Se);const ke=Q(()=>{let n=[];r(Se).forEach(d=>{const{dataset_field:c,dataset_code:C}=d;c&&n.push(c),C&&n.push(C)});let i=r(N).map(d=>d.name);return n=n.filter(d=>i.includes(d)),n});be("usedFields",ke);const De=x(""),re=x([]),ce=x([]),Ve=x(!1),kt=()=>{let n=[];r(Se).forEach(d=>{const{dataset_field:c,dataset_code:C,id:y,label:h}=d;c&&r(ke).includes(c)&&n.push({dataset_field:c,id:y,alias:"",describe:h.replace("\uFF1A","")}),C&&r(ke).includes(C)&&n.push({dataset_field:C,id:y,alias:"",describe:h.replace("\uFF1A","")})}),r(b).saveBeforeConfig?ce.value=u.copy(r(b).saveBeforeConfig):ce.value={cbApi:"",configFields:[]},ce.value.configFields=i(r(ce).configFields),re.value=i(r(b).configFields),De.value=r(b).cbApi||"",Ve.value=!0;function i(d){if(!d||d.length===0)return n;let c=u.copy(d),C=n.map(A=>A.id);c=c.filter(A=>C.includes(A.id));let y=c.map(A=>A.id),h=n.filter(A=>y.includes(A.id)),g={};h.forEach(A=>g[A.id]=A.describe);let k=n.filter(A=>!y.includes(A.id));return c=c.map(A=>({...A,describe:g[A.id]})),c=[...c,...k],c}},Dt=x("after"),Mt=x(""),Ze=Q(()=>{let n={},i=[];for(let d of r(re))u.isEmpty(d.alias)||(n[d.alias]?i.push(d.alias):n[d.alias]=1);return Array.from(new Set(i))}),Be=Q(()=>{let n=[],i=[];for(let d of r(re))u.isEmpty(d.alias)||n.push(d.alias);for(let d of r(re))u.isEmpty(d.alias)&&n.includes(d.dataset_field)&&i.push(d.dataset_field);return i}),wt=()=>{if(r(Ze).length>0){H.exports.Message.warning("\u522B\u540D\u914D\u7F6E\u91CD\u590D");return}if(r(Be).length>0){H.exports.Message.warning('\u68C0\u6D4B\u5230\u8BBE\u7F6E\u4E2D\u5B58\u5728\u4E0E\u8868\u5355\u5B57\u6BB5\u91CD\u590D\u7684\u5B57\u6BB5\u522B\u540D\uFF0C\u4E3A\u4E86\u907F\u514D\u6570\u636E\u4F20\u8F93\u9519\u8BEF\u7CFB\u7EDF\u5DF2\u81EA\u52A8\u52A0\u540E\u7F00"_ext"\u5904\u7406');for(let i of re.value)r(Be).includes(i.dataset_field)&&u.isEmpty(i.alias)&&(i.alias=`${i.dataset_field}_ext`);return}let n=u.copy(r(b));n.cbApi=r(De),n.configFields=u.copy(r(re)),n.saveBeforeConfig=u.copy(r(ce)),b.value=n,De.value="",re.value=[],ce.value=[],Ve.value=!1},Tt=x("comp"),ze=x(!0),je=x(!1),Nt=x([]),At=()=>ze.value=!1,Pt=n=>{ze.value=!0,ue(()=>{let i=document.querySelector(".el-tabs__active-bar"),d=document.querySelector(`#tab-${n.name}`);i.style.transform=`translateY(${d.offsetTop}px)`})},Xe=n=>{let i=u.copy(n);return i.id=u.nanoid(),i.props.labelAlign="flex-end",i.props.labelColAlign="center",i.props.cntCompDisArr=[{id:u.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}],i.props.cntCompReqArr=[{id:u.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}],i.props.cntCompShowArr=[{id:u.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}],i.name==="dInput"&&(i.props.searchPageWidth=550),["dRadio","dCheckbox"].includes(i.name)&&(i.props.dic=i.props.dic.map(d=>({...d,slotId:u.nanoid()})),i.props.chooseAlign="many",i.props.chooseRowNum=0),["dRadio","dCheckbox","dSelect"].includes(i.name)&&(i.props.opDisabledSet=[{target:"",type:"",value:"",options:[]}],i.props.opNoteSet=[{target:"",value:""}]),i.name==="dCascader"&&(i.props.dic=[{pid:0,id:1,label:"\u4E00\u7EA7\u9009\u9879",value:"a",isEdit:!1,level:1,children:[{pid:1,id:2,label:"\u4E8C\u7EA7\u9009\u9879",value:"b",isEdit:!1,level:2,children:[{pid:2,id:3,label:"\u4E09\u7EA7\u9009\u9879",value:"c",isEdit:!1,level:3}]}]}]),i.name==="dDraggable"&&(i.props.gpDisCdtGp=[{key:"",label:"",op:"",logicOp:""}],i.props.align=1,i.props.cAlign=1,i.props.groupBorderColor="#ccc"),i.name==="dComputeTable"&&(i.props.hCodeList=[],i.props.cTableTitle="\u8BA1\u7B97\u8868\u683C"),i.name==="dDivider"&&(i.props.dividerType="solid",i.props.dividerHeight=1,i.props.dividerColor="#606871"),i.name==="dText"&&(i.props.textColor="#262626",i.props.textAlign="left",i.props.textFontSize=12,i.props.textLineHeight=12,i.props.textSpaceLetter=0,i.props.textWeight=!1),i.name==="dFish"&&(i.props.dicDataSet={},i.props.busDataSet={}),i},et=n=>Xe(n),Ot=(n,i)=>{let d=new Image;n.setDragImage(d,0,0)},$t=n=>{var c,C,y,h,g,k,A,j,X;n.relatedContext.element?S({id:n.relatedContext.element.id,willInsertAfter:n.willInsertAfter}):S({});let i=n.dragged._underlying_vm_,d=n.to._prevClass;return je.value=!0,d.includes("draggable-active-table")&&(i.tag="table",i.tableId=((h=(y=(C=(c=n.to)==null?void 0:c.__vue__)==null?void 0:C.$props)==null?void 0:y.data)==null?void 0:h.id)||((X=(j=(A=(k=(g=n.to)==null?void 0:g.__vue__)==null?void 0:k.$parent)==null?void 0:A.$props)==null?void 0:j.data)==null?void 0:X.id)),i.tag==="table"&&!d.includes("draggable-active-table")&&(delete i.tag,delete i.tableId,i.props.fieldsSet&&(i.props.fieldsSet=[])),["dRadio","dCheckbox"].includes(i.name)&&d.includes("draggable-compute-table")&&(i.tag="cTable"),i.tag==="cTable"&&!d.includes("draggable-compute-table")&&delete i.tag,d.includes("draggable-components")?!1:!(!["dInput","dInputNumber","dTextarea","dTime","dRadio","dCheckbox","dSelect","dCascader","dRegion"].includes(i.name)&&d.includes("draggable-active-table")||!["dRadio","dCheckbox"].includes(i.name)&&d.includes("draggable-compute-table"))},Rt=n=>{S({});let i=u.copy(r(t))||{};je.value=!1,i&&n.to.__vue__.$attrs.compId===i.id&&d(r(b),i.id);function d(c,C){const{isBasic:y,children:h}=c;if(!y){const{id:g}=c;if(g===C){D(c);return}}if(h&&h.length>0)for(let g of h)d(g,C)}},Me=x(null),Lt=n=>{let i=et(n);if(r(t)&&r(t).id&&r(t).props.isCollect){let c=r(t).name,C=u.copy(r(b));if(c==="dFish"){H.exports.Message.warning("\u65E0\u6CD5\u63D2\u5165\u6B64\u5143\u7D20\u81F3\u9C7C\u9AA8\u56FE");return}if(!["dInput","dInputNumber","dTextarea","dTime","dRadio","dCheckbox","dSelect","dCascader","dRegion"].includes(n.name)&&c==="dActiveTable"){H.exports.Message.warning("\u65E0\u6CD5\u63D2\u5165\u6B64\u5143\u7D20\u81F3\u52A8\u6001\u8868\u683C");return}if(!["dRadio","dCheckbox"].includes(n.name)&&c==="dComputeTable"){H.exports.Message.warning("\u65E0\u6CD5\u63D2\u5165\u6B64\u5143\u7D20\u81F3\u8BA1\u7B97\u8868\u683C");return}d(C,r(t).id,i),b.value=C}else P(b.value,"children",[...b.value.children,i]),ue(()=>{let c=r(Me).$el.scrollHeight;r(Me).$el.scrollTop=c});function d(c,C,y){let h=c.children;for(let g in h){let k=h[g];if(k.id===C){k.name==="dActiveTable"&&(y.tag="table",y.tableId=k.id),k.children.push(y),D(k);break}else k.children&&d(k,C,y)}}},me=x(1),It=n=>{var d;me.value=n/100;const i=(c,C)=>{!c||(c.style.zoom=`${C}`)};i((d=r(Me))==null?void 0:d.$el,r(me)),i(document.querySelector(".form-header"),r(me)),i(document.querySelector(".form-footer"),r(me))},Ft=n=>{const{name:i,id:d,props:c,attrs:C,tag:y}=n;let h=u.copy(We);const{basic:g,container:k}=h;let j=[...g,...k].find(de=>de.name===i);if(!j)return;j.id=u.nanoid(),j.props=u.copy(c),j.attrs=u.copy(C),y&&(j.tag=y);let X=u.copy(r(b)),qe=X.children;we(qe,d),b.value=X;function we(de,_e){for(let U in de){let Te=de[U];if(Te.id===_e){de.push(j);break}else Te.children&&Te.children.length>0&&we(Te.children,_e)}}},Et=n=>{H.exports.MessageBox.confirm("\u6B64\u64CD\u4F5C\u5C06\u5220\u9664\u8BE5\u7EC4\u4EF6, \u662F\u5426\u7EE7\u7EED?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{const{id:d,name:c,props:C}=n;let y=u.copy(r(b));if(i(y,d),b.value=y,D(null),c==="dActiveTable"){let h=u.copy(r(l));for(let g in h)if(C.datset_id===h[g]){h.splice(g,1);break}$(h)}});function i(d,c){const{children:C,slots:y}=d;if(C&&C.length>0)for(let h in d.children)d.children[h].id===c?d.children.splice(h,1):i(d.children[h],c);if(y&&y.named&&y.named.length>0)for(let h in d.slots.named)!d.slots.named[h].comDetail||(d.slots.named[h].comDetail.id===c?d.slots.named.splice(h,1):i(d.slots.named[h].comDetail,c))}},tt=n=>{if(!n)return;let i=u.copy(r(b));d(i,n.id),b.value=i;function d(c,C){const{isBasic:y,children:h}=c;if(!y){const{id:g,slots:k}=c;if(C===g)return!0;if(k&&k.named&&k.named.length>0)for(let A in k.named){let j=k.named[A].comDetail;!j||d(j,C)&&(k.named[A].comDetail=u.copy(n))}}if(h&&h.length>0)for(let g in h){let k=h[g];d(k,C)&&(h[g]=u.copy(n))}}},Vt=n=>{!n.isBasic||(b.value=n)};fe(t,n=>tt(n),{deep:!0});const Bt=(n,i)=>{if(n==="chooseOuter")d(b.value,i.id);else{let c=u.copy(r(b));d(c,i.id),b.value=c}function d(c,C){const{children:y,isBasic:h}=c;if(y&&y.length>0)for(let g in c.children)if(c.children[g].id===C){if(n==="chooseOuter")D(h?null:c);else if(n==="moveTop")if(g==0){H.exports.Message("\u5DF2\u7ECF\u79FB\u5230\u7236\u7EC4\u4EF6\u9876\u90E8");break}else{let k=Number(g),A=u.copy(c.children[k-1]);c.children[k-1]=u.copy(c.children[k]),c.children[k]=A}else if(n==="moveBottom")if(g==c.children.length-1){H.exports.Message("\u5DF2\u7ECF\u79FB\u5230\u7236\u7EC4\u4EF6\u5E95\u90E8");break}else{let k=Number(g),A=u.copy(c.children[k+1]);c.children[k+1]=u.copy(c.children[k]),c.children[k]=A}break}else d(c.children[g],C)}},lt=()=>{if(p.value=m.params,console.log(r(p),"rPms"),r(p).row){const{isAdd:n,row:{l_sort_id:i,dat_range:d,datset_id:c,name:C,version:y,form_text:h,tableset:g}}=m.params;M.value={id:i,range:d},w.value=u.copy(m.params.row),i&&P(w.value,"sort_id",i),V.value={name:n?"\u9ED8\u8BA4\u8868\u5355\u540D\u79F0":C,version:y||"v1.0"},c&&L(c),h&&(b.value=h),g&&g.length>0&&z(b.value,g)}F.value=u.copy(r(b)),D(null)},He=x({}),ot=["441900","442000","460400"],at=()=>Xt().then(n=>{let i={province:[],city:{},area:{}},d=n||[],c=[],C=[];for(let y in d){let h=d[y],g=y.slice(2,4),k=y.slice(4);g==="00"&&k==="00"?(i.province.push({label:h,value:y}),i.city[y]=[]):g!=="00"&&k==="00"?c.push({label:h,value:y}):g!=="00"&&k!=="00"&&C.push({label:h,value:y})}c.forEach(y=>{var g,k;let h=`${y.value.slice(0,2)}0000`;(k=(g=i.city[h])==null?void 0:g.push)==null||k.call(g,y),ot.includes(y.value)?i.area[y.value]=[{...y}]:i.area[y.value]=[]}),C.forEach(y=>{var g,k;let h=`${y.value.slice(0,4)}00`;(k=(g=i.area[h])==null?void 0:g.push)==null||k.call(g,y)}),He.value=i}).catch(n=>{console.log(n)});return be("regionData",He),jt(async()=>{lt(),await at(),window.history&&window.history.pushState&&(history.pushState(null,null,document.URL),window.addEventListener("popstate",E,!1))}),Ht(()=>{window.removeEventListener("popstate",E,!1)}),{__sfc:!0,states:e,currentCom:t,choosedDataset:l,isPrint:o,isShowPrintRes:s,mutations:a,setCurCom:D,setRelatedComp:S,setChoosedDataset:$,setPrint:T,setPrintResShow:v,route:m,router:_,rPms:p,currentGroup:M,currentDataSet:w,fData:b,zData:F,datsetFields_list:N,getFields:L,feedbackTabProperty:z,goBack:E,form:V,showTitle:O,titleRef:I,titleChange:q,printView:K,generatePrintView:te,printFn:ee,printWidth:Y,printInitPadding:ie,printPaddingList:R,controlPadding:W,formatTooltip:J,showVisible:Z,getActiveDic:G,presetData:le,preview:se,clearFormValidate:pt,printForm:Ue,onPrintForm:ut,collectField:he,echoTableInfo:ye,formatFormData:Ce,save:ft,loading:Re,showDatasetVisible:pe,tempDataSet:Le,clearABindFieldByB:Ie,cancelChooseDataset:mt,cancelBindDataset:_t,updateDataset:bt,dataSetList:Fe,getTableList:vt,jsonVisible:Qe,exportJSON:gt,uploadVisible:Ke,uploadArr:ne,updateReason:ht,handleJSON:yt,deleteAllData:Ct,moveVisible:Ee,cacheData:xe,onInitMMove:xt,onMoveSave:Ye,onMoveCancel:St,flatData:Se,usedFields:ke,cbApi:De,configFields:re,saveBeforeConfig:ce,advanceConfigVisible:Ve,handleCbConfig:kt,cbName:Dt,configSrh:Mt,repeatAlias:Ze,repeatSpecialAlias:Be,onAdCfgSave:wt,activeTab:Tt,showComBox:ze,showTrashBox:je,trashList:Nt,closeComBox:At,tabClick:Pt,extendCompProp:Xe,cloneDefaultField:et,onDragSetData:Ot,onMove:$t,onEnd:Rt,renderComRef:Me,insertElement:Lt,resizeNum:me,onPageResize:It,handleCopyCom:Ft,handleDeleteCom:Et,handleEditCom:tt,handleUpdateData:Vt,onControl:Bt,onPmsInit:lt,regionData:He,verticalArea:ot,getRegionDic:at,comsDic:We,FormResize:dl,Category:Oe,CodeMirror:ol,RenderCom:Kt,RenderFormByJson:al,SettingPanel:_i,RenderTree:Ci}}});var ki=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:l.loading,expression:"loading"}],staticClass:"form-builder"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!l.isShowPrintRes,expression:"!isShowPrintRes"}],staticClass:"header"},[t("div",{staticClass:"header-basic"},[t("div",{staticClass:"h-basic-back"},[t("i",{staticClass:"el-icon-my-leftarrow",on:{click:l.goBack}}),t("span",{staticStyle:{cursor:"pointer"},on:{click:l.goBack}},[e._v("\u8FD4\u56DE\u5217\u8868")])]),t("div",{staticClass:"h-basic-title"},[l.showTitle?t("el-input",{ref:"titleRef",attrs:{size:"mini",maxlength:"25",placeholder:"\u8BF7\u8F93\u5165\u8868\u5355\u540D\u79F0"},on:{blur:l.titleChange},model:{value:l.form.name,callback:function(o){e.$set(l.form,"name",typeof o=="string"?o.trim():o)},expression:"form.name"}}):t("span",{on:{click:l.titleChange}},[e._v(e._s(l.form.name))]),t("dIcon",{attrs:{name:"myEdit",size:"18"},on:{click:l.titleChange}})],1),t("div",{staticClass:"h-basic-save"},[t("div",{staticClass:"tools-btn",on:{click:l.generatePrintView}},[t("i",{staticClass:"el-icon-my-formview"}),t("span",[e._v("\u6253\u5370\u9884\u89C8")])]),t("div",{staticClass:"tools-btn",on:{click:()=>{l.setPrint(!1),l.preview()}}},[t("dIcon",{attrs:{name:"preview"}}),t("span",[e._v("\u9884\u89C8")])],1),t("el-button",{attrs:{type:"primary"},on:{click:l.save}},[e._v("\u4FDD\u5B58")])],1)]),t("div",{staticClass:"header-tools"},[t("div",{staticClass:"tools-btn",on:{click:function(o){l.jsonVisible=!0}}},[t("d-icon",{attrs:{name:"createJson"}}),t("span",[e._v("\u751F\u6210JSON")])],1),t("div",{staticClass:"tools-btn",on:{click:function(o){l.uploadVisible=!0}}},[t("d-icon",{attrs:{name:"importJson"}}),t("span",[e._v("\u5BFC\u5165JSON")])],1),t("div",{staticClass:"tools-btn",on:{click:()=>{l.showDatasetVisible=!0,l.tempDataSet=JSON.parse(JSON.stringify(l.currentDataSet))}}},[t("d-icon",{attrs:{name:"dataset"}}),t("span",[e._v("\u6570\u636E\u96C6")])],1),t("div",{staticClass:"tools-btn",on:{click:l.deleteAllData}},[t("d-icon",{attrs:{name:"delete"}}),t("span",[e._v("\u6E05\u7A7A")])],1),t("div",{staticClass:"tools-btn",on:{click:l.handleCbConfig}},[t("d-icon",{attrs:{name:"gjConfig"}}),t("span",[e._v("\u9AD8\u7EA7\u914D\u7F6E")])],1),t("div",{staticClass:"tools-btn",on:{click:l.goBack}},[t("d-icon",{attrs:{name:"back"}}),t("span",[e._v("\u9000\u51FA")])],1),t(l.FormResize,{on:{cResize:l.onPageResize}})],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:!l.isShowPrintRes,expression:"!isShowPrintRes"}],staticClass:"content"},[t("el-tabs",{staticClass:"left-tab",attrs:{"tab-position":"left"},on:{"tab-click":l.tabClick},model:{value:l.activeTab,callback:function(o){l.activeTab=o},expression:"activeTab"}},[t("el-tab-pane",{attrs:{label:"\u7EC4\u4EF6",name:"comp"}},[t("span",{staticClass:"tab-item tab-item-comp",attrs:{slot:"label"},slot:"label"},[t("d-icon",{attrs:{name:l.activeTab==="comp"?"activeComp":"comp",size:24}}),t("span",[e._v("\u7EC4\u4EF6")])],1),l.showComBox?t("div",{ref:"compRef",staticClass:"components draggable-tool"},[t("div",{staticClass:"draggable-tool-title"},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("\u57FA\u7840\u63A7\u4EF6")]),t("i",{staticClass:"el-icon-close",staticStyle:{cursor:"pointer"},on:{click:l.closeComBox}})]),t("draggable",e._b({staticClass:"can draggable-components",attrs:{clone:l.cloneDefaultField,setData:l.onDragSetData,move:l.onMove},on:{unchoose:l.onEnd,end:l.onEnd},model:{value:l.comsDic.basic,callback:function(o){e.$set(l.comsDic,"basic",o)},expression:"comsDic.basic"}},"draggable",{animation:150,group:{name:"name",pull:"clone"},sort:!0},!1),e._l(l.comsDic.basic,function(o,s){return t("div",{key:s,staticClass:"draggable-com-item",class:[`${o.name}-icon`],on:{click:function(a){return l.insertElement(o)}}},[t("i",{class:`el-icon-my-${o.name}`}),t("span",[e._v(e._s(o.label))])])}),0)],1):e._e()]),t("el-tab-pane",{attrs:{label:"\u5E03\u5C40",name:"layout"}},[t("span",{staticClass:"tab-item tab-item-layout",attrs:{slot:"label"},slot:"label"},[t("d-icon",{attrs:{name:l.activeTab==="layout"?"activeLayout":"layout",size:24}}),t("span",[e._v("\u5E03\u5C40")])],1),l.showComBox?t("div",{staticClass:"components draggable-tool"},[t("div",{staticClass:"draggable-tool-title"},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("\u5E03\u5C40\u63A7\u4EF6")]),t("i",{staticClass:"el-icon-close",staticStyle:{cursor:"pointer"},on:{click:l.closeComBox}})]),t("draggable",e._b({staticClass:"can draggable-components",attrs:{setData:l.onDragSetData,clone:l.cloneDefaultField,move:l.onMove},on:{unchoose:l.onEnd},model:{value:l.comsDic.container,callback:function(o){e.$set(l.comsDic,"container",o)},expression:"comsDic.container"}},"draggable",{animation:150,group:{name:"name",pull:"clone"},sort:!0},!1),e._l(l.comsDic.container,function(o,s){return t("div",{key:s,staticClass:"draggable-com-item",class:[`${o.name}-icon`],on:{click:function(a){return l.insertElement(o)}}},[o.name==="dComputeTable"?t("d-icon",{attrs:{name:"cptTab",size:40}}):t("i",{class:`el-icon-my-${o.name}`}),t("span",[e._v(e._s(o.label))])],1)}),0)],1):e._e()]),t("el-tab-pane",{attrs:{label:"\u6811\u5F62",name:"tree"}},[t("span",{staticClass:"tab-item tab-item-tree",attrs:{slot:"label"},slot:"label"},[t("i",{class:l.activeTab==="tree"?"el-icon-my-activeTree":"el-icon-my-bTree",staticStyle:{"background-size":"90% auto"}}),t("span",[e._v("\u6811\u5F62")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:l.showComBox,expression:"showComBox"}],staticClass:"tab-tree-container"},[t("div",{staticClass:"tab-tree-title"},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("\u6570\u636E\u7ED3\u6784\u6811")]),t("i",{staticClass:"el-icon-close",staticStyle:{cursor:"pointer"},on:{click:l.closeComBox}})]),t(l.RenderTree,{attrs:{data:l.fData,allowMove:l.moveVisible}}),t("div",{staticClass:"tree-move-btn"},[l.moveVisible?e._e():t("div",{staticClass:"tree-move-btn-item",on:{click:l.onInitMMove}},[t("dIcon",{attrs:{name:"tMove"}}),t("span",[e._v("\u6279\u91CF\u79FB\u52A8")])],1),l.moveVisible?[t("div",{staticClass:"tree-move-btn-item",on:{click:l.onMoveCancel}},[t("dIcon",{attrs:{name:"tCancel"}}),t("span",[e._v("\u53D6\u6D88")])],1),t("div",{staticClass:"tree-move-btn-item",on:{click:l.onMoveSave}},[t("dIcon",{attrs:{name:"tSave"}}),t("span",[e._v("\u4FDD\u5B58")])],1)]:e._e()],2)],1)])],1),t("div",{staticClass:"draggable-content"},[t("div",{staticClass:"form-header"}),t(l.RenderCom,e._g({ref:"renderComRef",staticClass:"draggable-com compact-form",attrs:{data:l.fData,options:{group:{name:"name"},sort:!0}},on:{updateData:l.handleUpdateData,copyCom:l.handleCopyCom,deleteCom:l.handleDeleteCom,control:l.onControl}},e.$listeners)),t("div",{staticClass:"form-footer"})],1),t(l.SettingPanel)],1),l.isShowPrintRes?t("div",{staticClass:"print-section"},[t("div",{staticClass:"tool"},[t("el-button",{on:{click:()=>{l.setPrintResShow(!1),l.setPrint(!1)}}},[e._v("\u8FD4\u56DE")]),t("el-button",{attrs:{type:"primary"},on:{click:l.printFn}},[e._v("\u6253\u5370")])],1),t("div",{staticStyle:{display:"inline-block"},attrs:{id:"canvasCon"}}),t("el-slider",{style:{width:`${l.printWidth}px`},attrs:{"format-tooltip":l.formatTooltip,range:"","show-stops":"",max:l.printWidth},model:{value:l.printPaddingList,callback:function(o){l.printPaddingList=o},expression:"printPaddingList"}}),t(l.RenderFormByJson,{ref:"printView",style:{padding:`0 ${l.printWidth-l.printPaddingList[1]}px 0 ${l.printPaddingList[0]}px`},attrs:{id:"printCon",data:l.fData}})],1):e._e(),t("transition-group",{attrs:{tag:"div",name:"slide-fade"}},[l.showTrashBox?[t("draggable",e._b({key:"trashDraggable",staticClass:"delete-area",attrs:{ghostClass:"trash"},model:{value:l.trashList,callback:function(o){l.trashList=o},expression:"trashList"}},"draggable",{animation:150,group:{name:"name",pull:"clone"},sort:!0},!1))]:e._e()],2),t("el-dialog",{staticClass:"view-edit",attrs:{title:"\u4FEE\u6539\u6570\u636E\u96C6","z-index":1e3,"show-close":!0,"close-on-click-modal":!1,visible:l.showDatasetVisible,"before-close":l.cancelChooseDataset,width:"938px"},on:{"update:visible":function(o){l.showDatasetVisible=o}}},[l.currentDataSet?t("div",{staticStyle:{display:"flex","align-items":"center","margin-bottom":"8px"}},[t("div",[e._v("\u5F53\u524D\u7ED1\u5B9A\u6570\u636E\u96C6\uFF1A"+e._s(l.currentDataSet.datset_name))])]):e._e(),t("el-container",[t("el-aside",{attrs:{width:"240px"}},[t(l.Category,{attrs:{type:"1",inner:"choose",initData:l.currentGroup},on:{"node-click":(o,s)=>{l.currentGroup={...o,dat_range:s},l.getTableList(o.id,s)}}})],1),t("el-main",[l.dataSetList.filter(o=>o.datset_type==="U").length>0?t("el-row",[e._l(l.dataSetList,function(o){return[o.datset_type==="U"?t("el-col",{key:o.datset_id,class:{"box-border":l.tempDataSet&&l.tempDataSet.datset_id===o.datset_id,"disable-btn":l.choosedDataset.includes(o.datset_id)},attrs:{span:12}},[t("div",{staticClass:"box-btn",on:{click:function(s){l.tempDataSet=JSON.parse(JSON.stringify(o))}}},[t("i",{staticClass:"el-icon-my-dataset2"}),t("div",{staticClass:"box-fit"},[e._v(" "+e._s(o.datset_name)+" "),t("div",{staticClass:"databaseName"},[e._v(" "+e._s(o.datset_content)+" ")])])])]):e._e()]})],2):t("div",{staticClass:"fe-full"},[t("el-empty",{attrs:{image:Pe,description:"\u6682\u65E0\u6570\u636E\u54E6\uFF5E","image-size":200}})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return l.updateDataset(l.tempDataSet)}}},[e._v("\u786E\u5B9A")]),l.currentDataSet&&l.currentDataSet.datset_id?t("el-button",{attrs:{type:"primary",plain:""},on:{click:l.cancelBindDataset}},[e._v("\u53D6\u6D88\u7ED1\u5B9A")]):e._e(),t("el-button",{attrs:{size:"mini"},on:{click:l.cancelChooseDataset}},[e._v("\u53D6\u6D88")])],1)],1),t("el-dialog",{staticClass:"json-edit",attrs:{title:"\u5BFC\u51FAJSON\u6570\u636E",visible:l.jsonVisible,"close-on-click-modal":!1,width:"800px","destroy-on-close":""},on:{"update:visible":function(o){l.jsonVisible=o}}},[t("div",{staticStyle:{height:"500px"}},[t(l.CodeMirror,{ref:"jsonEditor",staticStyle:{width:"100%",height:"100%"},attrs:{mode:"application/json","json-code":JSON.stringify(l.fData),readonly:!1}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:l.exportJSON}},[e._v("\u5BFC\u51FAJSON\u6570\u636E")]),t("el-button",{attrs:{size:"small"},on:{click:function(o){l.jsonVisible=!1}}},[e._v("\u53D6\u6D88")])],1)]),t("el-dialog",{staticClass:"json-import-edit",attrs:{title:"\u5BFC\u5165JSON\u6570\u636E",visible:l.uploadVisible,"close-on-click-modal":!1,"destroy-on-close":!0},on:{"update:visible":function(o){l.uploadVisible=o}}},[t("elUpload",{staticStyle:{height:"fit-content"},attrs:{drag:"",action:"",multiple:"","on-change":l.updateReason,"auto-upload":!1,accept:".json",limit:1,"list-type":"multipart/form-data"}},[t("i",{staticClass:"el-icon-upload"}),t("div",{staticClass:"el-upload__text"},[e._v("\u5C06\u6587\u4EF6\u62D6\u5230\u6B64\u5904\uFF0C\u6216"),t("em",[e._v("\u70B9\u51FB\u4E0A\u4F20")])]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\u53EA\u80FD\u4E0A\u4F20JSON\u6587\u4EF6")])]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:l.handleJSON}},[e._v("\u786E\u5B9A")]),t("el-button",{attrs:{size:"small"},on:{click:()=>{l.uploadVisible=!1,l.uploadArr=null}}},[e._v("\u53D6\u6D88")])],1)],1),t("el-dialog",{staticClass:"view-edit new-view-edit",attrs:{title:"\u9884\u89C8\u6548\u679C","close-on-click-modal":!1,visible:l.showVisible,"before-close":l.clearFormValidate,"destroy-on-close":""},on:{"update:visible":function(o){l.showVisible=o}}},[l.showVisible?t(l.RenderFormByJson,{ref:"printForm",attrs:{data:JSON.parse(JSON.stringify(l.fData))}}):e._e(),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l.isPrint?t("el-button",{attrs:{type:"primary",size:"small"},on:{click:l.onPrintForm}},[e._v("\u6253\u5370")]):e._e(),t("el-button",{attrs:{size:"small"},on:{click:l.clearFormValidate}},[e._v("\u5173\u95ED")])],1)],1),t("el-dialog",{staticClass:"advance-config-dialog",attrs:{title:"\u9AD8\u7EA7\u914D\u7F6E","close-on-click-modal":!1,visible:l.advanceConfigVisible},on:{"update:visible":function(o){l.advanceConfigVisible=o}}},[t("el-tabs",{staticClass:"config-tabs",model:{value:l.cbName,callback:function(o){l.cbName=o},expression:"cbName"}},[t("el-tab-pane",{staticClass:"before-pane",attrs:{label:"\u4FDD\u5B58\u524D",name:"before"}},[t("div",{staticClass:"agree-dic-container"},[t("div",{staticClass:"agree-con-header"},[t("span",[e._v("\u540D\u79F0")]),t("span",[e._v("\u503C")])]),e._l(l.saveBeforeConfig,function(o,s){return t("div",{key:s,staticClass:"agree-item"},[t("el-input",{attrs:{clearable:"",type:"text",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},model:{value:o.label,callback:function(a){e.$set(o,"label",a)},expression:"item.label"}}),t("el-input",{attrs:{clearable:"",type:"text",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},model:{value:o.value,callback:function(a){e.$set(o,"value",a)},expression:"item.value"}}),t("i",{directives:[{name:"show",rawName:"v-show",value:s===l.saveBeforeConfig.length-1,expression:"index === saveBeforeConfig.length - 1"}],staticClass:"el-icon-my-relAdd",staticStyle:{"margin-right":"8px"},on:{click:()=>l.saveBeforeConfig.push({label:"",value:""})}}),t("i",{directives:[{name:"show",rawName:"v-show",value:l.saveBeforeConfig.length>1,expression:"saveBeforeConfig.length > 1"}],staticClass:"el-icon-my-relDel",on:{click:()=>l.saveBeforeConfig.splice(s,1)}})],1)})],2)]),t("el-tab-pane",{staticClass:"after-pane",attrs:{label:"\u4FDD\u5B58\u540E",name:"after"}},[t("div",{staticStyle:{"margin-bottom":"8px"}},[t("div",{staticStyle:{"margin-bottom":"8px"}},[e._v("Api:")]),t("el-input",{attrs:{type:"text",size:"mini",placeholder:"\u8BF7\u8F93\u5165Api"},model:{value:l.cbApi,callback:function(o){l.cbApi=typeof o=="string"?o.trim():o},expression:"cbApi"}})],1),t("div",{staticStyle:{"margin-bottom":"8px"}},[e._v("\u5B57\u6BB5\u914D\u7F6E\uFF1A")]),t("el-input",{staticStyle:{"margin-bottom":"8px",width:"50%"},attrs:{"suffix-icon":"el-icon-search",type:"text",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},model:{value:l.configSrh,callback:function(o){l.configSrh=typeof o=="string"?o.trim():o},expression:"configSrh"}}),t("el-table",{staticStyle:{width:"100%"},attrs:{data:l.configFields.filter(o=>o.dataset_field.toLowerCase().includes(l.configSrh.toLowerCase())||o.describe.toLowerCase().includes(l.configSrh.toLowerCase())),height:"calc(100% - 130px)"}},[t("el-table-column",{attrs:{label:"\u5B57\u6BB5\u540D","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("span",[e._v(e._s(`${o.dataset_field}\uFF08${o.describe}\uFF09`))])]}}])}),t("el-table-column",{attrs:{label:"\u522B\u540D"},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("el-input",{class:{alias_ipt_repeat:l.repeatAlias.includes(o.alias)},attrs:{type:"text",size:"mini",placeholder:"\u8BF7\u8F93\u5165\u522B\u540D"},model:{value:o.alias,callback:function(s){e.$set(o,"alias",typeof s=="string"?s.trim():s)},expression:"row['alias']"}})]}}])})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onAdCfgSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:()=>{l.cbApi="",l.configFields=[],l.saveBeforeConfig=[],l.advanceConfigVisible=!1}}},[e._v("\u53D6\u6D88")])],1)],1)],1)},Di=[],Mi=B(Si,ki,Di,!1,null,"efdfb3ec",null,null);const Ts=Mi.exports;export{Ts as default};
