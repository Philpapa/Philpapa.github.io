import{r as i,O as m}from"./_vue@2.7.16@vue-c82c1faf.js";function d(u){const{api:o,params:l}=u,r=i(!1),e=m({pageNum:0,pageSize:20,total:0}),n=i([]),t=()=>{r.value=!0;const a={pageNum:e.pageNum,pageSize:e.pageSize,...l};o(a).then(c=>{const{status:s,data:p}=c;if(s===104){const{total:g,list:h}=p;if(Math.ceil(g/a.pageSize)<a.pageNum){e.pageNum=1,t();return}n.value=h,e.total=g}}).finally(()=>{r.value=!1})};return[r,e,n,t,a=>{e.pageSize=a,t()},a=>{e.pageNum=a,t()},a=>{!n.value.filter(s=>s.id!==a).length&&e.pageNum!==1&&(e.pageNum-=1)}]}export{d as u};
