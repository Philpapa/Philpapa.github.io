import{b as jt}from"./_batch-processor@1.0.0@batch-processor-252a9c8d.js";var dt={exports:{}},It=dt.exports={};It.forEach=function(r,o){for(var s=0;s<r.length;s++){var e=o(r[s]);if(e)return e}};var Ot=function(r){var o=r.stateHandler.getState;function s(f){var c=o(f);return c&&!!c.isDetectable}function e(f){o(f).isDetectable=!0}function l(f){return!!o(f).busy}function S(f,c){o(f).busy=!!c}return{isDetectable:s,markAsDetectable:e,isBusy:l,markBusy:S}},Nt=function(r){var o={};function s(f){var c=r.get(f);return c===void 0?[]:o[c]||[]}function e(f,c){var E=r.get(f);o[E]||(o[E]=[]),o[E].push(c)}function l(f,c){for(var E=s(f),d=0,p=E.length;d<p;++d)if(E[d]===c){E.splice(d,1);break}}function S(f){var c=s(f);!c||(c.length=0)}return{get:s,add:e,removeListener:l,removeAllListeners:S}},Mt=function(){var r=1;function o(){return r++}return{generate:o}},Pt=function(r){var o=r.idGenerator,s=r.stateHandler.getState;function e(S){var f=s(S);return f&&f.id!==void 0?f.id:null}function l(S){var f=s(S);if(!f)throw new Error("setId required the element to have a resize detection state.");var c=o.generate();return f.id=c,c}return{get:e,set:l}},Wt=function(r){function o(){}var s={log:o,warn:o,error:o};if(!r&&window.console){var e=function(l,S){l[S]=function(){var c=console[S];if(c.apply)c.apply(console,arguments);else for(var E=0;E<arguments.length;E++)c(arguments[E])}};e(s,"log"),e(s,"warn"),e(s,"error")}return s},st={exports:{}},Et=st.exports={};Et.isIE=function(r){function o(){var e=navigator.userAgent.toLowerCase();return e.indexOf("msie")!==-1||e.indexOf("trident")!==-1||e.indexOf(" edge/")!==-1}if(!o())return!1;if(!r)return!0;var s=function(){var e,l=3,S=document.createElement("div"),f=S.getElementsByTagName("i");do S.innerHTML="<!--[if gt IE "+ ++l+"]><i></i><![endif]-->";while(f[0]);return l>4?l:e}();return r===s};Et.isLegacyOpera=function(){return!!window.opera};var ct="_erd";function _t(r){return r[ct]={},xt(r)}function xt(r){return r[ct]}function Bt(r){delete r[ct]}var Rt={initState:_t,getState:xt,cleanState:Bt},Z=st.exports,qt=function(r){r=r||{};var o=r.reporter,s=r.batchProcessor,e=r.stateHandler.getState;if(!o)throw new Error("Missing required dependency: reporter.");function l(d,p){function L(){p(d)}if(Z.isIE(8))e(d).object={proxy:L},d.attachEvent("onresize",L);else{var P=c(d);if(!P)throw new Error("Element is not detectable by this strategy.");P.contentDocument.defaultView.addEventListener("resize",L)}}function S(d){var p=r.important?" !important; ":"; ";return(d.join(p)+p).trim()}function f(d,p,L){L||(L=p,p=d,d=null),d=d||{},d.debug;function P(m,j){var R=S(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),q=!1,N=window.getComputedStyle(m),x=m.offsetWidth,k=m.offsetHeight;e(m).startSize={width:x,height:k};function a(){function t(){if(N.position==="static"){m.style.setProperty("position","relative",d.important?"important":"");var D=function(z,b,H,u){function g(A){return A.replace(/[^-\d\.]/g,"")}var I=H[u];I!=="auto"&&g(I)!=="0"&&(z.warn("An element that is positioned static has style."+u+"="+I+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+u+" will be set to 0. Element: ",b),b.style.setProperty(u,"0",d.important?"important":""))};D(o,m,N,"top"),D(o,m,N,"right"),D(o,m,N,"bottom"),D(o,m,N,"left")}}function y(){q||t();function D(b,H){if(!b.contentDocument){var u=e(b);u.checkForObjectDocumentTimeoutId&&window.clearTimeout(u.checkForObjectDocumentTimeoutId),u.checkForObjectDocumentTimeoutId=setTimeout(function(){u.checkForObjectDocumentTimeoutId=0,D(b,H)},100);return}H(b.contentDocument)}var z=this;D(z,function(H){j(m)})}N.position!==""&&(t(),q=!0);var i=document.createElement("object");i.style.cssText=R,i.tabIndex=-1,i.type="text/html",i.setAttribute("aria-hidden","true"),i.onload=y,Z.isIE()||(i.data="about:blank"),e(m)&&(m.appendChild(i),e(m).object=i,Z.isIE()&&(i.data="about:blank"))}s?s.add(a):a()}Z.isIE(8)?L(p):P(p,L)}function c(d){return e(d).object}function E(d){if(!!e(d)){var p=c(d);!p||(Z.isIE(8)?d.detachEvent("onresize",p.proxy):d.removeChild(p),e(d).checkForObjectDocumentTimeoutId&&window.clearTimeout(e(d).checkForObjectDocumentTimeoutId),delete e(d).object)}}return{makeDetectable:f,addListener:l,uninstall:E}},Ut=dt.exports.forEach,Ft=function(r){r=r||{};var o=r.reporter,s=r.batchProcessor,e=r.stateHandler.getState;r.stateHandler.hasState;var l=r.idHandler;if(!s)throw new Error("Missing required dependency: batchProcessor");if(!o)throw new Error("Missing required dependency: reporter.");var S=p(),f="erd_scroll_detection_scrollbar_style",c="erd_scroll_detection_container";function E(a){L(a,f,c)}E(window.document);function d(a){var t=r.important?" !important; ":"; ";return(a.join(t)+t).trim()}function p(){var a=500,t=500,y=document.createElement("div");y.style.cssText=d(["position: absolute","width: "+a*2+"px","height: "+t*2+"px","visibility: hidden","margin: 0","padding: 0"]);var i=document.createElement("div");i.style.cssText=d(["position: absolute","width: "+a+"px","height: "+t+"px","overflow: scroll","visibility: none","top: "+-a*3+"px","left: "+-t*3+"px","visibility: hidden","margin: 0","padding: 0"]),i.appendChild(y),document.body.insertBefore(i,document.body.firstChild);var D=a-i.clientWidth,z=t-i.clientHeight;return document.body.removeChild(i),{width:D,height:z}}function L(a,t,y){function i(H,u){u=u||function(I){a.head.appendChild(I)};var g=a.createElement("style");return g.innerHTML=H,g.id=t,u(g),g}if(!a.getElementById(t)){var D=y+"_animation",z=y+"_animation_active",b=`/* Created by the element-resize-detector library. */
`;b+="."+y+" > div::-webkit-scrollbar { "+d(["display: none"])+` }

`,b+="."+z+" { "+d(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+D,"animation-name: "+D])+` }
`,b+="@-webkit-keyframes "+D+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,b+="@keyframes "+D+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",i(b)}}function P(a){a.className+=" "+c+"_animation_active"}function m(a,t,y){if(a.addEventListener)a.addEventListener(t,y);else if(a.attachEvent)a.attachEvent("on"+t,y);else return o.error("[scroll] Don't know how to add event listeners.")}function j(a,t,y){if(a.removeEventListener)a.removeEventListener(t,y);else if(a.detachEvent)a.detachEvent("on"+t,y);else return o.error("[scroll] Don't know how to remove event listeners.")}function R(a){return e(a).container.childNodes[0].childNodes[0].childNodes[0]}function q(a){return e(a).container.childNodes[0].childNodes[0].childNodes[1]}function N(a,t){var y=e(a).listeners;if(!y.push)throw new Error("Cannot add listener to an element that is not detectable.");e(a).listeners.push(t)}function x(a,t,y){y||(y=t,t=a,a=null),a=a||{};function i(){if(a.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(l.get(t),"Scroll: "),o.log.apply)o.log.apply(null,n);else for(var h=0;h<n.length;h++)o.log(n[h])}}function D(n){function h(w){var M=w.getRootNode&&w.getRootNode().contains(w);return w===w.ownerDocument.body||w.ownerDocument.body.contains(w)||M}return!h(n)||window.getComputedStyle(n)===null}function z(n){var h=e(n).container.childNodes[0],w=window.getComputedStyle(h);return!w.width||w.width.indexOf("px")===-1}function b(){var n=window.getComputedStyle(t),h={};return h.position=n.position,h.width=t.offsetWidth,h.height=t.offsetHeight,h.top=n.top,h.right=n.right,h.bottom=n.bottom,h.left=n.left,h.widthCSS=n.width,h.heightCSS=n.height,h}function H(){var n=b();e(t).startSize={width:n.width,height:n.height},i("Element start size",e(t).startSize)}function u(){e(t).listeners=[]}function g(){if(i("storeStyle invoked."),!e(t)){i("Aborting because element has been uninstalled");return}var n=b();e(t).style=n}function I(n,h,w){e(n).lastWidth=h,e(n).lastHeight=w}function A(n){return R(n).childNodes[0]}function G(){return 2*S.width+1}function et(){return 2*S.height+1}function rt(n){return n+10+G()}function it(n){return n+10+et()}function kt(n){return n*2+G()}function mt(n){return n*2+et()}function lt(n,h,w){var M=R(n),V=q(n),Y=rt(h),K=it(w),T=kt(h),v=mt(w);M.scrollLeft=Y,M.scrollTop=K,V.scrollLeft=T,V.scrollTop=v}function ut(){var n=e(t).container;if(!n){n=document.createElement("div"),n.className=c,n.style.cssText=d(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),e(t).container=n,P(n),t.appendChild(n);var h=function(){e(t).onRendered&&e(t).onRendered()};m(n,"animationstart",h),e(t).onAnimationStart=h}return n}function Dt(){function n(){var C=e(t).style;if(C.position==="static"){t.style.setProperty("position","relative",a.important?"important":"");var B=function(X,J,zt,at){function At(Tt){return Tt.replace(/[^-\d\.]/g,"")}var ot=zt[at];ot!=="auto"&&At(ot)!=="0"&&(X.warn("An element that is positioned static has style."+at+"="+ot+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+at+" will be set to 0. Element: ",J),J.style[at]=0)};B(o,t,C,"top"),B(o,t,C,"right"),B(o,t,C,"bottom"),B(o,t,C,"left")}}function h(C,B,X,J){return C=C?C+"px":"0",B=B?B+"px":"0",X=X?X+"px":"0",J=J?J+"px":"0",["left: "+C,"top: "+B,"right: "+J,"bottom: "+X]}if(i("Injecting elements"),!e(t)){i("Aborting because element has been uninstalled");return}n();var w=e(t).container;w||(w=ut());var M=S.width,V=S.height,Y=d(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),K=d(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(h(-(1+M),-(1+V),-V,-M))),T=d(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),v=d(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),O=d(["position: absolute","left: 0","top: 0"]),$=d(["position: absolute","width: 200%","height: 200%"]),W=document.createElement("div"),_=document.createElement("div"),Q=document.createElement("div"),ht=document.createElement("div"),nt=document.createElement("div"),vt=document.createElement("div");W.dir="ltr",W.style.cssText=Y,W.className=c,_.className=c,_.style.cssText=K,Q.style.cssText=T,ht.style.cssText=O,nt.style.cssText=v,vt.style.cssText=$,Q.appendChild(ht),nt.appendChild(vt),_.appendChild(Q),_.appendChild(nt),W.appendChild(_),w.appendChild(W);function gt(){var C=e(t);C&&C.onExpand?C.onExpand():i("Aborting expand scroll handler: element has been uninstalled")}function bt(){var C=e(t);C&&C.onShrink?C.onShrink():i("Aborting shrink scroll handler: element has been uninstalled")}m(Q,"scroll",gt),m(nt,"scroll",bt),e(t).onExpandScroll=gt,e(t).onShrinkScroll=bt}function Ct(){function n(T,v,O){var $=A(T),W=rt(v),_=it(O);$.style.setProperty("width",W+"px",a.important?"important":""),$.style.setProperty("height",_+"px",a.important?"important":"")}function h(T){var v=t.offsetWidth,O=t.offsetHeight,$=v!==e(t).lastWidth||O!==e(t).lastHeight;i("Storing current size",v,O),I(t,v,O),s.add(0,function(){if(!!$){if(!e(t)){i("Aborting because element has been uninstalled");return}if(!w()){i("Aborting because element container has not been initialized");return}if(a.debug){var _=t.offsetWidth,Q=t.offsetHeight;(_!==v||Q!==O)&&o.warn(l.get(t),"Scroll: Size changed before updating detector elements.")}n(t,v,O)}}),s.add(1,function(){if(!e(t)){i("Aborting because element has been uninstalled");return}if(!w()){i("Aborting because element container has not been initialized");return}lt(t,v,O)}),$&&T&&s.add(2,function(){if(!e(t)){i("Aborting because element has been uninstalled");return}if(!w()){i("Aborting because element container has not been initialized");return}T()})}function w(){return!!e(t).container}function M(){function T(){return e(t).lastNotifiedWidth===void 0}i("notifyListenersIfNeeded invoked");var v=e(t);if(T()&&v.lastWidth===v.startSize.width&&v.lastHeight===v.startSize.height)return i("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(v.lastWidth===v.lastNotifiedWidth&&v.lastHeight===v.lastNotifiedHeight)return i("Not notifying: Size already notified");i("Current size not notified, notifying..."),v.lastNotifiedWidth=v.lastWidth,v.lastNotifiedHeight=v.lastHeight,Ut(e(t).listeners,function(O){O(t)})}function V(){if(i("startanimation triggered."),z(t)){i("Ignoring since element is still unrendered...");return}i("Element rendered.");var T=R(t),v=q(t);(T.scrollLeft===0||T.scrollTop===0||v.scrollLeft===0||v.scrollTop===0)&&(i("Scrollbars out of sync. Updating detector elements..."),h(M))}function Y(){if(i("Scroll detected."),z(t)){i("Scroll event fired while unrendered. Ignoring...");return}h(M)}if(i("registerListenersAndPositionElements invoked."),!e(t)){i("Aborting because element has been uninstalled");return}e(t).onRendered=V,e(t).onExpand=Y,e(t).onShrink=Y;var K=e(t).style;n(t,K.width,K.height)}function Lt(){if(i("finalizeDomMutation invoked."),!e(t)){i("Aborting because element has been uninstalled");return}var n=e(t).style;I(t,n.width,n.height),lt(t,n.width,n.height)}function Ht(){y(t)}function ft(){i("Installing..."),u(),H(),s.add(0,g),s.add(1,Dt),s.add(2,Ct),s.add(3,Lt),s.add(4,Ht)}i("Making detectable..."),D(t)?(i("Element is detached"),ut(),i("Waiting until element is attached..."),e(t).onRendered=function(){i("Element is now attached"),ft()}):ft()}function k(a){var t=e(a);!t||(t.onExpandScroll&&j(R(a),"scroll",t.onExpandScroll),t.onShrinkScroll&&j(q(a),"scroll",t.onShrinkScroll),t.onAnimationStart&&j(t.container,"animationstart",t.onAnimationStart),t.container&&a.removeChild(t.container))}return{makeDetectable:x,addListener:N,uninstall:k,initDocument:E}},tt=dt.exports.forEach,Gt=Ot,Vt=Nt,$t=Mt,Jt=Pt,Yt=Wt,pt=st.exports,Kt=jt,U=Rt,Qt=qt,Xt=Ft;function yt(r){return Array.isArray(r)||r.length!==void 0}function wt(r){if(Array.isArray(r))return r;var o=[];return tt(r,function(s){o.push(s)}),o}function St(r){return r&&r.nodeType===1}var te=function(r){r=r||{};var o;if(r.idHandler)o={get:function(x){return r.idHandler.get(x,!0)},set:r.idHandler.set};else{var s=$t(),e=Jt({idGenerator:s,stateHandler:U});o=e}var l=r.reporter;if(!l){var S=l===!1;l=Yt(S)}var f=F(r,"batchProcessor",Kt({reporter:l})),c={};c.callOnAdd=!!F(r,"callOnAdd",!0),c.debug=!!F(r,"debug",!1);var E=Vt(o),d=Gt({stateHandler:U}),p,L=F(r,"strategy","object"),P=F(r,"important",!1),m={reporter:l,batchProcessor:f,stateHandler:U,idHandler:o,important:P};if(L==="scroll"&&(pt.isLegacyOpera()?(l.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),L="object"):pt.isIE(9)&&(l.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),L="object")),L==="scroll")p=Xt(m);else if(L==="object")p=Qt(m);else throw new Error("Invalid strategy name: "+L);var j={};function R(x,k,a){function t(H){var u=E.get(H);tt(u,function(I){I(H)})}function y(H,u,g){E.add(u,g),H&&g(u)}if(a||(a=k,k=x,x={}),!k)throw new Error("At least one element required.");if(!a)throw new Error("Listener required.");if(St(k))k=[k];else if(yt(k))k=wt(k);else return l.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var i=0,D=F(x,"callOnAdd",c.callOnAdd),z=F(x,"onReady",function(){}),b=F(x,"debug",c.debug);tt(k,function(u){U.getState(u)||(U.initState(u),o.set(u));var g=o.get(u);if(b&&l.log("Attaching listener to element",g,u),!d.isDetectable(u)){if(b&&l.log(g,"Not detectable."),d.isBusy(u)){b&&l.log(g,"System busy making it detectable"),y(D,u,a),j[g]=j[g]||[],j[g].push(function(){i++,i===k.length&&z()});return}return b&&l.log(g,"Making detectable..."),d.markBusy(u,!0),p.makeDetectable({debug:b,important:P},u,function(A){if(b&&l.log(g,"onElementDetectable"),U.getState(A)){d.markAsDetectable(A),d.markBusy(A,!1),p.addListener(A,t),y(D,A,a);var G=U.getState(A);if(G&&G.startSize){var et=A.offsetWidth,rt=A.offsetHeight;(G.startSize.width!==et||G.startSize.height!==rt)&&t(A)}j[g]&&tt(j[g],function(it){it()})}else b&&l.log(g,"Element uninstalled before being detectable.");delete j[g],i++,i===k.length&&z()})}b&&l.log(g,"Already detecable, adding listener."),y(D,u,a),i++}),i===k.length&&z()}function q(x){if(!x)return l.error("At least one element is required.");if(St(x))x=[x];else if(yt(x))x=wt(x);else return l.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");tt(x,function(k){E.removeAllListeners(k),p.uninstall(k),U.cleanState(k)})}function N(x){p.initDocument&&p.initDocument(x)}return{listenTo:R,removeListener:E.removeListener,removeAllListeners:E.removeAllListeners,uninstall:q,initDocument:N}};function F(r,o,s){var e=r[o];return e==null&&s!==void 0?s:e}export{te as e};
