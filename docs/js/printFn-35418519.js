const l=function(t,e){if(!(this instanceof l))return new l(t,e);this.options=this.extend({noPrint:".no-print"},e),typeof t=="string"?this.dom=document.querySelector(t):(this.isDOM(t),this.dom=this.isDOM(t)?t:t.$el),this.init()};l.prototype={init:function(){var t=this.getStyle()+this.getHtml();this.writeIframe(t)},extend:function(t,e){for(var r in e)t[r]=e[r];return t},getStyle:function(){for(var t="",e=document.querySelectorAll("style,link"),r=0;r<e.length;r++)t+=e[r].outerHTML;return t+="<style>"+(this.options.noPrint?this.options.noPrint:".no-print")+"{display:none;}</style>",t},getHtml:function(){for(var t=document.querySelectorAll("input"),e=document.querySelectorAll("textarea"),r=document.querySelectorAll("select"),n=0;n<t.length;n++)t[n].type=="checkbox"||t[n].type=="radio"?t[n].checked==!0?t[n].setAttribute("checked","checked"):t[n].removeAttribute("checked"):(t[n].type=="text",t[n].setAttribute("value",t[n].value));for(var o=0;o<e.length;o++)e[o].type=="textarea"&&(e[o].innerHTML=e[o].value);for(var i=0;i<r.length;i++)if(r[i].type=="select-one"){var c=r[i].children;for(var s in c)c[s].tagName=="OPTION"&&(c[s].selected==!0?c[s].setAttribute("selected","selected"):c[s].removeAttribute("selected"))}return this.dom.outerHTML},writeIframe:function(t){var e,r,n=document.createElement("iframe"),o=document.body.appendChild(n);n.id="myIframe",n.setAttribute("style","position:absolute;width:0;height:0;top:-10px;left:-10px;"),e=o.contentWindow||o.contentDocument,r=o.contentDocument||o.contentWindow.document,r.open(),r.write(t),r.close();var i=this;n.onload=function(){i.toPrint(e),setTimeout(function(){document.body.removeChild(n)},100)}},toPrint:function(t){try{setTimeout(function(){t.focus();try{t.document.execCommand("print",!1,null)||t.print()}catch{t.print()}t.close()},10)}catch(e){console.log("err",e)}},isDOM:typeof HTMLElement=="object"?function(t){return t instanceof HTMLElement}:function(t){return t&&typeof t=="object"&&t.nodeType===1&&typeof t.nodeName=="string"}};export{l as P};
