import{d as Qt,w as ae,r as k,n as Kt,i as Yt,t as ve,a as ut,b as Xt,c as Q,e as Zt,f as ct,g as B,u as r,h as ge,j as he,_ as $e,k as ft,l as H,F as f,s as P,m as el,o as oe,p as tl,q as Ke,v as dt,x as ll,y as ol,z as fe,A as al,B as sl,C as il,D as be,E as rl,G as nl,R as cl,H as dl,I as Ae,J as pl,K as ul}from"./index.0af4b258.js";import{P as fl}from"./printFn.27369ba5.js";import{F as ml}from"./FileSaver.min.e4a8dfbd.js";import{c as Ue}from"./index.d15eee7b.js";import{c as Re}from"./category.795889f8.js";import{c as _l}from"./codeMirror.ac9e4b0d.js";import{r as bl}from"./renderFormByJson.d05f61e0.js";import{d as Pe,c as pt,r as vl}from"./index.efeafa02.js";function gl(c){var e;const t=ve(c);return(e=t==null?void 0:t.$el)!=null?e:t}const mt=Zt?window:void 0;function Qe(...c){let e,t,l,o;if(typeof c[0]=="string"||Array.isArray(c[0])?([t,l,o]=c,e=mt):[e,t,l,o]=c,!e)return Kt;Array.isArray(t)||(t=[t]),Array.isArray(l)||(l=[l]);const i=[],a=()=>{i.forEach(M=>M()),i.length=0},h=(M,b,m,_)=>(M.addEventListener(b,m,_),()=>M.removeEventListener(b,m,_)),g=ae(()=>[gl(e),ve(o)],([M,b])=>{if(a(),!M)return;const m=Yt(b)?{...b}:b;i.push(...t.flatMap(_=>l.map(u=>h(M,_,u,m))))},{immediate:!0,flush:"post"}),N=()=>{g(),a()};return ut(N),N}function hl(c,e={}){const{delayEnter:t=0,delayLeave:l=0,window:o=mt}=e,i=k(!1);let a;const h=g=>{const N=g?t:l;a&&(clearTimeout(a),a=void 0),N?a=setTimeout(()=>i.value=g,N):i.value=g};return o&&(Qe(c,"mouseenter",()=>h(!0),{passive:!0}),Qe(c,"mouseleave",()=>h(!1),{passive:!0})),i}const yl={[Qt.mounted](c,e){if(typeof e.value=="function"){const t=hl(c);ae(t,l=>e.value(l))}}};function Ge(c){return typeof Window<"u"&&c instanceof Window?c.document.documentElement:typeof Document<"u"&&c instanceof Document?c.documentElement:c}function _t(c){const e=window.getComputedStyle(c);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&c.clientWidth<c.scrollWidth||e.overflowY==="auto"&&c.clientHeight<c.scrollHeight)return!0;{const t=c.parentNode;return!t||t.tagName==="BODY"?!1:_t(t)}}function Cl(c){const e=c||window.event,t=e.target;return _t(t)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const Oe=new WeakMap;function xl(c,e=!1){const t=k(e);let l=null,o;ae(Xt(c),h=>{const g=Ge(ve(h));if(g){const N=g;Oe.get(N)||Oe.set(N,o),t.value&&(N.style.overflow="hidden")}},{immediate:!0});const i=()=>{const h=Ge(ve(c));!h||t.value||(ct&&(l=Qe(h,"touchmove",g=>{Cl(g)},{passive:!1})),h.style.overflow="hidden",t.value=!0)},a=()=>{var h;const g=Ge(ve(c));!g||!t.value||(ct&&(l==null||l()),g.style.overflow=(h=Oe.get(g))!=null?h:"",Oe.delete(g),t.value=!1)};return ut(a),Q({get(){return t.value},set(h){h?i():a()}})}function Sl(){let c=!1;const e=k(!1);return(t,l)=>{if(e.value=l.value,c)return;c=!0;const o=xl(t,l.value);ae(e,i=>o.value=i)}}Sl();const kl={__name:"formResize",emits:["cResize"],setup(c,{emit:e}){const t=k(100),l=k(10),o=N=>{let M=r(t)+N;M>200||M<50||(t.value=M,e("cResize",M))},i=N=>{t.value=N,e("cResize",r(t))},a=k(!1);return{__sfc:!0,emit:e,resizeRatio:t,resizeStep:l,onResizeRatioChange:o,onResizeSet:i,isHovered:a,onHover:N=>{a.value=N},sizeList:[50,100,150,200],vElementHover:yl}}};var Dl=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{staticClass:"form-resize"},[t("d-icon",{attrs:{name:"pAmplify",size:"28"},on:{click:function(o){return o.preventDefault(),o.stopPropagation(),l.onResizeRatioChange(l.resizeStep*-1)}}}),t("span",{directives:[{name:"element-hover",rawName:"v-element-hover",value:l.onHover,expression:"onHover"}],class:{"is-hover":l.isHovered}},[e._v(e._s(l.resizeRatio)+"%")]),t("d-icon",{attrs:{name:"pReduce",size:"28"},on:{click:function(o){return o.preventDefault(),o.stopPropagation(),l.onResizeRatioChange(l.resizeStep)}}}),t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"element-hover",rawName:"v-element-hover",value:l.onHover,expression:"onHover"},{name:"show",rawName:"v-show",value:l.isHovered,expression:"isHovered"}],staticClass:"resize-choose"},e._l(l.sizeList,function(o){return t("div",{key:o,staticClass:"size-item",on:{click:function(i){return l.onResizeSet(o)}}},[e._v(e._s(o)+"%")])}),0)])],1)},wl=[],Ml=B(kl,Dl,wl,!1,null,"4ef4e414",null,null);const Tl=Ml.exports;const Nl={__name:"dataset-dialog",props:{editorModel:{type:Object},config:{type:Object},value:{type:Boolean}},emits:["input"],setup(c,{emit:e}){const t=c,{usedDatasetList:l}=ge({usedDatasetList:m=>m.form.choosedDataset}),{setUsedDatasetList:o}=he({setUsedDatasetList:"form/SET_CHOOSE_DATASET"}),i=Q({get:()=>t.value,set:m=>{e("input",m)}}),a=k({list:[],bindDataset:null,chooseDataset:{},chooseSelect:null}),h=()=>{let m={datset_id:t.editorModel.props.datset_id,datset_name:t.editorModel.props.datset_name};["dicDataSet","busDataSet"].includes(t.config.type)&&(m=t.editorModel.props[t.config.type]),m.datset_id&&(a.value.bindDataset={id:m.datset_id,name:m.datset_name},a.value.chooseSelect={id:m.datset_id,name:m.datset_name})};return ae(i,m=>{!m||h()},{immediate:!0}),{__sfc:!0,emit:e,props:t,usedDatasetList:l,setUsedDatasetList:o,showDialog:i,datasetObj:a,initDatasetObj:h,getDatasetList:(m,_)=>{ft({pageNum:0,pageSize:0,filter:{sortId:m,dat_range:_}}).then(w=>{const{status:T,data:{list:v},msg:E}=w;T==104?a.value.list=v||[]:H.exports.Message.warning(E)})},cancelBindDataset:async()=>{if(!await H.exports.MessageBox.confirm("\u662F\u5426\u53D6\u6D88\u7ED1\u5B9A\u6570\u636E\u96C6\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>!0).catch(()=>!1))return;let _=f.copy(t.editorModel.props),u=_.datset_id;delete _.datset_id,delete _.datset_name,delete _.sort_id,P(t.editorModel,"props",_);let w=f.copy(r(l));w=w.filter(T=>T!==u),w=Array.from(new Set(w)),o(w),a.value={list:[],bindDataset:null,chooseDataset:{},chooseSelect:null},i.value=!1},datasetCancel:()=>{a.value={list:[],bindDataset:null,chooseDataset:{},chooseSelect:null},i.value=!1},saveDataset:async m=>{if(!m){H.exports.Message.warning("\u8BF7\u9009\u62E9\u6570\u636E\u96C6");return}const _=t.config.type,{id:u,datset_name:w,sort_id:T}=m;if(_==="selectActive"){let L=!1;if(await el({datset_id:u,datset_name:w}).then(F=>{F.status===100&&(L=!0)}),!L)return}let v=f.copy(t.editorModel.props),E=v.datset_id;_==="dicDataSet"?(E=v.dicDataSet.datset_id,v.dicDataSet={datset_id:u,datset_name:w,sort_id:T}):_==="busDataSet"?(E=v.busDataSet.datset_id,v.busDataSet={datset_id:u,datset_name:w,sort_id:T}):v={...v,datset_id:u,datset_name:w,sort_id:T},P(t.editorModel,"props",v);let A=f.copy(r(l));E&&(A=A.filter(L=>L!==E)),A.push(u),A=Array.from(new Set(A)),o(A),a.value={list:[],bindDataset:null,chooseDataset:{},chooseSelect:null},i.value=!1},category:Re}}};var Al=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return l.showDialog?t("el-dialog",{key:`${e.editorModel.id}__dialog`,staticClass:"cnt-select-dialog",attrs:{title:"\u9009\u62E9\u6570\u636E\u96C6",visible:l.showDialog,"close-on-click-modal":!1,"append-to-body":"","before-close":l.datasetCancel,width:"938px"},on:{"update:visible":function(o){l.showDialog=o}}},[l.datasetObj.bindDataset?t("div",{staticStyle:{display:"flex","align-items":"center","margin-bottom":"8px"}},[t("div",[e._v("\u5F53\u524D\u7ED1\u5B9A\u6570\u636E\u96C6\uFF1A"+e._s(l.datasetObj.bindDataset.name))])]):e._e(),l.showDialog?t("el-container",[t("el-aside",{attrs:{width:"240px"}},[t(l.category,{attrs:{type:"1",inner:"choose",initData:l.datasetObj.chooseDataset},on:{"node-click":(o,i)=>{l.datasetObj.chooseDataset={...o,dat_range:i},l.getDatasetList(o.id,i)}}})],1),t("el-main",[l.datasetObj.list.length>0?t("el-row",e._l(l.datasetObj.list,function(o){return t("el-col",{key:o.id,class:{"box-border":l.datasetObj.chooseSelect&&l.datasetObj.chooseSelect.id===o.id,"disable-btn":l.usedDatasetList.includes(o.id)},attrs:{span:4}},[t("div",{staticClass:"box-btn",on:{click:function(i){l.datasetObj.chooseSelect=JSON.parse(JSON.stringify(o))},dblclick:function(i){return l.saveDataset(o)}}},[t("i",{staticClass:"el-icon-my-dataset2"}),t("div",{staticClass:"box-fit"},[e._v(" "+e._s(o.datset_name)+" "),t("div",{staticClass:"databaseName"},[e._v(" "+e._s(o.datset_content)+" ")])])])])}),1):t("div",{staticClass:"fe-full"},[t("el-empty",{attrs:{image:$e,description:"\u6682\u65E0\u6570\u636E\u54E6\uFF5E","image-size":200}})],1)],1)],1):e._e(),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(o){return l.saveDataset(l.datasetObj.chooseSelect)}}},[e._v("\u786E\u5B9A")]),l.datasetObj.bindDataset&&l.datasetObj.bindDataset.id?t("el-button",{attrs:{type:"primary",plain:""},on:{click:l.cancelBindDataset}},[e._v("\u53D6\u6D88\u7ED1\u5B9A")]):e._e(),t("el-button",{on:{click:l.datasetCancel}},[e._v("\u53D6\u6D88")])],1)],1):e._e()},Ol=[],Pl=B(Nl,Al,Ol,!1,null,"4ca8529d",null,null);const Le=Pl.exports;const $l={__name:"active-table-dataset-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=k(!1);return{__sfc:!0,props:e,datasetVisible:t,DatasetDialog:Le}}};var Rl=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{focus:function(o){l.datasetVisible=!0}},model:{value:e.editorModel.props.datset_name,callback:function(o){e.$set(e.editorModel.props,"datset_name",o)},expression:"editorModel.props.datset_name"}}),t(l.DatasetDialog,{attrs:{editorModel:e.editorModel,config:{type:"activeTable"}},model:{value:l.datasetVisible,callback:function(o){l.datasetVisible=o},expression:"datasetVisible"}})],2)},Ll=[],Il=B($l,Rl,Ll,!1,null,"335dced3",null,null);const El=Il.exports,Fl=Object.freeze(Object.defineProperty({__proto__:null,default:El},Symbol.toStringTag,{value:"Module"}));function se(c){const e=c.config.prop,t=c.config.root,l=c.config.isAttr,o=Q({get:()=>t?c.editorModel[e]:l?c.editorModel.attrs.find(a=>a.key===e).value:c.editorModel.props[e],set:i=>{if(t)P(c.editorModel,e,i);else if(l){let a=c.editorModel.attrs.find(h=>h.key===e);P(a,"value",i)}else P(c.editorModel.props,e,i)}});return f.isEmpty(r(o))&&"def"in c.config&&(o.value=c.config.def),o}const Vl={__name:"button-group-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=se(e);return{__sfc:!0,props:e,input:t}}};var Bl=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-radio-group",{model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},e._l(e.config.dic,function(o){return t("el-radio-button",{key:o.value,attrs:{label:o.value}},[e._v(e._s(o.label))])}),1)],2)},zl=[],jl=B(Vl,Bl,zl,!1,null,"97488429",null,null);const Hl=jl.exports,ql=Object.freeze(Object.defineProperty({__proto__:null,default:Hl},Symbol.toStringTag,{value:"Module"}));const Wl={__name:"color-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=se(e);return{__sfc:!0,props:e,input:t}}};var Jl=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-color-picker",{attrs:{"show-alpha":"","popper-class":"divider-color"},model:{value:l.input,callback:function(o){l.input=o},expression:"input"}})],2)},Gl=[],Ul=B(Wl,Jl,Gl,!1,null,"413856cf",null,null);const Ql=Ul.exports,Kl=Object.freeze(Object.defineProperty({__proto__:null,default:Ql},Symbol.toStringTag,{value:"Module"}));const Yl={__name:"input-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=se(e),l=Q(()=>e.config.attrs||{placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"});return{__sfc:!0,props:e,input:t,attrs:l}}};var Xl=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-input",e._b({model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},"el-input",l.attrs,!1))],2)},Zl=[],eo=B(Yl,Xl,Zl,!1,null,"87e12bbb",null,null);const to=eo.exports,lo=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"}));const oo={__name:"input-number-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=se(e);return{__sfc:!0,props:e,input:t}}};var ao=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-input-number",e._b({attrs:{"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",size:"medium"},model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},"el-input-number",e.config.attrs,!1))],2)},so=[],io=B(oo,ao,so,!1,null,"b0f7f7ce",null,null);const ro=io.exports,no=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"}));const co={__name:"select-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=se(e);return{__sfc:!0,props:e,input:t}}};var po=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-select",e._b({attrs:{placeholder:"\u8BF7\u9009\u62E9"},model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},"el-select",e.config.attrs,!1),e._l(e.config.dic,function(o){return t("el-option",{key:o.value,attrs:{label:o.label,value:o.value}})}),1)],2)},uo=[],fo=B(co,po,uo,!1,null,"6f80cdfb",null,null);const mo=fo.exports,_o=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"}));const bo={__name:"switch-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=se(e);return{__sfc:!0,props:e,input:t,onChange:o=>{!e.config.listeners||!e.config.listeners.change||e.config.listeners.change(o,e.editorModel)}}}};var vo=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{key:e.config.prop+"Editor"},[e.config.rLabel?t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.rLabel))])]):e._e(),t("div",{staticClass:"switch-con"},[t("span",[e._v(e._s(e.config.label))]),t("el-switch",e._g(e._b({attrs:{"active-color":"#007aff","inactive-color":"#939BA6"},on:{change:l.onChange},model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},"el-switch",e.config.attrs,!1),e.$listeners))],1)],2)},go=[],ho=B(bo,vo,go,!1,null,"2b5bae95",null,null);const bt=ho.exports,yo=Object.freeze(Object.defineProperty({__proto__:null,default:bt},Symbol.toStringTag,{value:"Module"}));const Co={__name:"compute-table-hCode-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=Q(()=>e.editorModel.children.length),l=o=>{if(o>0){let i=e.editorModel.props.hCodeList.length,a=e.editorModel.children.map(g=>g.props.dic.length),h=Math.max(...a);if(h>i){let g=new Array(h-i).fill(1);g=g.map(N=>({value:N})),P(e.editorModel.props,"hCodeList",[...e.editorModel.props.hCodeList,...g])}else h<i&&P(e.editorModel.props,"hCodeList",e.editorModel.props.hCodeList.slice(0,h))}else o===0&&e.editorModel.props.hCodeList.length>0&&P(e.editorModel.props,"hCodeList",[])};return ae(t,l,{deep:!0,immediate:!0}),{__sfc:!0,props:e,childLen:t,onInitHCodeList:l}}};var xo=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("el-form-item",{key:"compute-table-hCode-editor"},[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),e._l(e.editorModel.props.hCodeList,function(l,o){return t("el-input-number",{key:o,attrs:{"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",size:"medium",min:1,max:10},model:{value:l.value,callback:function(i){e.$set(l,"value",i)},expression:"col.value"}})})],2)},So=[],ko=B(Co,xo,So,!1,null,"b7ac6d89",null,null);const Do=ko.exports,wo=Object.freeze(Object.defineProperty({__proto__:null,default:Do},Symbol.toStringTag,{value:"Module"})),vt=[{label:"\u7B49\u4E8E",value:"equal"},{label:"\u4E0D\u7B49\u4E8E",value:"notEqual"},{label:"\u5927\u4E8E",value:"greater"},{label:"\u5927\u4E8E\u7B49\u4E8E",value:"greaterEqual"},{label:"\u5C0F\u4E8E",value:"less"},{label:"\u5C0F\u4E8E\u7B49\u4E8E",value:"lessEqual"},{label:"\u5305\u542B",value:"includes"},{label:"\u4E0D\u5305\u542B",value:"notIncludes"}],gt=[{label:"\u4E0E",value:"and"},{label:"\u6216",value:"or"}];const Mo={__name:"connect-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=k({}),l=k(!1),o=()=>{t.value=f.copy(e.editorModel.props),l.value=!0},i=oe("flatData",[]),a=()=>{t.value={},l.value=!1},h=()=>{P(e.editorModel,"props",f.copy(r(t))),t.value={},l.value=!1},g=(u,w,T)=>{if(T==="del")if(u!=0){let v=f.copy(r(t)[w]);v.splice(u,1),P(t.value,w,v)}else P(t.value,w,[{id:f.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}]);else if(T==="add"){let v=f.copy(r(t)[w]);v.push({id:f.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}),P(t.value,w,v)}},N=k(!1),M=k(null),b=Q(()=>r(N)?r(i).filter(u=>u.id!==e.editorModel.id&&(u.props.cntCompDisArr||u.props.cntCompReqArr||u.props.cntCompShowArr)):[]);return{__sfc:!0,props:e,tempProps:t,relationVisible:l,onInitConnectConfig:o,flatData:i,onCancel:a,onSave:h,onControlRelateNum:g,importVisible:N,importChoose:M,importDic:b,onImportSave:()=>{let u=r(i).find(w=>w.id===r(M));u&&(P(t.value,"cntCompDisArr",f.copy(u.props.cntCompDisArr)),r(t).isRequired&&P(t.value,"cntCompReqArr",f.copy(u.props.cntCompReqArr)),P(t.value,"cntCompShowArr",f.copy(u.props.cntCompShowArr))),N.value=!1,M.value=null},onImportCancel:()=>{N.value=!1,M.value=null},compareDic:vt,logicDic:gt}}};var To=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-button",{staticClass:"config-btn",attrs:{plain:"",type:"primary"},on:{click:l.onInitConnectConfig}},[e._v("\u914D\u7F6E\u5173\u8054\u5173\u7CFB")]),l.relationVisible?t("el-dialog",{staticClass:"relation-dialog",attrs:{title:"\u6DFB\u52A0\u5173\u8054\u5173\u7CFB","append-to-body":"","close-on-click-modal":!1,visible:l.relationVisible,"before-close":l.onCancel},on:{"update:visible":function(o){l.relationVisible=o}}},[t("div",{staticClass:"relate-notice"},[t("i",{staticClass:"el-icon-info"}),t("span",[e._v("\u5F53\u5173\u8054\u5173\u7CFB\u4E0E\u63A7\u4EF6\u672C\u8EAB\u6709\u51B2\u7A81\u65F6\uFF0C\u4EE5\u63A7\u4EF6\u5173\u7CFB\u4E3A\u51C6\u3002")])]),t("div",{staticClass:"relate-container"},[t("div",{staticClass:"relate-title"},[e._v("\u7981\u7528\u5173\u7CFB")]),t("div",{staticClass:"relate-container",staticStyle:{"margin-bottom":"12px"}},[t("div",{staticClass:"relate-title"},[t("span",[e._v("\u5173\u8054\u7EC4\u4EF6/\u53C2\u6570")]),t("span",[e._v("\u5173\u7CFB\u7B26")]),t("span",[e._v("\u503C")]),t("span",[e._v("\u903B\u8F91\u8FD0\u7B97\u7B26")])]),e._l(l.tempProps.cntCompDisArr,function(o,i){return t("div",{key:o.id,staticClass:"relate-item"},[t("el-select",{attrs:{clearable:"","allow-create":"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.cntCompId,callback:function(a){e.$set(o,"cntCompId",typeof a=="string"?a.trim():a)},expression:"item.cntCompId"}},e._l(l.flatData,function(a){return t("el-option",{key:a.id,attrs:{disabled:a.id===e.editorModel.id,label:a.label,value:a.id}})}),1),t("el-select",{attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.op,callback:function(a){e.$set(o,"op",a)},expression:"item.op"}},e._l(l.compareDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("el-input",{attrs:{type:"text",placeholder:"\u8BF7\u8F93\u5165"},model:{value:o.val,callback:function(a){e.$set(o,"val",a)},expression:"item.val"}}),t("el-select",{attrs:{clearable:"",disabled:i===l.tempProps.cntCompDisArr.length-1,placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.logicOp,callback:function(a){e.$set(o,"logicOp",a)},expression:"item.logicOp"}},e._l(l.logicDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("i",{directives:[{name:"show",rawName:"v-show",value:i===l.tempProps.cntCompDisArr.length-1,expression:"index === tempProps.cntCompDisArr.length - 1"}],staticClass:"el-icon-my-relAdd",staticStyle:{"margin-right":"8px"},on:{click:function(a){return l.onControlRelateNum(i,"cntCompDisArr","add")}}}),t("i",{staticClass:"el-icon-my-relDel",on:{click:function(a){return l.onControlRelateNum(i,"cntCompDisArr","del")}}})],1)})],2),l.tempProps.isRequired?[t("div",{staticClass:"relate-title"},[e._v("\u5FC5\u586B\u5173\u7CFB")]),t("div",{staticClass:"relate-container",staticStyle:{"margin-bottom":"12px"}},[t("div",{staticClass:"relate-title"},[t("span",[e._v("\u5173\u8054\u7EC4\u4EF6/\u53C2\u6570")]),t("span",[e._v("\u5173\u7CFB\u7B26")]),t("span",[e._v("\u503C")]),t("span",[e._v("\u903B\u8F91\u8FD0\u7B97\u7B26")])]),e._l(l.tempProps.cntCompReqArr,function(o,i){return t("div",{key:o.id,staticClass:"relate-item"},[t("el-select",{attrs:{clearable:"","allow-create":"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.cntCompId,callback:function(a){e.$set(o,"cntCompId",a)},expression:"item.cntCompId"}},e._l(l.flatData,function(a){return t("el-option",{key:a.id,attrs:{disabled:a.id===e.editorModel.id,label:a.label,value:a.id}})}),1),t("el-select",{attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.op,callback:function(a){e.$set(o,"op",a)},expression:"item.op"}},e._l(l.compareDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("el-input",{attrs:{type:"text",placeholder:"\u8BF7\u8F93\u5165"},model:{value:o.val,callback:function(a){e.$set(o,"val",a)},expression:"item.val"}}),t("el-select",{attrs:{clearable:"",disabled:i===l.tempProps.cntCompReqArr.length-1,placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.logicOp,callback:function(a){e.$set(o,"logicOp",a)},expression:"item.logicOp"}},e._l(l.logicDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("i",{directives:[{name:"show",rawName:"v-show",value:i===l.tempProps.cntCompReqArr.length-1,expression:"index === tempProps.cntCompReqArr.length - 1"}],staticClass:"el-icon-my-relAdd",staticStyle:{"margin-right":"8px"},on:{click:function(a){return l.onControlRelateNum(i,"cntCompReqArr","add")}}}),t("i",{staticClass:"el-icon-my-relDel",on:{click:function(a){return l.onControlRelateNum(i,"cntCompReqArr","del")}}})],1)})],2)]:e._e(),t("div",{staticClass:"relate-title"},[e._v("\u9690\u85CF\u5173\u7CFB")]),t("div",{staticClass:"relate-container"},[t("div",{staticClass:"relate-title"},[t("span",[e._v("\u5173\u8054\u7EC4\u4EF6/\u53C2\u6570")]),t("span",[e._v("\u5173\u7CFB\u7B26")]),t("span",[e._v("\u503C")]),t("span",[e._v("\u903B\u8F91\u8FD0\u7B97\u7B26")])]),e._l(l.tempProps.cntCompShowArr,function(o,i){return t("div",{key:o.id,staticClass:"relate-item"},[t("el-select",{attrs:{clearable:"","allow-create":"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.cntCompId,callback:function(a){e.$set(o,"cntCompId",a)},expression:"item.cntCompId"}},e._l(l.flatData,function(a){return t("el-option",{key:a.id,attrs:{disabled:a.id===e.editorModel.id,label:a.label,value:a.id}})}),1),t("el-select",{attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.op,callback:function(a){e.$set(o,"op",a)},expression:"item.op"}},e._l(l.compareDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("el-input",{attrs:{type:"text",placeholder:"\u8BF7\u8F93\u5165"},model:{value:o.val,callback:function(a){e.$set(o,"val",a)},expression:"item.val"}}),t("el-select",{attrs:{clearable:"",disabled:i===l.tempProps.cntCompShowArr.length-1,placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.logicOp,callback:function(a){e.$set(o,"logicOp",a)},expression:"item.logicOp"}},e._l(l.logicDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("i",{directives:[{name:"show",rawName:"v-show",value:i===l.tempProps.cntCompShowArr.length-1,expression:"index === tempProps.cntCompShowArr.length - 1"}],staticClass:"el-icon-my-relAdd",staticStyle:{"margin-right":"8px"},on:{click:function(a){return l.onControlRelateNum(i,"cntCompShowArr","add")}}}),t("i",{staticClass:"el-icon-my-relDel",on:{click:function(a){return l.onControlRelateNum(i,"cntCompShowArr","del")}}})],1)})],2)],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(o){l.importVisible=!0}}},[e._v("\u5BFC\u5165\u5173\u8054\u5173\u7CFB")]),t("el-button",{attrs:{type:"primary"},on:{click:l.onSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onCancel}},[e._v("\u53D6\u6D88")])],1)]):e._e(),l.importVisible?t("el-dialog",{staticClass:"ipt-dialog",attrs:{title:"\u5BFC\u5165","append-to-body":"","close-on-click-modal":!1,visible:l.importVisible,"before-close":l.onImportCancel,width:"294px",top:"203px"},on:{"update:visible":function(o){l.importVisible=o}}},[t("div",[t("div",{staticStyle:{"margin-bottom":"8px"}},[e._v("\u5BFC\u5165\u9009\u62E9\uFF1A")]),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9",filterable:"",clearable:""},model:{value:l.importChoose,callback:function(o){l.importChoose=o},expression:"importChoose"}},e._l(l.importDic,function(o){return t("el-option",{key:o.id,attrs:{label:o.label,value:o.id}})}),1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onImportSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onImportCancel}},[e._v("\u53D6\u6D88")])],1)]):e._e()],2)},No=[],Ao=B(Mo,To,No,!1,null,"cc9213c9",null,null);const Oo=Ao.exports,Po=Object.freeze(Object.defineProperty({__proto__:null,default:Oo},Symbol.toStringTag,{value:"Module"}));const $o={__name:"default-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=se(e),l=e.editorModel.name;return{__sfc:!0,props:e,input:t,cName:l,handleCompName:h=>{const{name:g}=h;return["dRadio","dCheckbox"].includes(g)?"dSelect":g},handleAttrs:h=>{const{attrs:g,id:N,name:M}=h;let b={};return g.forEach(m=>{const{key:_,value:u,type:w}=m;if(w==="json"){if(!f.isEmpty(_)&&!f.isEmpty(u)){let T=null;try{T=JSON.parse(u),b[_]=T}catch(v){console.log(v)}}}else!f.isEmpty(_)&&!f.isEmpty(u)&&(b[_]=u)}),b={...b,dKey:N},["dRadio","dCheckbox","dSelect"].includes(M)&&(b.clearable=!0),M==="dCheckbox"&&(b.multiple=!0),b},handleDic:h=>{const{props:{dicField:g,dic:N}}=h;return f.isEmpty(g),N}}}};var Ro=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),l.cName==="dTime"?t("el-select",{staticStyle:{width:"100%","margin-bottom":"8px"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},model:{value:e.editorModel.props.isDefNow,callback:function(o){e.$set(e.editorModel.props,"isDefNow",o)},expression:"editorModel.props.isDefNow"}},[t("el-option",{attrs:{label:"\u5F53\u524D\u65F6\u95F4",value:!0}}),t("el-option",{attrs:{label:"\u56FA\u5B9A\u503C",value:!1}})],1):e._e(),["dTitle","dText","dImage"].includes(l.cName)?[t("el-input",e._b({attrs:{placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},"el-input",e.config.attrs,!1))]:[t(l.handleCompName(e.editorModel),e._b({key:e.editorModel.id,ref:e.editorModel.id,tag:"component",attrs:{isDef:"",disabled:e.editorModel.props.isDefNow,dic:l.handleDic(e.editorModel)},model:{value:e.editorModel.defVal,callback:function(o){e.$set(e.editorModel,"defVal",o)},expression:"editorModel.defVal"}},"component",l.handleAttrs(e.editorModel),!1))]],2)},Lo=[],Io=B($o,Ro,Lo,!1,null,"9dd1f772",null,null);const Eo=Io.exports,Fo=Object.freeze(Object.defineProperty({__proto__:null,default:Eo},Symbol.toStringTag,{value:"Module"}));const Vo={__name:"divider-type-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=se(e);return{__sfc:!0,props:e,input:t}}};var Bo=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-select",e._b({attrs:{placeholder:"\u8BF7\u9009\u62E9"},model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},"el-select",e.config.attrs,!1),[t("el-option",{attrs:{value:"solid"}},[t("div",{staticStyle:{height:"0","border-top":"1px solid #000","margin-top":"17px"}})]),t("el-option",{attrs:{value:"dashed"}},[t("div",{staticStyle:{height:"0","border-top":"1px dashed #000","margin-top":"17px"}})]),t("el-option",{attrs:{value:"dotted"}},[t("div",{staticStyle:{height:"0","border-top":"1px dotted #000","margin-top":"17px"}})])],1),t("div",{staticClass:"divider-type-demo",class:e.editorModel.props?e.editorModel.props.dividerType:""})],2)},zo=[],jo=B(Vo,Bo,zo,!1,null,"303fc359",null,null);const Ho=jo.exports,qo=Object.freeze(Object.defineProperty({__proto__:null,default:Ho},Symbol.toStringTag,{value:"Module"}));const Wo={__name:"drop-config-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=e.config.secConfig.bindName,l=e.config.secConfig.searchPageWidth,o=e.config.secConfig.dropCondition,i=k(!1),a=k({}),h=k({}),g=async()=>{i.value=!0,e.editorModel.props.bindId&&(h.value={id:e.editorModel.props.bindId})},N=k([]),M=(R,W)=>(N.value=[],tl({pageNum:0,pageSize:0,filter:{sortId:R,dat_range:W}}).then(X=>{const{status:G,data:{list:le},msg:re}=X;G==104?N.value=le||[]:H.exports.Message.warning(re)})),b=R=>{if(!R){H.exports.Message.warning("\u8BF7\u9009\u62E9\u67E5\u8BE2\u914D\u7F6E");return}let W=r(N).find(J=>J.id===R.id);P(e.editorModel.props,"bindId",W.id),P(e.editorModel.props,"bindName",W.name),a.value={},h.value={},i.value=!1},m=()=>{a.value={},h.value={},i.value=!1},_=k(!1),u=k(null),w=oe("flatData",[]),T=oe("DFields",[]),v=k([]),E=async()=>{const{tag:R,tableId:W}=e.editorModel;if(R==="table"){let J=r(w).find(G=>G.id===W);if(!J||!J.props.datset_id){v.value=[];return}const X={id:J.props.datset_id,pageNum:0,pageSize:0};v.value=await Ke(X).then(G=>{const{status:le,data:re}=G;return le==104&&re?re.list:[]})}else console.log(r(T),"DFields"),v.value=f.copy(r(T))},A=(R,W)=>{if(!R)return W.map(({name:G,alias:le})=>({name:G,alias:le,reflectName:""}));let J=Object.fromEntries(W.map(G=>[G.name,G])),X=Object.fromEntries(R.map(G=>[G.name,G]));for(let G in J)if(X[G])J[G]={...X[G],alias:J[G].alias};else{const{name:le,alias:re}=J[G];J[G]={name:le,alias:re,reflectName:""}}return Object.values(J)},L=async()=>{await E(),u.value=f.copy(e.editorModel.props);let R;if(r(u).bindId&&(R=await dt({id:r(u).bindId})),!R)return;const{data:{field_text:W}}=R;if(!W)return;let J=[];try{J=JSON.parse(W)}catch(X){console.log(X)}P(u.value,"fieldsSet",A(r(u).fieldsSet,J)),P(u.value,"userInfoSet",A(r(u).userInfoSet,J)),_.value=!0},z=k("formBack"),F=R=>{if(R.name==="formCon"&&!r(u).fillReflectSet&&r(T)){let W=r(T).map(J=>({describe:J.describe,name:J.name,reflectName:""}));P(u.value,"fillReflectSet",W)}},V=()=>{u.value=null,z.value="formBack",_.value=!1},$=()=>{P(e.editorModel,"props",f.copy(r(u))),z.value="formBack",_.value=!1},I=e.config.secConfig.compInteractive,q=k(!1),K=async()=>{if(!e.editorModel.tag||e.editorModel.tag!=="table")return;u.value=f.copy(e.editorModel.props),await E();let R;r(u).compInteractive?R=f.copy(r(u).compInteractive):R={cbApi:"",configFields:[]};let W;if(r(u).bindId&&(W=await dt({id:r(u).bindId})),!W)return;const{data:{field_text:J}}=W;if(!J)return;let X=[];try{X=JSON.parse(J)}catch(G){console.log(G)}R.configFields=A(R.configFields,X),P(u.value,"compInteractive",R),q.value=!0},te=Q(()=>r(q)?r(v).map(R=>({...R,fLabel:`${R.name}\uFF08${R.describe}\uFF09${["dInput","dTextarea","dInputNumber"].includes(e.editorModel.name)?`\uFF08${R.length}\uFF09`:""}`})):[]),ee=Q(()=>{if(!r(q))return[];let R=r(u).compInteractive.configFields.map(W=>W.reflectName);return R=R.filter(W=>!f.isEmpty(W)),[...Pe,...R]});return{__sfc:!0,props:e,bindNameConfig:t,searchPageWidthConfig:l,dropConditionConfig:o,datasetVisible:i,chooseDataset:a,chooseQry:h,onOpenChooseQryDialog:g,qryList:N,getQryList:M,onChooseQrySave:b,onChooseQryCancel:m,dropConfigVisible:_,tempProps:u,flatData:w,DFields:T,fieldsDic:v,fieldSetDicHandler:E,getUpdateInfo:A,selectTabsReflectSetHandler:L,selectTabsName:z,selectTabsClickHandler:F,onDropConfigDialogClose:V,onDropConfigDialogSave:$,ATIptInsertConfig:I,ATVisible:q,compInteractiveInit:K,ATReflectDic:te,ATReflectDis:ee,onATDialogClose:()=>{u.value=null,q.value=!1},onATDialogSave:()=>{P(e.editorModel,"props",f.copy(r(u))),u.value=null,q.value=!1},category:Re,disableFields:Pe}}};var Jo=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{staticClass:"drop-config-editor"},[t("el-form-item",{key:"bindName"},[t("template",{slot:"label"},[t("span",[e._v(e._s(l.bindNameConfig.label))])]),t("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{focus:l.onOpenChooseQryDialog},model:{value:e.editorModel.props.bindName,callback:function(o){e.$set(e.editorModel.props,"bindName",o)},expression:"editorModel.props.bindName"}})],2),t("el-form-item",{key:"searchPageWidth"},[t("template",{slot:"label"},[t("span",[e._v(e._s(l.searchPageWidthConfig.label))])]),t("el-input-number",e._b({attrs:{"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",size:"medium"},model:{value:e.editorModel.props.searchPageWidth,callback:function(o){e.$set(e.editorModel.props,"searchPageWidth",o)},expression:"editorModel.props.searchPageWidth"}},"el-input-number",l.searchPageWidthConfig.attrs,!1))],2),e.editorModel.props.bindName?t("el-form-item",{key:"dropConfig"},[t("el-button",{staticClass:"config-btn",attrs:{plain:"",type:"primary"},on:{click:l.selectTabsReflectSetHandler}},[e._v("\u4E0B\u62C9\u5217\u8868\u6620\u5C04\u914D\u7F6E")])],1):e._e(),t("el-form-item",{key:"dropCondition"},[t("template",{slot:"label"},[t("span",[e._v(e._s(l.dropConditionConfig.label))])]),t("el-input",{staticStyle:{"margin-bottom":"8px"},attrs:{type:"text",placeholder:"\u6761\u4EF6\u540D\u79F0"},model:{value:e.editorModel.props.dropCondition.key,callback:function(o){e.$set(e.editorModel.props.dropCondition,"key",typeof o=="string"?o.trim():o)},expression:"editorModel.props.dropCondition.key"}}),t("el-input",{attrs:{type:"text",placeholder:"\u6761\u4EF6\u503C"},model:{value:e.editorModel.props.dropCondition.value,callback:function(o){e.$set(e.editorModel.props.dropCondition,"value",typeof o=="string"?o.trim():o)},expression:"editorModel.props.dropCondition.value"}})],2),e.editorModel.props.bindName&&e.editorModel.tag?t("el-form-item",{key:"APConfig"},[t("template",{slot:"label"},[t("span",[e._v(e._s(l.ATIptInsertConfig.label))])]),t("el-button",{staticClass:"config-btn",attrs:{plain:"",type:"primary"},on:{click:l.compInteractiveInit}},[e._v("\u914D\u7F6E\u7EC4\u4EF6\u4EA4\u4E92")])],2):e._e(),l.datasetVisible?t("el-dialog",{staticClass:"dataset-dialog",attrs:{title:"\u9009\u62E9\u67E5\u8BE2\u914D\u7F6E",visible:l.datasetVisible,"close-on-click-modal":!1,"append-to-body":"",width:"938px","before-close":l.onChooseQryCancel},on:{"update:visible":function(o){l.datasetVisible=o}}},[e.editorModel&&e.editorModel.props.bindName?t("div",{staticClass:"bind-name"},[t("div",[e._v("\u5F53\u524D\u7ED1\u5B9A\u67E5\u8BE2\u914D\u7F6E\uFF1A"+e._s(e.editorModel.props.bindName))])]):e._e(),t("el-container",[t("el-aside",{attrs:{width:"240px"}},[t(l.category,{attrs:{type:"3",inner:"choose",initData:l.chooseDataset},on:{"node-click":(o,i)=>{l.chooseDataset={...o,dat_range:i},l.getQryList(o.id,i)}}})],1),t("el-main",[t("el-row",{directives:[{name:"show",rawName:"v-show",value:l.qryList.length>0,expression:"qryList.length > 0"}]},e._l(l.qryList,function(o){return t("el-col",{key:o.id,attrs:{span:4}},[t("div",{staticClass:"form-card",class:{"form-card__active":l.chooseQry.id===o.id},on:{click:function(i){l.chooseQry=JSON.parse(JSON.stringify(o))},dblclick:function(i){return l.onChooseQrySave(o)}}},[t("i",{staticClass:"el-icon-my-dataset2"}),t("div",{staticClass:"form-card-des"},[e._v(" "+e._s(o.datset_name)+" "),t("div",{staticClass:"databaseName"},[e._v(e._s(o.name))])])])])}),1),t("div",{directives:[{name:"show",rawName:"v-show",value:l.qryList.length===0,expression:"qryList.length === 0"}],staticClass:"fe-full"},[t("el-empty",{attrs:{image:$e,description:"\u6682\u65E0\u6570\u636E\u54E6\uFF5E","image-size":200}})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(o){return l.onChooseQrySave(l.chooseQry)}}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onChooseQryCancel}},[e._v("\u53D6\u6D88")])],1)],1):e._e(),l.dropConfigVisible?t("el-dialog",{staticClass:"sickListReflect-dialog",attrs:{"append-to-body":"",top:"5vh",title:"\u5217\u8868\u6620\u5C04\u914D\u7F6E",visible:l.dropConfigVisible,"close-on-click-modal":!1,"before-close":l.onDropConfigDialogClose},on:{"update:visible":function(o){l.dropConfigVisible=o}}},[t("div",{staticClass:"header-notice"},[t("i",{staticClass:"el-icon-info"}),t("span",{directives:[{name:"show",rawName:"v-show",value:l.selectTabsName==="formBack",expression:"selectTabsName === 'formBack'"}]},[e._v("\u8868\u5355\u56DE\u586B\u6620\u5C04\uFF1A\u5C06\u4E0B\u62C9\u9875\u9762\u67E5\u8BE2\u51FA\u6765\u7684\u6570\u636E\u56DE\u586B\u5230\u8868\u5355\u5BF9\u5E94\u7ED1\u5B9A\u5B57\u6BB5\u7684\u7EC4\u4EF6\u4E0A\uFF0C\u201C\u5B57\u6BB5\u540D\u79F0\u201D\u4E3A\u4E0B\u62C9\u9875\u9762\u6240\u67E5\u8BE2\u7684\u5B57\u6BB5\u540D\uFF0C\u201C\u6620\u5C04\u540D\u79F0\u201D\u4E3A\u8868\u5355\u7EC4\u4EF6\u7ED1\u5B9A\u7684\u5B57\u6BB5\u540D")]),t("span",{directives:[{name:"show",rawName:"v-show",value:l.selectTabsName==="urlParams",expression:"selectTabsName === 'urlParams'"}]},[e._v("URL\u53C2\u6570\u6620\u5C04\uFF1A\u5C06\u901A\u8FC7URL\u8BF7\u6C42\u5934\u4F20\u5165\u8868\u5355\u7684\u53C2\u6570\u4F20\u5165\u5230\u4E0B\u62C9\u5217\u9875\u9762\u4E2D\uFF0C\u201C\u5B57\u6BB5\u540D\u79F0\u201D\u4E3A\u4E0B\u62C9\u9875\u9762\u6240\u67E5\u8BE2\u7684\u5B57\u6BB5\u540D\uFF0C\u201C\u6620\u5C04\u540D\u79F0\u201D\u4E3AURL\u8BF7\u6C42\u5934\u7684\u53C2\u6570\u540D")]),t("span",{directives:[{name:"show",rawName:"v-show",value:l.selectTabsName==="formCon",expression:"selectTabsName === 'formCon'"}]},[e._v("\u8868\u5355\u5185\u5BB9\u6620\u5C04\uFF1A\u5C06\u8868\u5355\u7EC4\u4EF6\u7684\u503C\u4F20\u5165\u5230\u4E0B\u62C9\u5217\u9875\u9762\uFF0C\u201C\u5B57\u6BB5\u540D\u79F0\u201D\u4E3A\u8868\u5355\u7EC4\u4EF6\u7ED1\u5B9A\u7684\u5B57\u6BB5\u540D\uFF0C\u201C\u6620\u5C04\u540D\u79F0\u201D\u4E3A\u4E0B\u62C9\u9875\u9762\u6240\u7ED1\u5B9A\u7684\u6570\u636E\u96C6\u7684\u5B57\u6BB5\u540D\uFF08*\u82E5\u4E0B\u62C9\u9875\u9762\u6240\u7ED1\u5B9A\u7684\u6570\u636E\u96C6\u7C7B\u578B\u4E3A\u5B58\u50A8\u8FC7\u7A0B\uFF0C\u5219\u201C\u6620\u5C04\u540D\u79F0\u201D\u4E3A\u5B58\u50A8\u8FC7\u7A0B\u53C2\u6570\u540D\uFF09")])]),l.tempProps&&e.editorModel?t("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":l.selectTabsClickHandler},model:{value:l.selectTabsName,callback:function(o){l.selectTabsName=o},expression:"selectTabsName"}},[e.editorModel.props.bindName?t("el-tab-pane",{attrs:{label:"\u8868\u5355\u56DE\u586B\u6620\u5C04",name:"formBack"}},[t("el-table",{attrs:{data:l.tempProps.fieldsSet,stripe:"",fit:"",height:"100%"}},[t("el-table-column",{attrs:{prop:"name",label:"\u5B57\u6BB5\u540D\u79F0","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("span",[e._v(e._s(`${o.name}\uFF08${o.alias}\uFF09`))])]}}],null,!1,2096447952)}),t("el-table-column",{attrs:{label:"\u6620\u5C04\u540D\u79F0"},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",size:"small",placeholder:"\u6620\u5C04\u540D\u79F0"},model:{value:o.reflectName,callback:function(i){e.$set(o,"reflectName",i)},expression:"row['reflectName']"}},e._l(l.fieldsDic,function({name:i,describe:a}){return t("el-option",{key:i,attrs:{label:`${i}\uFF08${a}\uFF09`,value:i,disabled:l.disableFields.includes(i)}})}),1)]}}],null,!1,2547302002)})],1)],1):e._e(),e.editorModel.props.bindName?t("el-tab-pane",{attrs:{label:"URL\u53C2\u6570\u6620\u5C04",name:"urlParams"}},[t("el-table",{attrs:{data:l.tempProps.userInfoSet,stripe:"",fit:"",height:"100%"}},[t("el-table-column",{attrs:{prop:"name",label:"\u5B57\u6BB5\u540D\u79F0","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("span",[e._v(e._s(`${o.name}\uFF08${o.alias}\uFF09`))])]}}],null,!1,2096447952)}),t("el-table-column",{attrs:{label:"\u6620\u5C04\u540D\u79F0"},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("el-input",{attrs:{type:"text",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},model:{value:o.reflectName,callback:function(i){e.$set(o,"reflectName",typeof i=="string"?i.trim():i)},expression:"row['reflectName']"}})]}}],null,!1,3791522708)})],1)],1):e._e(),l.DFields&&l.DFields.length>0?t("el-tab-pane",{attrs:{label:"\u8868\u5355\u5185\u5BB9\u6620\u5C04",name:"formCon"}},[t("el-table",{attrs:{data:l.tempProps.fillReflectSet,stripe:"",fit:"",height:"100%"}},[t("el-table-column",{attrs:{prop:"name",label:"\u5B57\u6BB5\u540D\u79F0","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("span",[e._v(e._s(`${o.name}\uFF08${o.describe}\uFF09`))])]}}],null,!1,73428875)}),t("el-table-column",{attrs:{label:"\u6620\u5C04\u540D\u79F0"},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("el-input",{attrs:{type:"text",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},model:{value:o.reflectName,callback:function(i){e.$set(o,"reflectName",typeof i=="string"?i.trim():i)},expression:"row['reflectName']"}})]}}],null,!1,3791522708)})],1)],1):e._e()],1):e._e(),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onDropConfigDialogSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onDropConfigDialogClose}},[e._v("\u53D6\u6D88")])],1)],1):e._e(),l.ATVisible?t("el-dialog",{staticClass:"comp-interactive-dialog",attrs:{title:"\u7EC4\u4EF6\u4EA4\u4E92\u914D\u7F6E","append-to-body":"","close-on-click-modal":!1,visible:l.ATVisible,"before-close":l.onATDialogClose},on:{"update:visible":function(o){l.ATVisible=o}}},[l.tempProps&&l.tempProps.compInteractive?[t("div",{staticStyle:{"margin-bottom":"8px"}},[t("div",{staticStyle:{"margin-bottom":"8px"}},[e._v("Api:")]),t("el-input",{attrs:{type:"text",size:"mini",placeholder:"\u8BF7\u8F93\u5165Api"},model:{value:l.tempProps.compInteractive.cbApi,callback:function(o){e.$set(l.tempProps.compInteractive,"cbApi",typeof o=="string"?o.trim():o)},expression:"tempProps.compInteractive.cbApi"}})],1),t("div",{staticStyle:{"margin-bottom":"8px"}},[e._v("\u8868\u683C\u56DE\u586B\u6620\u5C04\uFF1A")]),t("el-table",{attrs:{data:l.tempProps.compInteractive.configFields,stripe:"",fit:"",height:"calc(100% - 102px)"}},[t("el-table-column",{attrs:{prop:"name",label:"\u5B57\u6BB5\u540D\u79F0","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("span",[e._v(e._s(`${o.name}\uFF08${o.alias}\uFF09`))])]}}],null,!1,2096447952)}),t("el-table-column",{attrs:{label:"\u6620\u5C04\u540D\u79F0"},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",size:"small",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.reflectName,callback:function(i){e.$set(o,"reflectName",i)},expression:"row['reflectName']"}},e._l(l.ATReflectDic,function(i){return t("el-option",{key:i.name,attrs:{label:i.fLabel,value:i.name,disabled:l.ATReflectDis.includes(i.name)}})}),1)]}}],null,!1,4288028610)})],1)]:e._e(),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onATDialogSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onATDialogClose}},[e._v("\u53D6\u6D88")])],1)],2):e._e()],1)},Go=[],Uo=B(Wo,Jo,Go,!1,null,"bbd9a2a7",null,null);const Qo=Uo.exports,Ko=Object.freeze(Object.defineProperty({__proto__:null,default:Qo},Symbol.toStringTag,{value:"Module"}));const Yo={__name:"drop-connect-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c;return{__sfc:!0,props:e,onChange:l=>{l||(P(e.editorModel.props,"bindId",""),P(e.editorModel.props,"bindName",""),P(e.editorModel.props,"searchPageWidth",550),P(e.editorModel.props,"dropCondition",{key:"",value:""}))},SwitchEditor:bt}}};var Xo=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t(l.SwitchEditor,{attrs:{editorModel:e.editorModel,config:e.config},on:{change:l.onChange}})},Zo=[],ea=B(Yo,Xo,Zo,!1,null,"68d20575",null,null);const ta=ea.exports,la=Object.freeze(Object.defineProperty({__proto__:null,default:ta},Symbol.toStringTag,{value:"Module"}));const oa={__name:"field-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=oe("flatData",[]),l=oe("usedFields",[]),o=oe("DFields",[]),i=k([]),a=async()=>{const b=e.editorModel.name;if(e.editorModel.tag!=="table")i.value=r(o).map(_=>({..._,fLabel:`${_.name}\uFF08${_.describe}\uFF09${["dInput","dTextarea","dInputNumber"].includes(b)?`\uFF08${_.length}\uFF09`:""}`}));else{let _=r(t).find(w=>w.id===e.editorModel.tableId);if(!_||!_.props.datset_id){i.value=[];return}const u={id:_.props.datset_id,pageNum:0,pageSize:0};await Ke(u).then(w=>{if(w.status==104){const T=w.data.list||[];i.value=T.map(v=>({...v,fLabel:`${v.name}\uFF08${v.describe}\uFF09${["dInput","dTextarea","dInputNumber"].includes(b)?`\uFF08${v.length}\uFF09`:""}`}))}else H.exports.Message.warning(w.msg)})}},h=Q(()=>{if(!e.editorModel||!e.editorModel.name)return[];if(e.editorModel.tag!=="table")return[];let b=r(t).find(m=>m.id===e.editorModel.tableId);if(b){let m=[];for(let _ of b.children)_.dataset_field&&m.push(_.dataset_field),_.dataset_code&&m.push(_.dataset_code);return m}return[]}),g=Q(()=>!e.editorModel||!e.editorModel.name?[]:e.editorModel.tag!=="table"?[...r(l),...Pe]:[...r(h),...Pe]),N=se(e);return ae(()=>e.editorModel,(b,m)=>{(!m||b.id!==m.id)&&a()},{deep:!0,immediate:!0}),{__sfc:!0,props:e,flatData:t,usedFields:l,DFields:o,dicList:i,onFormatDicList:a,tableUsedFields:h,disableDic:g,input:N,insertValToMaxLength:b=>{if(e.config.prop!=="dataset_field")return;const m=e.editorModel.name;if(!["dInput","dInputNumber","dTextarea"].includes(m))return;let _=r(i).find(u=>u.name===b);!_||e.editorModel.attrs.forEach(u=>{u.key==="maxlength"&&["dInput","dTextarea"].includes(m)&&(u.value=Number(_.length)),u.key==="max"&&m==="dInputNumber"&&(u.value=Number(_.length))})}}}};var aa=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"\u8BF7\u9009\u62E9"},on:{change:l.insertValToMaxLength},model:{value:l.input,callback:function(o){l.input=o},expression:"input"}},e._l(l.dicList,function(o){return t("el-option",{key:o.name,attrs:{label:o.fLabel,value:o.name,disabled:l.disableDic.includes(o.name)}})}),1)],2)},sa=[],ia=B(oa,aa,sa,!1,null,"b37fe73c",null,null);const ra=ia.exports,na=Object.freeze(Object.defineProperty({__proto__:null,default:ra},Symbol.toStringTag,{value:"Module"}));const ca={__name:"fish-bone-dataset-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=k(!1);return{__sfc:!0,props:e,datasetVisible:t,DatasetDialog:Le}}};var da=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{focus:function(o){l.datasetVisible=!0}},model:{value:e.editorModel.props.dicDataSet.datset_name,callback:function(o){e.$set(e.editorModel.props.dicDataSet,"datset_name",o)},expression:"editorModel.props.dicDataSet.datset_name"}}),t(l.DatasetDialog,{attrs:{editorModel:e.editorModel,config:{type:"dicDataSet"}},model:{value:l.datasetVisible,callback:function(o){l.datasetVisible=o},expression:"datasetVisible"}})],2)},pa=[],ua=B(ca,da,pa,!1,null,"a19096af",null,null);const fa=ua.exports,ma=Object.freeze(Object.defineProperty({__proto__:null,default:fa},Symbol.toStringTag,{value:"Module"}));const _a={__name:"fish-business-dataset-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=k(!1);return{__sfc:!0,props:e,datasetVisible:t,DatasetDialog:Le}}};var ba=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{focus:function(o){l.datasetVisible=!0}},model:{value:e.editorModel.props.busDataSet.datset_name,callback:function(o){e.$set(e.editorModel.props.busDataSet,"datset_name",o)},expression:"editorModel.props.busDataSet.datset_name"}}),t(l.DatasetDialog,{attrs:{editorModel:e.editorModel,config:{type:"busDataSet"}},model:{value:l.datasetVisible,callback:function(o){l.datasetVisible=o},expression:"datasetVisible"}})],2)},va=[],ga=B(_a,ba,va,!1,null,"dcd3ad95",null,null);const ha=ga.exports,ya=Object.freeze(Object.defineProperty({__proto__:null,default:ha},Symbol.toStringTag,{value:"Module"}));const Ca={__name:"group-disable-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=M=>{M||(P(e.editorModel.props,"gpDisCdtGp",[{key:"",label:"",op:"",logicOp:""}]),P(e.editorModel.props,"groupDisStr",""))},l=k({}),o=k(!1),i=oe("flatData",[]);return{__sfc:!0,props:e,onTabDisable:t,tempProps:l,groupDisVisible:o,flatData:i,onInitConfig:()=>{l.value=f.copy(e.editorModel.props),o.value=!0},onControlConfigNum:M=>{M===-1?l.value.gpDisCdtGp.push({key:"",label:"",op:"",logicOp:""}):l.value.gpDisCdtGp.length>1?l.value.gpDisCdtGp.splice(M,1):P(l.value,"gpDisCdtGp",[{key:"",label:"",op:"",logicOp:""}])},onConfigCancel:()=>{l.value={},o.value=!1},onConfigSave:()=>{P(e.editorModel,"props",f.copy(r(l))),l.value={},o.value=!1},compareDic:vt,logicDic:gt}}};var xa=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{staticClass:"group-disable-editor"},[t("el-form-item",{key:"group-disable-switch",staticClass:"group-disable-switch"},[e.config.rLabel?t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.rLabel))])]):e._e(),t("div",{staticClass:"switch-con"},[t("span",[e._v(e._s(e.config.label))]),t("el-switch",{attrs:{"active-color":"#007aff","inactive-color":"#939BA6"},on:{change:l.onTabDisable},model:{value:e.editorModel.props.groupDisabled,callback:function(o){e.$set(e.editorModel.props,"groupDisabled",o)},expression:"editorModel.props.groupDisabled"}})],1)],2),e.editorModel.props&&e.editorModel.props.groupDisabled?t("el-form-item",{key:"group-disable-config",staticClass:"group-disable-config"},[t("template",{slot:"label"},[t("span",[e._v("\u7981\u7528\u6761\u4EF6\u914D\u7F6E")]),t("span",{staticClass:"config-set",on:{click:l.onInitConfig}},[e._v("\u4FEE\u6539\u914D\u7F6E")])]),t("el-input",{attrs:{disabled:"",type:"textarea",resize:"none",autosize:{minRows:3},placeholder:"\u6682\u65E0\u53EF\u5C55\u793A\u7684\u914D\u7F6E"},model:{value:e.editorModel.props.groupDisStr,callback:function(o){e.$set(e.editorModel.props,"groupDisStr",o)},expression:"editorModel.props.groupDisStr"}})],2):e._e(),l.groupDisVisible?t("el-dialog",{staticClass:"group-dis-dialog",attrs:{title:"\u5206\u7EC4\u7981\u7528\u6761\u4EF6","close-on-click-modal":!1,visible:l.groupDisVisible,"before-close":l.onConfigCancel},on:{"update:visible":function(o){l.groupDisVisible=o}}},[t("div",{staticClass:"basic-container"},[t("div",{staticClass:"basic-title"},[t("span",[e._v("\u7EC4\u4EF6/\u53C2\u6570\u540D\u79F0")]),t("span",[e._v("\u5173\u7CFB\u7B26")]),t("span",[e._v("\u503C")]),t("span",[e._v("\u903B\u8F91\u8FD0\u7B97\u7B26")])]),e._l(l.tempProps.gpDisCdtGp,function(o,i){return t("div",{key:o.id,staticClass:"basic-item"},[t("el-select",{attrs:{clearable:"","allow-create":"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.key,callback:function(a){e.$set(o,"key",a)},expression:"item.key"}},e._l(l.flatData,function(a){return t("el-option",{key:a.id,attrs:{disabled:a.id===e.editorModel.id,label:a.label,value:a.id}})}),1),t("el-select",{attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.op,callback:function(a){e.$set(o,"op",a)},expression:"item.op"}},e._l(l.compareDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("el-input",{attrs:{placeholder:"\u6761\u4EF6\u503C",type:"text"},model:{value:o.label,callback:function(a){e.$set(o,"label",typeof a=="string"?a.trim():a)},expression:"item.label"}}),t("el-select",{attrs:{disabled:i===l.tempProps.gpDisCdtGp.length-1,placeholder:"\u903B\u8F91\u8FD0\u7B97\u7B26"},model:{value:o.logicOp,callback:function(a){e.$set(o,"logicOp",a)},expression:"item.logicOp"}},e._l(l.logicDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("i",{directives:[{name:"show",rawName:"v-show",value:i===l.tempProps.gpDisCdtGp.length-1,expression:"index === tempProps.gpDisCdtGp.length - 1"}],staticClass:"el-icon-my-relAdd",staticStyle:{"margin-right":"8px"},on:{click:function(a){return l.onControlConfigNum(-1)}}}),t("i",{staticClass:"el-icon-my-relDel",on:{click:function(a){return l.onControlConfigNum(i)}}})],1)})],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onConfigSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onConfigCancel}},[e._v("\u53D6\u6D88")])],1)]):e._e()],1)},Sa=[],ka=B(Ca,xa,Sa,!1,null,"64052a63",null,null);const Da=ka.exports,wa=Object.freeze(Object.defineProperty({__proto__:null,default:Da},Symbol.toStringTag,{value:"Module"}));const Ma={__name:"option-connect-form-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=k(!1),l=k([]),o=Q(()=>e.editorModel.attachedParams&&e.editorModel.attachedParams.length>0?e.editorModel.attachedParams.filter(I=>!f.isEmpty(I.value)&&I.formId).length:0),i=$=>{$===-1?l.value.push({id:pt(),value:"",formId:"",formName:"",params_list:[{zkid:"",fkid:""}],relation_fields_list:[]}):l.value.splice($,1)},a=oe("flatData",[]),h=()=>{g.value=r(a).map($=>({id:$.id,dataset_field:$.dataset_field||"\u672A\u7ED1\u5B9A\u5B57\u6BB5",defVal:$.defVal,label:$.label}))},g=k([]),N=$=>{let I=[];const{isBasic:q,children:K}=$;if(!q){const{name:te,slots:ee}=$;let Y=f.copy($);if(["dInput","dInputNumber","dTextarea","dTime","dRadio","dCheckbox","dSelect","dCascader","dRegion","dActiveTable","dComputeTable"].includes(te)&&(I=[...I,Y]),ee&&ee.named&&ee.named.length>0)for(let ie in ee.named){let R=f.copy(ee.named[ie]);!R||!R.comDetail||f.isEmpty(R.id)||(I=[...I,R])}}if(K)for(let te in K)I=[...I,...N(K[te])];return I},M=$=>ll({id:$}).then(I=>{const{status:q,data:K}=I;if(q==104){const te=JSON.parse(K.form_text);return N(te).map(Y=>({id:Y.id,dataset_field:Y.dataset_field||"\u672A\u7ED1\u5B9A\u5B57\u6BB5",defVal:Y.defVal,label:Y.label}))}else H.exports.Message.warning(K.msg)}),b=async()=>{h(),l.value=f.copy(e.editorModel.attachedParams)||[],r(l)&&r(l).length===0?i(-1):r(l).forEach(async $=>{$.formId&&($.relation_fields_list=await M($.formId))}),t.value=!0},m=k([]),_={value:[{required:!0,message:"\u8BF7\u8F93\u5165\u503C",trigger:["blur","change"]}],formId:[{required:!0,message:"\u8BF7\u9009\u62E9\u8868\u5355",trigger:["blur","change"]}]},u=k({cntVisible:!1,formList:[],chooseDataset:{},chooseForm:null,initForm:null,paramsIdx:0}),w=($,I)=>{u.value.paramsIdx=I,u.value.cntVisible=!0,$.formId&&(u.value.initForm={id:$.formId,name:$.formName},u.value.chooseForm={id:$.formId,name:$.formName})},T=($,I)=>{I===-1?l.value[$].params_list.push({zkid:"",fkid:""}):l.value[$].params_list.splice(I,1)},v=()=>{H.exports.MessageBox.confirm("\u662F\u5426\u6E05\u9664\u5173\u8054\u5E76\u4FDD\u5B58?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{P(e.editorModel,"attachedParams",[{id:pt(),value:"",formId:"",formName:"",params_list:[{zkid:"",fkid:""}],relation_fields_list:[]}]),l.value=[],t.value=!1})},E=()=>{let $=!0;for(let I of r(m))if(I.validate(q=>$=q),!$)return;P(e.editorModel,"attachedParams",f.copy(r(l))),l.value=[],t.value=!1},A=()=>{l.value=[],t.value=!1},L=oe("curDataSet"),z=($,I)=>{if(!r(L)){u.value.formList=[];return}return ol({pageNum:0,pageSize:0,filter:{sortId:$,dat_range:I}}).then(K=>{const{status:te,data:{list:ee},msg:Y}=K;if(te==104){const ie=ee.filter(R=>R.datset_id&&R.status==="1"&&R.id!==r(L).id);u.value.formList=ie}else H.exports.Message.warning(Y)})},F=async()=>{if(!r(u).chooseForm){H.exports.Message.warning("\u8BF7\u9009\u62E9\u5B50\u8868\u5355");return}const{paramsIdx:$,chooseForm:{id:I,name:q}}=r(u);P(l.value,$,{...r(l)[$],formId:I,formName:q,relation_fields_list:await M(I)}),V()},V=()=>{u.value={cntVisible:!1,formList:[],chooseDataset:{},chooseForm:null,paramsIdx:0}};return{__sfc:!0,props:e,showParamsForm:t,attachedParams:l,cntNum:o,onControlItemNum:i,flatData:a,getParams:h,paramsList:g,onFormatFormInfo:N,getAttachParams:M,onConfigInit:b,relationRef:m,rules:_,cntChild:u,onInitCntFormConfig:w,onControlParamsListNum:T,clearRelation:v,onSave:E,onCancel:A,curDataSet:L,getFormList:z,onSaveFormChoose:F,onCntFormDialogClose:V,category:Re}}};var Ta=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{key:"option-connect-form-editor"},[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:l.cntNum!==0,expression:"cntNum !== 0"}],staticClass:"connect-form-num"},[t("i",{staticClass:"el-icon-my-pmsCnct"}),e._v(" \u5DF2\u5173\u8054"+e._s(l.cntNum)+"\u4E2A\u5B50\u8868\u5355 "),t("span",{staticClass:"edit-btn",on:{click:l.onConfigInit}},[e._v("\u4FEE\u6539")])]),l.cntNum===0?t("el-button",{staticClass:"config-btn",attrs:{plain:"",type:"primary"},on:{click:l.onConfigInit}},[e._v("\u5173\u8054\u53C2\u6570")]):e._e(),l.showParamsForm?t("el-dialog",{staticClass:"pms-set-dialog",attrs:{title:"\u8BBE\u7F6E\u5173\u8054\u53C2\u6570","close-on-click-modal":!1,visible:l.showParamsForm,"before-close":l.onCancel},on:{"update:visible":function(o){l.showParamsForm=o}}},[t("div",{staticClass:"container_attach"},[t("div",{staticClass:"attach-header"},[t("span",[e._v("\u5F53\u503C\u4E3A")]),t("span",[e._v("\u5173\u8054\u5B50\u8868\u5355")]),t("div",{staticClass:"add-btn",staticStyle:{"font-size":"14px",width:"80px"},on:{click:function(o){return l.onControlItemNum(-1)}}},[t("div",{staticClass:"plus"}),e._v("\u65B0\u589E\u5173\u8054 ")])]),t("div",{staticClass:"attach-content hover-scroll"},e._l(l.attachedParams,function(o,i){return t("div",{key:o.id,staticClass:"div_params_attach"},[o?t("el-form",{ref:"relationRef",refInFor:!0,staticClass:"attach_form",attrs:{model:o}},[t("div",{staticClass:"attach-choose"},[t("el-form-item",{attrs:{prop:"value",rules:l.rules.value}},[t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165",clearable:""},model:{value:o.value,callback:function(a){e.$set(o,"value",typeof a=="string"?a.trim():a)},expression:"aItem.value"}})],1),t("i",{staticClass:"el-icon-my-pmsCnct",staticStyle:{margin:"0 8px"}}),t("el-form-item",{attrs:{prop:"formId",rules:l.rules.formId}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{focus:function(a){return l.onInitCntFormConfig(o,i)}},model:{value:o.formName,callback:function(a){e.$set(o,"formName",a)},expression:"aItem.formName"}})],1),l.attachedParams.length>1?t("i",{staticClass:"el-icon-my-pmsDelFrm",staticStyle:{width:"24px",height:"24px","margin-left":"8px",cursor:"pointer"},on:{click:function(a){return l.onControlItemNum(i)}}}):e._e()],1),t("div",{staticClass:"attach-pms"},e._l(o.params_list,function(a,h){return t("div",{key:a.id,staticClass:"attach-pms-item"},[t("el-form-item",{attrs:{prop:`params_list.${h}.zkid`,rules:l.rules.zkid}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u9700\u8981\u4F20\u9012\u7684\u53C2\u6570",filterable:"",clearable:"","collapse-tags":""},on:{focus:l.getParams},model:{value:a.zkid,callback:function(g){e.$set(a,"zkid",g)},expression:"par.zkid"}},e._l(l.paramsList,function(g){return t("el-option",{key:g.id,attrs:{label:`${g.label}\uFF08${g.dataset_field}\uFF09`,value:g.id}})}),1)],1),t("i",{staticClass:"el-icon-my-pmsEmit",staticStyle:{margin:"0 8px"}}),t("el-form-item",{attrs:{prop:`params_list.${h}.fkid`,rules:l.rules.fkid}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u5BF9\u5E94\u5B50\u8868\u5355\u53C2\u6570",filterable:"",clearable:"","collapse-tags":""},model:{value:a.fkid,callback:function(g){e.$set(a,"fkid",g)},expression:"par.fkid"}},e._l(o.relation_fields_list,function(g){return t("el-option",{key:g.id,attrs:{label:`${g.label}\uFF08${g.dataset_field}\uFF09`,value:g.id}})}),1)],1),t("div",{staticClass:"attach-pms-item-btn"},[t("i",{directives:[{name:"show",rawName:"v-show",value:h===o.params_list.length-1,expression:"parIdx === aItem.params_list.length - 1"}],staticClass:"attach-pms-icon el-icon-my-relAdd",on:{click:function(g){return l.onControlParamsListNum(i,-1)}}}),t("i",{directives:[{name:"show",rawName:"v-show",value:o.params_list.length>1,expression:"aItem.params_list.length > 1"}],staticClass:"attach-pms-icon el-icon-my-relDel",on:{click:function(g){return l.onControlParamsListNum(i,h)}}})])],1)}),0)]):e._e()],1)}),0)]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{plain:"",type:"primary"},on:{click:l.clearRelation}},[e._v("\u6E05\u9664\u5173\u8054")]),t("el-button",{attrs:{type:"primary"},on:{click:l.onSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onCancel}},[e._v("\u53D6\u6D88")])],1)]):e._e(),l.cntChild.cntVisible?t("el-dialog",{staticClass:"child-form-dialog",attrs:{title:"\u9009\u62E9\u5173\u8054\u5B50\u8868\u5355",visible:l.cntChild.cntVisible,"close-on-click-modal":!1,"before-close":l.onCntFormDialogClose},on:{"update:visible":function(o){return e.$set(l.cntChild,"cntVisible",o)}}},[l.cntChild.initForm?t("div",{staticStyle:{display:"flex","align-items":"center","margin-bottom":"8px"}},[t("div",[e._v("\u5F53\u524D\u5173\u8054\u5B50\u8868\u5355\uFF1A"+e._s(l.cntChild.initForm.name))])]):e._e(),l.cntChild.cntVisible?t("el-container",[t("el-aside",{attrs:{width:"240px"}},[t(l.category,{attrs:{type:"2",inner:"choose",initData:l.cntChild.chooseDataset},on:{"node-click":(o,i)=>{l.cntChild.chooseDataset={...o,dat_range:i},l.getFormList(o.id,i)}}})],1),t("el-main",[l.cntChild.formList.length>0?t("el-row",e._l(l.cntChild.formList,function(o){return t("el-col",{key:o.id,class:{"box-border":l.cntChild.chooseForm&&l.cntChild.chooseForm.id===o.id},attrs:{span:12}},[t("div",{staticClass:"box-btn",on:{click:function(i){l.cntChild.chooseForm=o}}},[t("i",{staticClass:"el-icon-my-dataset2"}),t("div",{staticClass:"box-fit"},[e._v(" "+e._s(o.datset_name)+" "),t("div",{staticClass:"form-name"},[e._v(" "+e._s(o.name)+" ")])])])])}),1):t("div",{staticClass:"fe-full"},[t("el-empty",{attrs:{image:$e,description:"\u6682\u65E0\u6570\u636E\u54E6\uFF5E","image-size":200}})],1)],1)],1):e._e(),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onSaveFormChoose}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onCntFormDialogClose}},[e._v("\u53D6\u6D88")])],1)],1):e._e()],2)},Na=[],Aa=B(Ma,Ta,Na,!1,null,"9e76b5da",null,null);const Oa=Aa.exports,Pa=Object.freeze(Object.defineProperty({__proto__:null,default:Oa},Symbol.toStringTag,{value:"Module"}));const $a={__name:"option-disable-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=[{label:"\u7B49\u4E8E",value:"equal"},{label:"\u4E0D\u7B49\u4E8E",value:"notEqual"},{label:"\u5927\u4E8E",value:"greater"},{label:"\u5C0F\u4E8E",value:"less"},{label:"\u5927\u4E8E\u7B49\u4E8E",value:"greaterEqual"},{label:"\u5C0F\u4E8E\u7B49\u4E8E",value:"lessEqual"}],l=["dInput","dTextarea","dRadio","dCheckbox","dSelect","dInputNumber","dTime"],o=k(!1),i=k({}),a=oe("flatData",[]),h=Q(()=>{let m=r(a).filter(_=>_.id!==e.editorModel.id&&l.includes(_.name));return m=m.map(_=>({..._,fVal:`${_.id}|${_.name}`})),m});return{__sfc:!0,props:e,compareDic:t,usuallyCom:l,opDisabledVisible:o,tempProps:i,flatData:a,cntDic:h,onConfigInit:()=>{i.value=f.copy(e.editorModel.props),o.value=!0},handleTypeOptionsDisabled:(m,_)=>{let u=_.split("|");return["dInputNumber","dTime"].includes(u[1])?!1:!["\u7B49\u4E8E","\u4E0D\u7B49\u4E8E"].includes(m)},onSave:()=>{P(e.editorModel,"props",f.copy(r(i))),i.value={},o.value=!1},onCancel:()=>{i.value={},o.value=!1}}}};var Ra=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{key:"option-disable-editor"},[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-button",{staticClass:"config-btn",attrs:{plain:"",type:"primary"},on:{click:l.onConfigInit}},[e._v("\u9009\u9879\u7981\u7528\u914D\u7F6E")]),l.opDisabledVisible?t("el-dialog",{staticClass:"op-dis-dialog",attrs:{title:"\u9009\u9879\u7981\u7528\u914D\u7F6E","close-on-click-modal":!1,visible:l.opDisabledVisible,"before-close":l.onCancel},on:{"update:visible":function(o){l.opDisabledVisible=o}}},[t("div",{staticClass:"basic-container"},[t("div",{staticClass:"basic-title"},[t("span",[e._v("\u5173\u8054\u5BF9\u8C61")]),t("span",[e._v("\u6BD4\u8F83\u7C7B\u578B")]),t("span",[e._v("\u5173\u8054\u5BF9\u8C61\u503C")]),t("span",[e._v("\u7981\u7528\u9009\u9879")])]),e._l(l.tempProps.opDisabledSet,function(o,i){return t("div",{key:i,staticClass:"basic-item"},[t("el-select",{staticStyle:{flex:"1"},attrs:{clearable:"",filterable:"",placeholder:"\u5173\u8054\u5BF9\u8C61"},on:{change:function(a){o.type=""}},model:{value:o.target,callback:function(a){e.$set(o,"target",a)},expression:"item.target"}},e._l(l.cntDic,function(a){return t("el-option",{key:a.id,attrs:{label:a.label,value:a.fVal}})}),1),t("el-select",{staticStyle:{flex:"1"},attrs:{clearable:"",filterable:"",placeholder:"\u6BD4\u8F83\u7C7B\u578B"},model:{value:o.type,callback:function(a){e.$set(o,"type",a)},expression:"item.type"}},e._l(l.compareDic,function(a){return t("el-option",{key:a.value,attrs:{disabled:l.handleTypeOptionsDisabled(a.label,o.target),label:a.label,value:a.value}})}),1),t("el-input",{staticStyle:{flex:"1"},attrs:{type:"text",placeholder:"\u5173\u8054\u5BF9\u8C61\u503C"},model:{value:o.value,callback:function(a){e.$set(o,"value",typeof a=="string"?a.trim():a)},expression:"item.value"}}),t("el-select",{staticClass:"op-item--last",staticStyle:{flex:"1"},attrs:{multiple:"","collapse-tags":"",clearable:"",filterable:"",placeholder:"\u7981\u7528\u9009\u9879"},model:{value:o.options,callback:function(a){e.$set(o,"options",a)},expression:"item.options"}},e._l(l.tempProps.dic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("i",{directives:[{name:"show",rawName:"v-show",value:i===l.tempProps.opDisabledSet.length-1,expression:"index === tempProps.opDisabledSet.length - 1"}],staticClass:"el-icon-my-relAdd",staticStyle:{"margin-right":"8px"},on:{click:()=>{l.tempProps.opDisabledSet.push({target:"",type:"",value:"",options:[]})}}}),t("i",{directives:[{name:"show",rawName:"v-show",value:l.tempProps.opDisabledSet.length>1,expression:"tempProps.opDisabledSet.length > 1"}],staticClass:"el-icon-my-relDel",on:{click:()=>{l.tempProps.opDisabledSet.splice(i,1)}}})],1)})],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onCancel}},[e._v("\u53D6\u6D88")])],1)]):e._e()],2)},La=[],Ia=B($a,Ra,La,!1,null,"24f3bff6",null,null);const Ea=Ia.exports,Fa=Object.freeze(Object.defineProperty({__proto__:null,default:Ea},Symbol.toStringTag,{value:"Module"}));const Va={__name:"option-layout-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){return{__sfc:!0,props:c}}};var Ba=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("el-form-item",{key:"options-layout-editor"},[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9"},model:{value:e.editorModel.props.chooseAlign,callback:function(l){e.$set(e.editorModel.props,"chooseAlign",l)},expression:"editorModel.props.chooseAlign"}},[t("el-option",{attrs:{label:"\u4E00\u884C\u591A\u4E2A",value:"many"}}),t("el-option",{attrs:{label:"\u4E00\u884C\u4E00\u4E2A",value:"one"}})],1),t("el-input-number",{directives:[{name:"show",rawName:"v-show",value:e.editorModel.props.chooseAlign==="many",expression:"editorModel.props.chooseAlign === 'many'"}],staticClass:"choose-row-num",attrs:{"controls-position":"right",size:"medium",min:0,max:1/0},model:{value:e.editorModel.props.chooseRowNum,callback:function(l){e.$set(e.editorModel.props,"chooseRowNum",l)},expression:"editorModel.props.chooseRowNum"}})],2)},za=[],ja=B(Va,Ba,za,!1,null,"1f95d7bc",null,null);const Ha=ja.exports,qa=Object.freeze(Object.defineProperty({__proto__:null,default:Ha},Symbol.toStringTag,{value:"Module"}));const Wa={__name:"option-note-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=k(!1),l=k({});return{__sfc:!0,props:e,opNoteVisible:t,tempProps:l,onConfigInit:()=>{l.value=f.copy(e.editorModel.props),t.value=!0},onSave:()=>{P(e.editorModel,"props",f.copy(r(l))),l.value={},t.value=!1},onCancel:()=>{l.value={},t.value=!1}}}};var Ja=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{key:"option-note-editor"},[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))])]),t("el-button",{staticClass:"config-btn",attrs:{plain:"",type:"primary"},on:{click:l.onConfigInit}},[e._v("\u4FEE\u6539\u914D\u7F6E")]),l.opNoteVisible?t("el-dialog",{staticClass:"op-note-dialog",attrs:{title:"\u9009\u9879\u63D0\u793A\u914D\u7F6E","close-on-click-modal":!1,visible:l.opNoteVisible,"before-close":l.onCancel},on:{"update:visible":function(o){l.opNoteVisible=o}}},[t("div",{staticClass:"basic-container"},[t("div",{staticClass:"basic-title"},[t("span",[e._v("\u9009\u9879\u503C")]),t("span",[e._v("\u63D0\u793A\u5185\u5BB9")])]),e._l(l.tempProps.opNoteSet,function(o,i){return t("div",{key:i,staticClass:"basic-item"},[t("el-select",{staticStyle:{flex:"1"},attrs:{clearable:"",filterable:"",placeholder:"\u9009\u62E9\u9009\u9879\u503C"},model:{value:o.target,callback:function(a){e.$set(o,"target",a)},expression:"item.target"}},e._l(l.tempProps.dic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("el-input",{staticStyle:{flex:"1"},attrs:{type:"text",placeholder:"\u63D0\u793A\u5185\u5BB9"},model:{value:o.value,callback:function(a){e.$set(o,"value",typeof a=="string"?a.trim():a)},expression:"item.value"}}),t("i",{directives:[{name:"show",rawName:"v-show",value:i===l.tempProps.opNoteSet.length-1,expression:"index === tempProps.opNoteSet.length - 1"}],staticClass:"el-icon-my-relAdd",staticStyle:{"margin-right":"8px"},on:{click:()=>l.tempProps.opNoteSet.push({target:"",value:""})}}),t("i",{directives:[{name:"show",rawName:"v-show",value:l.tempProps.opNoteSet.length>1,expression:"tempProps.opNoteSet.length > 1"}],staticClass:"el-icon-my-relDel",on:{click:()=>l.tempProps.opNoteSet.splice(i,1)}})],1)})],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onCancel}},[e._v("\u53D6\u6D88")])],1)]):e._e()],2)},Ga=[],Ua=B(Wa,Ja,Ga,!1,null,"5ddf1b90",null,null);const Qa=Ua.exports,Ka=Object.freeze(Object.defineProperty({__proto__:null,default:Qa},Symbol.toStringTag,{value:"Module"}));const Ya={__name:"option-origin-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,{usedDatasetList:t}=ge({usedDatasetList:A=>A.form.choosedDataset}),{setUsedDatasetList:l}=he({setUsedDatasetList:"form/SET_CHOOSE_DATASET"}),o=k({}),i=A=>{const{slotId:L,value:z}=A;let F=e.editorModel.defVal?f.copy(e.editorModel.defVal):"";if(F){let I=e.editorModel.props.dic.map(q=>q.value);Array.isArray(F)?F=F.filter(q=>I.includes(q)):!I.includes(F)&&(F=""),P(e.editorModel,"defVal",F)}let V=f.copy(e.editorModel.slots);if(!(!V.named||V.named.length==0)){for(let $ in V.named){let I=V.named[$];if(I.label===L){if(!I.comDetail)break;V.named[$].comDetail.props.cntCompDisArr[0].val=z,V.named[$].comDetail.props.cntCompReqArr[0].val=z}}P(e.editorModel,"slots",V)}},a=(A,L)=>{let z=f.copy(e.editorModel.slots.named);A?z=z.filter(F=>F.label!==A):z=z.filter((F,V)=>L!==V),P(e.editorModel.slots,"named",z)},h=A=>{if(A===-1){let L=e.editorModel.props.dic.length;e.editorModel.props.dic.push({label:`\u9009\u9879${L+1}`,value:`${L+1}`,hadSlot:!1,slotId:f.nanoid()})}else{let L=e.editorModel.props.dic.splice(A,1);console.log(L,"option"),L[0].hadSlot&&a(L.slotId,A)}},g=k(!1),N=Q(()=>e.editorModel.name!=="dCascader"||e.editorModel.props.dicOrigin!==1?!1:(e.editorModel.props.dic||[]).length>0),M=Q(()=>{if(e.editorModel.name!=="dCascader"||!r(g))return!1}),b=()=>{o.value=f.copy(e.editorModel.props),g.value=!0},m=k(null),_=k(null),u=(A,L)=>{if(f.isEmpty(L)){let z=function(F,V){for(let $ in F){let I=F[$];if(I.id===V){F.splice($,1);break}I.children&&I.children.length>0&&z(I.children,V)}};z(r(o).dic,A)}else{let F=function(V,$){for(let I in V){let q=V[I];if(q.id===$){V[I].children?V[I].children.push({pid:$,id:f.nanoid(),label:f.nanoid(3),value:f.nanoid(3),isEdit:!1,level:L+1,children:null}):V[I].children=[{pid:$,id:f.nanoid(),label:f.nanoid(3),value:f.nanoid(3),isEdit:!1,level:L+1,children:null}];break}q.children&&q.children.length>0&&F(q.children,$)}},z=f.copy(r(o).dic);A===0?z.push({pid:A,id:f.nanoid(),label:f.nanoid(3),value:f.nanoid(3),isEdit:!1,level:0,children:null}):F(z,A),P(o.value,"dic",z)}},w=(A,L)=>{A==="a"?(_.value=f.copy(L),L.isEdit=!0):A==="b"?u(L.pid,L.level-1):A==="c"?u(L.id,L.level):A==="d"&&u(L.id)},T=()=>{o.value={},g.value=!1},v=()=>{P(e.editorModel,"props",f.copy(r(o))),o.value={},g.value=!1},E=k(!1);return{__sfc:!0,props:e,usedDatasetList:t,setUsedDatasetList:l,tempProps:o,defValAndSlotCntUpdateHandler:i,deleteSlotOption:a,onControlDicOpNum:h,cascaderVisible:g,showCascaderDicEdit:N,showDelBtn:M,onInitCascaderDic:b,activeTreeNodeId:m,treeNodeCache:_,onControlTreeNodeNum:u,handleTreeNodeCommand:w,onCVClose:T,onCVSave:v,datasetVisible:E,DatasetDialog:Le}}};var Xa=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{attrs:{prop:"option-origin-editor"}},[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))]),l.showCascaderDicEdit?t("span",{staticStyle:{color:"#007aff",cursor:"pointer",float:"right"},on:{click:l.onInitCascaderDic}},[e._v("\u4FEE\u6539\u6570\u636E")]):e._e()]),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},model:{value:e.editorModel.props.dicOrigin,callback:function(o){e.$set(e.editorModel.props,"dicOrigin",o)},expression:"editorModel.props.dicOrigin"}},[t("el-option",{attrs:{label:"\u9759\u6001\u6570\u636E",value:1}}),t("el-option",{attrs:{label:"\u52A8\u6001\u6570\u636E",value:2,disabled:e.editorModel.name!=="dSelect"}})],1),e.editorModel.props.dicOrigin===1?t("div",{staticClass:"static-origin",class:{"static-origin__dCascader":e.editorModel.name==="dCascader","dCascader-is-empty":e.editorModel.name==="dCascader"&&(!e.editorModel.props.dic||e.editorModel.props.dic.length===0)}},[e.editorModel.name==="dCascader"?[!e.editorModel.props.dic||e.editorModel.props.dic.length===0?t("el-form-item",{key:"dCascader-dic",staticStyle:{"margin-top":"12px"}},[t("el-button",{staticClass:"config-btn",attrs:{type:"primary",plain:""},on:{click:()=>{l.tempProps=JSON.parse(JSON.stringify(e.editorModel.props)),l.cascaderVisible=!0}}},[e._v("\u6570\u636E\u914D\u7F6E")])],1):t("div",{staticClass:"dic-tree"},[t("el-tree",{attrs:{"default-expand-all":"",data:e.editorModel.props.dic,indent:8,"node-key":"id",props:{children:"children",label:"label"}},scopedSlots:e._u([{key:"default",fn:function({data:o}){return t("span",{staticClass:"com-tree-item"},[e._v(" "+e._s(o.label)+" ")])}}],null,!1,3433230736)})],1)]:[t("div",{staticClass:"dic-con"},[t("div",{staticClass:"dic-title"},[t("span",{staticStyle:{"margin-right":"8px"}},[e._v("\u6807\u7B7E")]),t("span",[e._v("\u503C")])]),t("draggable",e._b({staticClass:"op-group",model:{value:e.editorModel.props.dic,callback:function(o){e.$set(e.editorModel.props,"dic",o)},expression:"editorModel.props.dic"}},"draggable",{animation:300},!1),e._l(e.editorModel.props.dic,function(o,i){return t("div",{key:i,staticClass:"option-item"},[t("el-input",{staticStyle:{width:"100px","margin-right":"8px"},attrs:{type:"text",placeholder:"\u6807\u9898"},model:{value:o.label,callback:function(a){e.$set(o,"label",typeof a=="string"?a.trim():a)},expression:"item.label"}}),t("el-input",{staticStyle:{width:"100px","margin-right":"8px"},attrs:{type:"text",placeholder:"\u503C"},on:{input:function(a){return l.defValAndSlotCntUpdateHandler(o)}},model:{value:o.value,callback:function(a){e.$set(o,"value",typeof a=="string"?a.trim():a)},expression:"item.value"}}),t("i",{staticClass:"el-icon-delete",on:{click:function(a){return l.onControlDicOpNum(i)}}})],1)}),0)],1),t("div",{staticClass:"add-btn",on:{click:function(o){return l.onControlDicOpNum(-1)}}},[t("div",{staticClass:"plus"}),e._v("\u6DFB\u52A0\u6807\u7B7E ")])]],2):e.editorModel.props.dicOrigin===2?t("el-form-item",{key:"active-origin",staticClass:"active-origin"},[t("template",{slot:"label"},[t("span",[e._v("\u52A8\u6001\u5B57\u5178\u6570\u636E\u6E90")])]),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{focus:function(o){l.datasetVisible=!0}},model:{value:e.editorModel.props.datset_name,callback:function(o){e.$set(e.editorModel.props,"datset_name",o)},expression:"editorModel.props.datset_name"}})],2):e._e(),l.cascaderVisible?t("el-dialog",{staticClass:"cascader-dic-dialog",attrs:{title:"\u7EA7\u8054\u6570\u636E\u914D\u7F6E","close-on-click-modal":!1,visible:l.cascaderVisible,"before-close":l.onCVClose},on:{"update:visible":function(o){l.cascaderVisible=o}}},[l.tempProps?t("div",{staticClass:"dic-container"},[l.tempProps.dic.length!==0?t("el-tree",{attrs:{"default-expand-all":"","current-node-key":l.treeNodeCache?l.treeNodeCache.id:"",data:l.tempProps.dic,"expand-on-click-node":!1,indent:8,"node-key":"id",props:{children:"children",label:"label"}},on:{"node-click":o=>{l.treeNodeCache||(l.activeTreeNodeId=o.id)}},scopedSlots:e._u([{key:"default",fn:function({data:o}){return t("span",{staticClass:"com-tree-item"},[o.isEdit?t("div",{staticClass:"com-tree-edit-item",on:{click:function(i){i.stopPropagation()}}},[t("el-input",{staticStyle:{"margin-right":"8px"},attrs:{type:"text",placeholder:"\u6807\u9898"},model:{value:o.label,callback:function(i){e.$set(o,"label",typeof i=="string"?i.trim():i)},expression:"data.label"}}),t("el-input",{attrs:{type:"text",placeholder:"\u503C"},model:{value:o.value,callback:function(i){e.$set(o,"value",typeof i=="string"?i.trim():i)},expression:"data.value"}}),t("el-button",{staticStyle:{"margin-left":"8px",display:"inline-flex"},attrs:{type:"text"}},[t("span",{staticStyle:{color:"#007aff"},on:{click:()=>{l.treeNodeCache=null,o.isEdit=!1}}},[e._v("\u786E\u5B9A")])]),t("el-button",{staticStyle:{"margin-left":"8px",display:"inline-flex"},attrs:{type:"text"}},[t("span",{staticStyle:{color:"#595959"},on:{click:()=>{o.label=l.treeNodeCache.label,o.value=l.treeNodeCache.value,l.treeNodeCache=null,o.isEdit=!1}}},[e._v("\u53D6\u6D88")])])],1):t("span",[e._v(e._s(o.label))]),t("span",{directives:[{name:"show",rawName:"v-show",value:l.activeTreeNodeId===o.id&&!o.isEdit,expression:"activeTreeNodeId === data.id && !data.isEdit"}],on:{click:function(i){i.stopPropagation()}}},[t("el-dropdown",{attrs:{trigger:"click"},on:{command:i=>{l.handleTreeNodeCommand(i,o)}}},[t("span",{staticClass:"el-dropdown-link"},[t("i",{staticClass:"el-icon-more",staticStyle:{color:"#007aff","font-size":"18px"}})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"a"}},[e._v("\u7F16\u8F91")]),t("el-dropdown-item",{attrs:{command:"b"}},[e._v("\u65B0\u589E\u540C\u7EA7")]),o.level<=3?t("el-dropdown-item",{attrs:{command:"c"}},[e._v("\u65B0\u589E\u4E0B\u7EA7")]):e._e(),t("el-dropdown-item",{attrs:{command:"d"}},[e._v("\u5220\u9664")])],1)],1)],1)])}}],null,!1,1914527021)}):t("div",{staticClass:"dic-empty"},[t("el-button",{staticClass:"empty-btn",attrs:{plain:"",type:"primary"},on:{click:function(o){return l.onControlTreeNodeNum(0,0)}}},[e._v("\u65B0\u589E")]),t("div",[e._v("\u6682\u65E0\u6570\u636E")])],1)],1):e._e(),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onCVSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:l.onCVClose}},[e._v("\u53D6\u6D88")])],1)]):e._e(),t(l.DatasetDialog,{attrs:{editorModel:e.editorModel,config:{type:"selectActive"}},model:{value:l.datasetVisible,callback:function(o){l.datasetVisible=o},expression:"datasetVisible"}})],2)},Za=[],es=B(Ya,Xa,Za,!1,null,"e4cd1e5b",null,null);const ts=es.exports,ls=Object.freeze(Object.defineProperty({__proto__:null,default:ts},Symbol.toStringTag,{value:"Module"}));const os={__name:"option-slot-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=[{label:"\u8F93\u5165\u6846",value:"dInput"},{label:"\u6570\u503C\u8F93\u5165\u6846",value:"dInputNumber"},{label:"\u591A\u884C\u8F93\u5165\u6846",value:"dTextarea"},{label:"\u65E5\u671F\u9009\u62E9\u5668",value:"dTime"},{label:"\u5355\u9009\u6846",value:"dRadio"},{label:"\u591A\u9009\u6846",value:"dCheckbox"},{label:"\u4E0B\u62C9\u9009\u62E9\u5668",value:"dSelect"},{label:"\u7EA7\u8054\u9009\u62E9\u5668",value:"dCascader"},{label:"\u5730\u533A\u9009\u62E9\u5668",value:"dRegion"},{label:"\u5206\u7EC4",value:"dDraggable"}],l=Q(()=>{if(!!e.editorModel.slots.named)return e.editorModel.slots.named.length<e.editorModel.props.dic.length}),o=Q(()=>{var m,_,u,w;let M=(_=(m=e.editorModel)==null?void 0:m.props)==null?void 0:_.dic,b=(w=(u=e.editorModel)==null?void 0:u.slots)==null?void 0:w.named;if(M&&M.length>0&&b&&b.length>0){let T=b.map(E=>E.label),v=M.filter(E=>!T.includes(E.slotId));return v=v.map(E=>E.slotId),v}else return[]}),i=(M,b)=>{e.editorModel.slots.named||P(e.editorModel.slots,"named",[]);let m=f.copy(e.editorModel.slots.named);console.log(m,"named"),M===-1?m.push({label:"",value:"",block:!1}):b?m=m.filter(_=>_.label!==b):m=m.filter((_,u)=>M!==u),P(e.editorModel.slots,"named",m)},a=(M,b)=>{let m=[];for(let _ in e.editorModel.slots.named){let u=e.editorModel.slots.named[_];_==b?(P(e.editorModel.slots.named[_],"comDetail",null),P(e.editorModel.slots.named[_],"value",""),P(e.editorModel.slots.named[_],"block",!1),M&&m.push(M)):u.label&&m.push(u.label)}for(let _ of e.editorModel.props.dic)m.includes(_.slotId)?_.hadSlot=!0:(_.hadSlot=!1,_.block=!1)},h=M=>{let b=f.copy(M);return b.id=f.nanoid(),b.props.labelAlign="flex-end",b.props.labelColAlign="center",b.props.cntCompDisArr=[{id:f.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}],b.props.cntCompReqArr=[{id:f.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}],b.props.cntCompShowArr=[{id:f.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}],b.name==="dInput"&&(b.props.searchPageWidth=550),["dRadio","dCheckbox"].includes(b.name)&&(b.props.dic=b.props.dic.map(m=>({...m,slotId:f.nanoid()})),b.props.chooseAlign="many",b.props.chooseRowNum=0),["dRadio","dCheckbox","dSelect"].includes(b.name)&&(b.props.opDisabledSet=[{target:"",type:"",value:"",options:[]}],b.props.opNoteSet=[{target:"",value:""}]),b.name==="dCascader"&&(b.props.dic=[{pid:0,id:1,label:"\u4E00\u7EA7\u9009\u9879",value:"a",isEdit:!1,level:1,children:[{pid:1,id:2,label:"\u4E8C\u7EA7\u9009\u9879",value:"b",isEdit:!1,level:2,children:[{pid:2,id:3,label:"\u4E09\u7EA7\u9009\u9879",value:"c",isEdit:!1,level:3}]}]}]),b.name==="dDraggable"&&(b.props.gpDisCdtGp=[{key:"",label:"",op:"",logicOp:""}],b.props.align=1,b.props.cAlign=1,b.props.groupBorderColor="#ccc"),b.name==="dComputeTable"&&(b.props.hCodeList=[],b.props.cTableTitle="\u8BA1\u7B97\u8868\u683C"),b.name==="dDivider"&&(b.props.dividerType="solid",b.props.dividerHeight=1,b.props.dividerColor="#606871"),b.name==="dText"&&(b.props.textColor="#262626",b.props.textAlign="left",b.props.textFontSize=12,b.props.textLineHeight=12,b.props.textSpaceLetter=0,b.props.textWeight=!1),b.name==="dFish"&&(b.props.dicDataSet={},b.props.busDataSet={}),b};return{__sfc:!0,props:e,slotDic:t,showAdd:l,slotOptions:o,onControlSlotNum:i,handleOpHadSlot:a,extendCompProp:h,generateCom:(M,b)=>{if(!M){b.comDetail=null;return}const{basic:m,container:_}=Ue;let u=[...m,..._].find(A=>A.name===M);if(!u)return;let w=h(u);w.id=f.nanoid(),w.tag="slot",w.label="",w.props.labelWidth=0,w.attrs=w.attrs.map(A=>A.key==="disabled"?{...A,value:!0}:A);const{label:T}=b,{props:{dic:v},id:E}=e.editorModel;if(v){let A=v.find(L=>L.hadSlot&&L.slotId===T);A&&(w.props.cntCompDisArr=[{id:f.nanoid(),cntCompId:E,op:"notEqual",val:A.value,logicOp:""}],w.props.cntCompReqArr=[{id:f.nanoid(),cntCompId:E,op:"equal",val:A.value,logicOp:""}])}b.comDetail=w},handleOpBlock:(M,b)=>{let{props:{dic:m}}=e.editorModel;if(m){for(let _ in m)if(m[_].slotId===b.label){m[_].block=M;break}}}}}};var as=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{key:"option-slot-editor"},[t("template",{slot:"label"},[t("span",[e._v(e._s(e.config.label))]),l.showAdd?t("div",{staticClass:"add-btn",on:{click:function(o){return l.onControlSlotNum(-1)}}},[t("div",{staticClass:"plus"}),e._v("\u6DFB\u52A0\u63D2\u69FD ")]):e._e()]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.editorModel.slots.named&&e.editorModel.slots.named.length>0,expression:"editorModel.slots.named && editorModel.slots.named.length > 0"}],staticClass:"slot-con"},[t("div",{staticClass:"slot-title"},[t("span",{staticStyle:{"margin-right":"8px"}},[e._v("\u6807\u7B7E")]),t("span",{staticStyle:{"margin-right":"8px"}},[e._v("\u63D2\u69FD\u7C7B\u578B")]),t("span",[e._v("\u4E0E\u9009\u9879\u540C\u884C")])]),e._l(e.editorModel.slots.named,function(o,i){return t("div",{key:i,staticClass:"slot-item"},[t("el-select",{staticStyle:{width:"72px","margin-right":"8px"},attrs:{placeholder:"\u6807\u7B7E"},on:{change:a=>{l.handleOpHadSlot(a,i)}},model:{value:o.label,callback:function(a){e.$set(o,"label",typeof a=="string"?a.trim():a)},expression:"item.label"}},e._l(e.editorModel.props.dic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,disabled:!l.slotOptions.includes(a.slotId),value:a.slotId}})}),1),t("el-select",{staticStyle:{width:"72px","margin-right":"8px"},attrs:{disabled:!o.label,clearable:"",placeholder:"\u7C7B\u578B"},on:{change:a=>{l.generateCom(a,o)}},model:{value:o.value,callback:function(a){e.$set(o,"value",typeof a=="string"?a.trim():a)},expression:"item.value"}},e._l(l.slotDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),t("el-switch",{staticStyle:{"margin-right":"8px"},attrs:{"active-color":"#007aff","inactive-color":"#939BA6"},on:{change:a=>{l.handleOpBlock(a,o)}},model:{value:o.block,callback:function(a){e.$set(o,"block",a)},expression:"item.block"}}),t("i",{staticClass:"el-icon-delete",on:{click:function(a){return l.onControlSlotNum(i,o.label)}}})],1)})],2)],2)},ss=[],is=B(os,as,ss,!1,null,"d7fb07bf",null,null);const rs=is.exports,ns=Object.freeze(Object.defineProperty({__proto__:null,default:rs},Symbol.toStringTag,{value:"Module"}));const cs={__name:"time-compare-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c,t=oe("flatData",[]),l=Q(()=>{let g=[{label:"\u5F53\u524D\u65F6\u95F4",id:"now"},{label:"\u9009\u62E9\u65F6\u95F4",id:"choose"}],N=r(t).filter(M=>M.name==="dTime"&&M.id!==e.editorModel.id);return g=[...g,...N],g}),o=[{label:"\u7B49\u4E8E",value:"equal"},{label:"\u4E0D\u7B49\u4E8E",value:"notEqual"},{label:"\u5927\u4E8E",value:"greater"},{label:"\u5C0F\u4E8E",value:"less"},{label:"\u5927\u4E8E\u7B49\u4E8E",value:"greaterEqual"},{label:"\u5C0F\u4E8E\u7B49\u4E8E",value:"lessEqual"}],i=k("");return{__sfc:!0,props:e,flatData:t,compareDic:l,opDic:o,tempTimeChoose:i,handleTimeCompare:g=>{let N=r(t).find(b=>b.id===g),M=e.editorModel.props.timeCompareArr.find(b=>b.target===g);if(M){if(g==="now"){M.value="now";return}if(g==="choose"){M.value="choose";return}N&&(M.value=`${e.editorModel.label}|${N.id}|${N.label}`)}},onControlItemNum:g=>{e.editorModel.props.timeCompareArr||P(e.editorModel.props,"timeCompareArr",[]),g===-1?e.editorModel.props.timeCompareArr.push({type:"",target:"",value:""}):e.editorModel.props.timeCompareArr.splice(g,1)}}}};var ds=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{key:"time-compare-editor"},[t("template",{slot:"label"},[t("span",[e._v("\u65E5\u671F\u6BD4\u8F83")]),t("div",{staticClass:"add-btn",staticStyle:{float:"right"},on:{click:function(o){return l.onControlItemNum(-1)}}},[t("div",{staticClass:"plus"}),e._v("\u6DFB\u52A0\u6BD4\u8F83 ")])]),t("div",{staticClass:"time-compare"},[t("div",{staticClass:"time-compare-title"},[t("span",{staticStyle:{"margin-right":"8px"}},[e._v("\u7C7B\u578B")]),t("span",[e._v("\u5BF9\u8C61")])]),e._l(e.editorModel.props.timeCompareArr,function(o,i){return t("div",{key:i,staticClass:"time-compare-item"},[t("el-select",{staticStyle:{"margin-right":"8px"},attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9"},model:{value:o.type,callback:function(a){e.$set(o,"type",a)},expression:"item.type"}},e._l(l.opDic,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),o.target!=="choose"?t("el-select",{attrs:{clearable:"","allow-create":"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},on:{change:l.handleTimeCompare},model:{value:o.target,callback:function(a){e.$set(o,"target",a)},expression:"item.target"}},e._l(l.compareDic,function(a){return t("el-option",{key:a.id,attrs:{label:a.label,value:a.id}})}),1):e._e(),o.target==="choose"?t("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm",placeholder:"\u8BF7\u9009\u62E9"},on:{change:a=>{o.target=a,l.tempTimeChoose=""}},model:{value:l.tempTimeChoose,callback:function(a){l.tempTimeChoose=a},expression:"tempTimeChoose"}}):e._e(),t("i",{staticClass:"el-icon-delete",on:{click:function(a){return l.onControlItemNum(i)}}})],1)}),!e.editorModel.props.timeCompareArr||e.editorModel.props.timeCompareArr.length===0?t("el-empty",{scopedSlots:e._u([{key:"image",fn:function(){return[t("span",{staticStyle:{display:"none"}})]},proxy:!0}],null,!1,259797040)}):e._e()],2)],2)},ps=[],us=B(cs,ds,ps,!1,null,"60b52b91",null,null);const fs=us.exports,ms=Object.freeze(Object.defineProperty({__proto__:null,default:fs},Symbol.toStringTag,{value:"Module"}));const _s={__name:"width-editor",props:{editorModel:{type:Object},config:{type:Object}},setup(c){const e=c;return{__sfc:!0,props:e,handleWidthInput:l=>{l=l.replace(/[^\d]/g,""),e.editorModel.width=Number(l)}}}};var bs=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("el-form-item",{staticClass:"width-editor",attrs:{prop:"width"}},[t("template",{slot:"label"},[t("span",[e._v("\u63A7\u4EF6")]),t("span",[e._v("id\uFF1A"+e._s(e.editorModel.id))])]),t("div",{staticClass:"slider-control"},[t("span",[e._v("\u5BBD\u5EA6")]),t("el-slider",{model:{value:e.editorModel.props.width,callback:function(o){e.$set(e.editorModel.props,"width",o)},expression:"editorModel.props.width"}}),t("el-input",{attrs:{type:"number",max:100},on:{input:l.handleWidthInput},model:{value:e.editorModel.props.width,callback:function(o){e.$set(e.editorModel.props,"width",e._n(o))},expression:"editorModel.props.width"}})],1),t("div",{staticClass:"fast-btn"},[t("span",{on:{click:function(o){e.editorModel.props.width=25}}},[e._v("25%")]),t("span",{on:{click:function(o){e.editorModel.props.width=50}}},[e._v("50%")]),t("span",{on:{click:function(o){e.editorModel.props.width=75}}},[e._v("75%")]),t("span",{on:{click:function(o){e.editorModel.props.width=100}}},[e._v("100%")])])],2)},vs=[],gs=B(_s,bs,vs,!1,null,"241fb08c",null,null);const hs=gs.exports,ys=Object.freeze(Object.defineProperty({__proto__:null,default:hs},Symbol.toStringTag,{value:"Module"}));function Cs(){const e=Object.values(Object.assign({"./property-editor/active-table-dataset-editor.vue":Fl,"./property-editor/common-editor/button-group-editor.vue":ql,"./property-editor/common-editor/color-editor.vue":Kl,"./property-editor/common-editor/input-editor.vue":lo,"./property-editor/common-editor/input-number-editor.vue":no,"./property-editor/common-editor/select-editor.vue":_o,"./property-editor/common-editor/switch-editor.vue":yo,"./property-editor/compute-table-hCode-editor.vue":wo,"./property-editor/connect-editor.vue":Po,"./property-editor/default-editor.vue":Fo,"./property-editor/divider-type-editor.vue":qo,"./property-editor/drop-table-editor/drop-config-editor.vue":Ko,"./property-editor/drop-table-editor/drop-connect-editor.vue":la,"./property-editor/field-editor.vue":na,"./property-editor/fish-bone-dataset-editor.vue":ma,"./property-editor/fish-business-dataset-editor.vue":ya,"./property-editor/group-disable-editor.vue":wa,"./property-editor/option-connect-form-editor.vue":Pa,"./property-editor/option-disable-editor.vue":Fa,"./property-editor/option-layout-editor.vue":qa,"./property-editor/option-note-editor.vue":Ka,"./property-editor/option-origin-editor.vue":ls,"./property-editor/option-slot-editor.vue":ns,"./property-editor/time-compare-editor.vue":ms,"./property-editor/width-editor.vue":ys})),t={},l=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,a,h,g)=>h?h.toUpperCase():a.toLowerCase());return e.forEach(o=>{const i=l(o.default.__name);t[i]=o.default}),t}const xs={width:"width-editor",suffixCon:"input-editor",height:"input-number-editor",label:"input-editor",compFontSize:"input-number-editor",labelAlign:"button-group-editor",labelColAlign:"button-group-editor",isRowLabel:"switch-editor",labelWidth:"input-number-editor",opLayout:"option-layout-editor",opHeight:"input-number-editor",boxType:"button-group-editor",labelType:"button-group-editor",showGroupBorder:"switch-editor",groupBorderColor:"color-editor",tableState:"switch-editor",align:"button-group-editor",cAlign:"button-group-editor",rowCounts:"input-number-editor",dividerType:"divider-type-editor",dividerHeight:"input-number-editor",dividerColor:"color-editor",textAlign:"button-group-editor",textWeight:"switch-editor",textFontSize:"input-number-editor",textLineHeight:"input-number-editor",textSpaceLetter:"input-number-editor",textColor:"color-editor",placeholder:"input-editor",tailAddWidth:"input-number-editor",headAddWidth:"input-number-editor",mBoneBetween:"input-number-editor",boneDeg:"input-number-editor",sDirection:"select-editor",sBoneBetween:"input-number-editor",lDirection:"select-editor",lBoneBetween:"input-number-editor",cTableTitle:"input-editor"},Ss={dInput:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0},{prop:"placeholder",label:"\u8F93\u5165\u63D0\u9192\u4FE1\u606F",isAttr:!0}],dInputNumber:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0}],dTextarea:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0},{prop:"placeholder",label:"\u8F93\u5165\u63D0\u9192\u4FE1\u606F",isAttr:!0}],dTime:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0},{prop:"placeholder",label:"\u8F93\u5165\u63D0\u9192\u4FE1\u606F",isAttr:!0}],dRadio:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0},{prop:"opLayout",label:"\u5E03\u5C40\u65B9\u5F0F"},{prop:"opHeight",label:"\u9009\u9879\u884C\u95F4\u8DDD",attrs:{min:0,max:100}},{prop:"boxType",label:"\u9009\u9879\u6846\u6837\u5F0F",dic:[{label:"\u5706\u6846",value:1},{label:"\u65B9\u6846",value:2}]},{prop:"labelType",label:"\u9009\u9879\u6807\u9898\u4F4D\u7F6E",dic:[{label:"\u5C45\u5DE6",value:1},{label:"\u5C45\u53F3",value:2}]}],dCheckbox:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0},{prop:"opLayout",label:"\u5E03\u5C40\u65B9\u5F0F"},{prop:"opHeight",label:"\u9009\u9879\u884C\u95F4\u8DDD",attrs:{min:0,max:100}},{prop:"boxType",label:"\u9009\u9879\u6846\u6837\u5F0F",dic:[{label:"\u5706\u6846",value:1},{label:"\u65B9\u6846",value:2}]},{prop:"labelType",label:"\u9009\u9879\u6807\u9898\u4F4D\u7F6E",dic:[{label:"\u5C45\u5DE6",value:1},{label:"\u5C45\u53F3",value:2}]}],dSelect:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0},{prop:"placeholder",label:"\u8F93\u5165\u63D0\u9192\u4FE1\u606F",isAttr:!0}],dCascader:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"compFontSize",label:"\u5185\u5BB9\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0}],dRegion:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0}],dPlaceholder:[{prop:"width",label:"\u63A7\u4EF6"}],dTitle:[{prop:"width",label:"\u63A7\u4EF6"}],dText:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"textAlign",label:"\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"left"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"right"}]},{prop:"textWeight",label:"\u5B57\u4F53\u7C97\u7EC6"},{prop:"textFontSize",label:"\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"}],dImage:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"height",label:"\u9AD8\u5EA6"},{prop:"label",label:"\u6807\u9898",root:!0},{prop:"textFontSize",label:"\u6807\u9898\u5B57\u4F53\u5927\u5C0F",attrs:{min:12,max:30}},{prop:"textLineHeight",label:"\u5B57\u4F53\u884C\u9AD8",attrs:{min:12,max:100}},{prop:"textSpaceLetter",label:"\u5B57\u95F4\u8DDD",attrs:{min:0,max:10}},{prop:"textColor",label:"\u5B57\u4F53\u989C\u8272"},{prop:"labelAlign",label:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u5DE6",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u53F3",value:"flex-end"}]},{prop:"labelColAlign",label:"\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F",dic:[{label:"\u5C45\u4E0A",value:"flex-start"},{label:"\u5C45\u4E2D",value:"center"},{label:"\u5C45\u4E0B",value:"flex-end"}]},{prop:"isRowLabel",label:"\u6807\u9898\u5355\u72EC\u4E00\u884C",def:!1},{prop:"labelWidth",label:"\u6807\u9898\u5BBD\u5EA6",attrs:{min:0,max:500}},{prop:"suffixCon",label:"\u5C3E\u90E8\u5185\u5BB9",root:!0}],dDivider:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"dividerType",label:"\u7EBF\u6761\u6837\u5F0F"},{prop:"dividerHeight",label:"\u7EBF\u6761\u7C97\u7EC6",attrs:{min:1,max:30}},{prop:"dividerColor",label:"\u7EBF\u6761\u989C\u8272"}],dDraggable:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"showGroupBorder",label:"\u663E\u793A\u8FB9\u6846",listeners:{change(c,e){c||P(e.props,"groupBorderColor","#ccc")}}},{prop:"groupBorderColor",label:"\u8FB9\u6846\u989C\u8272"},{prop:"tableState",label:"\u8868\u683C\u6A21\u5F0F"},{prop:"align",label:"\u5206\u7EC4\u5185\u5BB9\u6C34\u5E73\u5E03\u5C40",dic:[{label:"\u5C45\u5DE6",value:1},{label:"\u5C45\u4E2D",value:2},{label:"\u5C45\u53F3",value:3},{label:"\u4E24\u7AEF",value:4}]},{prop:"cAlign",label:"\u5206\u7EC4\u5185\u5BB9\u5782\u76F4\u5E03\u5C40",dic:[{label:"\u9876\u90E8",value:1},{label:"\u5C45\u4E2D",value:2},{label:"\u9876\u90E8",value:3}]}],dActiveTable:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"rowCounts",label:"\u8868\u683C\u521D\u59CB\u884C\u6570"}],dComputeTable:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"cTableTitle",label:"\u8868\u683C\u6807\u9898"}],dFish:[{prop:"width",label:"\u63A7\u4EF6"},{prop:"height",label:"\u9AD8\u5EA6"},{prop:"tailAddWidth",label:"\u9C7C\u5C3E\u989D\u5916\u5BBD\u5EA6",attrs:{min:200,max:1/0}},{prop:"headAddWidth",label:"\u9C7C\u5934\u989D\u5916\u5BBD\u5EA6",attrs:{min:200,max:1/0}},{prop:"mBoneBetween",label:"\u4E00\u7EA7\u9C7C\u523A\u8282\u70B9\u95F4\u8DDD",attrs:{min:0,max:1/0}},{prop:"boneDeg",label:"\u4E00\u7EA7\u9C7C\u523A\u5F2F\u66F2\u89D2\u5EA6",attrs:{min:15,max:75}},{prop:"sDirection",label:"\u4E8C\u7EA7\u9C7C\u9AA8\u671D\u5411",dic:[{label:"\u5DE6",value:"left"},{label:"\u53F3",value:"right"},{label:"\u4EA4\u9519",value:"stagger"}]},{prop:"sBoneBetween",label:"\u4E8C\u7EA7\u9C7C\u523A\u8282\u70B9\u95F4\u8DDD",attrs:{min:0,max:1/0}},{prop:"lDirection",label:"\u4E09\u7EA7\u9C7C\u9AA8\u671D\u5411",dic:[{label:"\u5916",value:"top"},{label:"\u5185",value:"bottom"},{label:"\u4EA4\u9519",value:"stagger"}]},{prop:"lBoneBetween",label:"\u4E09\u7EA7\u9C7C\u523A\u8282\u70B9\u95F4\u8DDD",attrs:{min:0,max:1/0}}]},ks={maxlength:"input-number-editor",defVal:"default-editor",dataset_code:"field-editor",dataset_field:"field-editor",reserve_field:"input-editor",isSearch:"drop-connect-editor",dropConfig:"drop-config-editor",precision:"input-number-editor",min:"input-number-editor",max:"input-number-editor","value-format":"select-editor",type:"switch-editor",connect_field:"input-editor",option_note_config:"option-note-editor",option_connect_form_config:"option-connect-form-editor",option_disable_config:"option-disable-editor",option_origin_config:"option-origin-editor",option_slot_config:"option-slot-editor",multiple:"switch-editor",datset_name:"active-table-dataset-editor",hCodeList:"compute-table-hCode-editor",fishBoneDataset:"fish-bone-dataset-editor",fishBusinessDataset:"fish-business-dataset-editor"},Ds={dInput:[{prop:"maxlength",label:"\u6700\u5927\u8F93\u5165\u957F\u5EA6\uFF08\u5B57\u7B26\u957F\u5EA6\uFF09",isAttr:!0,attrs:{min:0,max:8e3}},{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0},{prop:"isSearch",label:"\u5173\u8054\u4E0B\u62C9\u9875\u9762\u5217\u8868"},{prop:"dropConfig",secConfig:{bindName:{prop:"bindName",label:"\u5173\u8054\u67E5\u8BE2\u914D\u7F6E"},searchPageWidth:{prop:"searchPageWidth",label:"\u67E5\u8BE2\u914D\u7F6E\u5BBD\u5EA6",attrs:{min:550,max:1800}},dropCondition:{prop:"dropCondition",label:"\u4E0B\u62C9\u6761\u4EF6\u914D\u7F6E"},compInteractive:{prop:"compInteractive",label:"\u7EC4\u4EF6\u4EA4\u4E92"}}}],dInputNumber:[{prop:"precision",label:"\u7CBE\u5EA6",isAttr:!0,attrs:{min:0,max:10}},{prop:"min",label:"\u6700\u5C0F\u503C",isAttr:!0,attrs:{min:-1/0,max:1/0}},{prop:"max",label:"\u6700\u5927\u503C",isAttr:!0,attrs:{min:-1/0,max:1/0}},{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0}],dTextarea:[{prop:"maxlength",label:"\u6700\u5927\u8F93\u5165\u957F\u5EA6\uFF08\u5B57\u7B26\u957F\u5EA6\uFF09",isAttr:!0,attrs:{min:0,max:8e3}},{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0}],dTime:[{prop:"value-format",label:"\u65E5\u671F\u683C\u5F0F",isAttr:!0,dic:[{label:"\u5E74-\u6708-\u65E5",value:"yyyy-MM-dd"},{label:"\u5E74-\u6708-\u65E5 \u65F6",value:"yyyy-MM-dd HH"},{label:"\u5E74-\u6708-\u65E5 \u65F6-\u5206",value:"yyyy-MM-dd HH:mm"},{label:"\u5E74-\u6708-\u65E5 \u65F6-\u5206-\u79D2",value:"yyyy-MM-dd HH:mm:ss"}]},{prop:"type",label:"\u662F\u5426\u8303\u56F4\u9009\u62E9",rLabel:"\u7EC4\u4EF6\u7C7B\u578B",isAttr:!0,attrs:{activeValue:"datetimerange",inactiveValue:"datetime"},listeners:{change(c,e){c==="datetimerange"?P(e,"defVal",[]):c==="datetime"&&P(e,"defVal","")}}},{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0}],dRadio:[{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_code",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u540D\u79F0)",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u7F16\u7801)",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0},{prop:"connect_field",label:"\u5173\u8054\u7EC4\u4EF6\u7EC4\u540D",root:!0},{prop:"option_note_config",label:"\u9009\u9879\u63D0\u793A\u914D\u7F6E"},{prop:"option_disable_config",label:"\u9009\u9879\u7981\u7528\u914D\u7F6E"},{prop:"option_connect_form_config",label:"\u5173\u8054\u5B50\u8868\u5355"},{prop:"option_origin_config",label:"\u6570\u636E\u6765\u6E90"},{prop:"option_slot_config",label:"\u63D2\u69FD\u914D\u7F6E"}],dCheckbox:[{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_code",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u540D\u79F0)",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u7F16\u7801)",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0},{prop:"option_origin_config",label:"\u6570\u636E\u6765\u6E90"},{prop:"option_slot_config",label:"\u63D2\u69FD\u914D\u7F6E"}],dSelect:[{prop:"multiple",label:"\u662F\u5426\u591A\u9009",isAttr:!0},{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_code",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u540D\u79F0)",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u7F16\u7801)",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0},{prop:"option_origin_config",label:"\u6570\u636E\u6765\u6E90"}],dCascader:[{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_code",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u540D\u79F0)",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u7F16\u7801)",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0},{prop:"option_origin_config",label:"\u6570\u636E\u6765\u6E90"}],dRegion:[{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0},{prop:"dataset_code",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u540D\u79F0)",root:!0},{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5(\u7F16\u7801)",root:!0},{prop:"reserve_field",label:"\u5916\u90E8\u5BF9\u7167\u5B57\u6BB5",root:!0}],dTitle:[{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0}],dText:[{prop:"defVal",label:"\u9ED8\u8BA4\u503C",root:!0,attrs:{type:"textarea",resize:"none",autosize:{minRows:6,maxRows:6}}}],dImage:[{prop:"defVal",label:"\u56FE\u7247\u5730\u5740",root:!0}],dActiveTable:[{prop:"datset_name",label:"\u8868\u683C\u6570\u636E\u96C6"}],dComputeTable:[{prop:"dataset_field",label:"\u6570\u636E\u7ED1\u5B9A\u5B57\u6BB5",root:!0},{prop:"hCodeList",label:"\u8868\u683C\u5206\u6570\u914D\u7F6E"}],dFish:[{prop:"fishBoneDataset",label:"\u9C7C\u9AA8\u6570\u636E\u96C6"},{prop:"fishBusinessDataset",label:"\u7ED1\u5B9A\u6570\u636E\u96C6"}]},ws={isRequired:"switch-editor",reqMsg:"input-editor",isHidden:"switch-editor",isDisabled:"switch-editor",connect:"connect-editor",regText:"select-editor",regMsg:"input-editor",readonly:"switch-editor",timeCompare:"time-compare-editor",groupDisable:"group-disable-editor"},Ms={dInput:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"regText",label:"\u6821\u9A8C\u89C4\u5219\uFF08\u53EF\u81EA\u5B9A\u4E49\u6B63\u5219\uFF09",dic:vl,attrs:{allowCreate:!0,filterable:!0,clearable:!0}},{prop:"regMsg",label:"\u6821\u9A8C\u63D0\u793A"},{prop:"readonly",label:"\u662F\u5426\u4E3A\u53EA\u8BFB\u72B6\u6001",rLabel:"\u53EA\u8BFB\u72B6\u6001"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dInputNumber:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dTextarea:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dTime:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"timeCompare",label:"\u65E5\u671F\u6BD4\u8F83"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dRadio:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dCheckbox:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dSelect:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dRegion:[{prop:"isRequired",label:"\u662F\u5426\u4E3A\u5FC5\u586B(\u9009)\u9879",rLabel:"\u5FC5\u586B\u72B6\u6001"},{prop:"reqMsg",label:"\u5FC5\u586B\u6821\u9A8C\u63D0\u793A"},{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"},{prop:"isDisabled",label:"\u662F\u5426\u4E3A\u7981\u7528\u72B6\u6001",rLabel:"\u7981\u7528\u72B6\u6001"},{prop:"connect",label:"\u7EC4\u4EF6\u5173\u8054\u5173\u7CFB"}],dPlaceholder:[{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"}],dTitle:[{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"}],dText:[{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"}],dImage:[{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"}],dDivider:[{prop:"isHidden",label:"\u662F\u5426\u4E3A\u9690\u85CF\u72B6\u6001",rLabel:"\u9690\u85CF\u72B6\u6001"}],dDraggable:[{prop:"groupDisable",label:"\u5206\u7EC4\u7981\u7528",rLabel:"\u5206\u7EC4\u7981\u7528\u6761\u4EF6"}]};const Ye=Cs();console.log(Ye,"moduleMap");const Ts={name:"setting-panel",components:{...Ye}},Ns=Object.assign(Ts,{setup(c){const{currentCom:e}=ge({currentCom:h=>h.form.currentCom}),{setCurrentCom:t}=he({setCurrentCom:"form/SET_CUR_COMP"}),l=k("style"),o=Q({get:()=>(r(e)||(l.value="style"),r(e)),set:h=>{t(h)}});return{__sfc:!0,moduleMap:Ye,currentCom:e,setCurrentCom:t,activeName:l,editorModel:o,hasPropEditor:h=>{const{prop:g}=h;if(g==="dropConfig"){if(!r(o).props.isSearch)return!1}else if(g==="reqMsg"){if(!r(o).props.isRequired)return!1}else if(g==="regMsg"){if(!r(o).props.regText)return!1}else if(g==="option_note_config"){if(r(o).props.dicOrigin===2)return!1}else if(g==="hCodeList"){if(r(o).children.length===0)return!1}else if(g==="groupBorderColor"&&!r(o).props.showGroupBorder)return!1;return!(r(o)&&r(o).tag==="slot"&&["defVal","textFontSize","compFontSize","textLineHeight","textSpaceLetter","textColor","readonly","isHidden","isDisabled","connect"].includes(g))},namedPropEditor:h=>{if(r(l)==="style")return xs[h];if(r(l)==="data")return ks[h];if(r(l)==="interaction")return ws[h]},COMP_STYLE:Ss,COMP_DATA:Ds,COMP_INTERACTION:Ms}}});var As=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{staticClass:"renderSet",class:{renderSet__hidden:!l.editorModel||!l.editorModel.id}},[l.editorModel&&l.editorModel.id?t("el-tabs",{staticClass:"editor-panel",model:{value:l.activeName,callback:function(o){l.activeName=o},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"\u6837\u5F0F",name:"style"}},[t("el-form",[e._l(l.COMP_STYLE[l.editorModel.name],function(o){return[l.hasPropEditor(o)?t(l.namedPropEditor(o.prop),{key:o.prop,tag:"component",attrs:{config:o,editorModel:l.editorModel}}):e._e()]})],2)],1),t("el-tab-pane",{attrs:{label:"\u6570\u636E",name:"data"}},[t("el-form",[e._l(l.COMP_DATA[l.editorModel.name],function(o){return[l.hasPropEditor(o)?t(l.namedPropEditor(o.prop),{key:o.prop,tag:"component",attrs:{config:o,editorModel:l.editorModel}}):e._e()]})],2)],1),t("el-tab-pane",{attrs:{label:"\u4EA4\u4E92",name:"interaction"}},[t("el-form",[e._l(l.COMP_INTERACTION[l.editorModel.name],function(o){return[l.hasPropEditor(o)?t(l.namedPropEditor(o.prop),{key:o.prop,tag:"component",attrs:{config:o,editorModel:l.editorModel}}):e._e()]})],2)],1)],1):e._e()],1)},Os=[],Ps=B(Ns,As,Os,!1,null,"9ebfd241",null,null);const $s=Ps.exports;const Rs={name:"renderTree"},Ls=Object.assign(Rs,{props:{data:Object,allowMove:Boolean},setup(c){const e=c,{currentCom:t}=ge({currentCom:m=>m.form.currentCom}),{setCurCom:l}=he({setCurCom:"form/SET_CUR_COMP"}),o=k(null),i=m=>{e.allowMove||l(m)},a=k([]),h=m=>{const _=new Set([...r(a),m.id]);a.value=Array.from(_)},g=m=>{const _=u(m);a.value=a.value.filter(w=>!_.includes(w));function u(w){let T=[];const{children:v,id:E}=w;if(T.push(E),v&&v.length>0)for(let A of v){let L=u(A);T=[...T,...L]}return T}},N=m=>{const{name:_}=m;if(["dPlaceholder","dTitle","dText","dImage","dDivider","dDraggable"].includes(_))return!1;if(_==="dActiveTable"){const{props:{datset_name:w}}=m;return!w}const{dataset_field:u}=m;return!u};return ae(t,m=>{fe(()=>{var _,u,w,T;m?(u=(_=r(o))==null?void 0:_.setCurrentKey)==null||u.call(_,m.id):(T=(w=r(o))==null?void 0:w.setCurrentKey)==null||T.call(w,null)})},{deep:!0}),{__sfc:!0,currentCom:t,setCurCom:l,props:e,eTree:o,chooseNode:i,expandNodeIdList:a,nodeExpand:h,nodeCollapse:g,handleVif:N,allowDrop:(m,_,u)=>{var v,E;let w=(v=m==null?void 0:m.data)==null?void 0:v.name,T=(E=_==null?void 0:_.data)==null?void 0:E.name;return!(u==="inner"&&(!["dDraggable","dComputeTable","dActiveTable"].includes(T)||w==="dDraggable"&&T!=="dDraggable"||!["dInput","dInputNumber","dTextarea","dTime","dRadio","dCheckbox","dSelect","dCascader","dRegion"].includes(w)&&T==="dActiveTable"||!["dRadio","dCheckbox"].includes(w)&&T==="dComputeTable"))},onNodeDragOver:(m,_,u)=>{var A,L,z,F,V;let w=document.querySelector(".el-tree__drop-indicator");console.dir(u.target);const T=((L=(A=u.target.querySelector(".el-tree-node__expand-icon"))==null?void 0:A.getBoundingClientRect)==null?void 0:L.call(A))||{},v=((V=(F=(z=r(o))==null?void 0:z.$el)==null?void 0:F.getBoundingClientRect)==null?void 0:V.call(F))||{},E=Number(w.style.top.replace(/px/g,""));E===T.top-v.top?w.style.top=`${E-8}px`:E===T.bottom-v.top&&(w.style.top=`${E+8}px`)}}}});var Is=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{attrs:{id:"tree-content"}},[t("el-tree",{ref:"eTree",staticClass:"eTree",attrs:{data:e.data.children,"default-expanded-keys":l.expandNodeIdList,"node-key":"id",props:{children:"children",label:"label"},draggable:e.allowMove,"allow-drop":l.allowDrop},on:{"node-click":l.chooseNode,"node-expand":l.nodeExpand,"node-collapse":l.nodeCollapse,"node-drag-over":l.onNodeDragOver},scopedSlots:e._u([{key:"default",fn:function({data:o}){return t("span",{staticClass:"tree-item",class:{"tree-item__active":l.currentCom&&l.currentCom.id===o.id}},[t("span",{staticClass:"tree-item-label"},[e._v(e._s(o.label))]),l.handleVif(o)?t("i",{staticClass:"el-icon-my-noBind"}):e._e()])}}])})],1)},Es=[],Fs=B(Ls,Is,Es,!1,null,"e8648461",null,null);const Vs=Fs.exports;const Bs={name:"formBuilder"},zs=Object.assign(Bs,{setup(c){al((n,s)=>({"9176dd2c":s.resizeNum}));const e=ge({currentCom:n=>n.form.currentCom,choosedDataset:n=>n.form.choosedDataset,isPrint:n=>n.form.isPrint,isShowPrintRes:n=>n.form.isShowPrintRes}),{currentCom:t,choosedDataset:l,isPrint:o,isShowPrintRes:i}=e,a=he({setCurCom:"form/SET_CUR_COMP",setRelatedComp:"form/SET_RELATED_COMP",setChoosedDataset:"form/SET_CHOOSE_DATASET",setPrint:"form/SET_PRINT",setPrintResShow:"form/SET_PRINT_RES"}),{setCurCom:h,setRelatedComp:g,setChoosedDataset:N,setPrint:M,setPrintResShow:b}=a,m=sl(),_=il(),u=k({}),w=k(null),T=k(null);be("curDataSet",T);const v=k({id:"Basic",isBasic:!0,children:[]}),E=k({}),A=k([]);be("DFields",A);const L=async n=>await Ke({id:n,pageNum:0,pageSize:0}).then(p=>{p.status==104?A.value=p.data.list||[]:H.exports.Message.warning(p.msg)}),z=(n,s)=>{const{children:p,isBasic:d,name:S,id:x}=n;if(!d&&S==="dActiveTable"){let C=s.find(y=>y.components_id===x);if(C){console.log("feedback");const{datset_id:y,datset_name:D,id:O}=C;n.props.datset_id=y,n.props.datset_name=D,n.props.id=O}}if(p&&p.length>0)for(let C of p)z(C,s)},F=()=>{H.exports.MessageBox.confirm("\u82E5\u5185\u5BB9\u672A\u4FDD\u5B58\u6570\u636E\u4F1A\u4E22\u5931\uFF0C\u662F\u5426\u9000\u51FA?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{h(null),N([]),_.push({name:"customFormList",params:{currentGroup:m.params.currentGroup}})})},V=k({}),$=k(!1),I=k(null),q=()=>{$.value=!$.value,fe(()=>{var n,s;(s=(n=r(I))==null?void 0:n.focus)==null||s.call(n)})},K=k(null),te=()=>{M(!0),b(!0),setTimeout(()=>{const n=r(K).$el,s=1083;let p=1,d=n.getBoundingClientRect(),S=r(K).$children[0].$children;const x=y=>{y=Array.from(y);let D=[];return y.forEach(O=>{let j=(O==null?void 0:O.$el)||O;j._prevClass.includes("draggable-item-draggable")?D=[...D,...x(j.children||[])]:D.push(j)}),D};let C=x(S);console.log(d,"printViewRect"),C.forEach(y=>{let D=y.getBoundingClientRect(),O=D.y-d.y;y.classList.remove("print_gap"),O>p*s&&(p++,y.classList.add("print_gap")),console.dir(y),console.log(O,D)}),console.log(C),n.style.height="fit-content",n.style.minHeight="100%"},200)},ee=()=>{fl(r(K))},Y=k(0),ie=40,R=k([NaN,NaN]),W=()=>{const n=r(K).$el;if(!n)return;const s=Number(n.clientWidth);if(r(R).some(d=>isNaN(d)))R.value=[ie,s-ie];else{const d=r(R)[0]/r(Y),S=r(R)[1]/r(Y);R.value=[Math.ceil(d*s),Math.floor(S*s)]}Y.value=s},J=n=>r(R).indexOf(n)==1?r(Y)-n:n;ae(i,n=>{n?(fe(()=>{R.value=[NaN,NaN],W()}),window.addEventListener("resize",W)):window.removeEventListener("resize",W)});const X=k(!1),G=async n=>await dl(n).then(s=>s.status===104&&s.data.list?s.data.list.map(p=>({value:p.id,label:p.name})):[]),le=async n=>{const{children:s,isBasic:p,name:d}=n;if(!p){const{props:{datset_id:S,datset_name:x}}=n;if(d==="dSelect"&&S){const C={pageNum:0,pageSize:0,filter:{datset_id:S,datset_name:x}};n.props.dic=await G(C)}}if(s&&s.length>0)for(let S of s)le(S)},re=()=>{X.value=!0,le(v.value)},ht=()=>{n(r(v)),X.value=!1;function n(s){const{children:p,isBasic:d,name:S}=s;if(!d){const{props:{datset_id:x}}=s;S==="dSelect"&&x&&(s.props.dic=[])}if(p&&p.length>0)for(let x of p)n(x)}},Xe=k(null),yt=()=>{fe(()=>{var n,s;(s=(n=r(Xe))==null?void 0:n.toPdfFn)==null||s.call(n)})},ye=n=>{let s=[];const{isBasic:p,children:d,name:S,slots:x}=n;if(!p){const{dataset_code:C,dataset_field:y}=n;C&&s.push(C),y&&s.push(y)}if(S!=="dActiveTable"&&d&&d.length>0)for(let C of d){let y=ye(C);s=[...s,...y]}if(x&&x.named&&x.named.length)for(let C in x.named){let y=x.named[C].comDetail;if(!y)continue;let D=ye(y);s=[...s,...D]}return s},Ce=n=>{let s=[];const{isBasic:p,children:d,name:S}=n;if(!p&&S==="dActiveTable"){const{id:x,props:{datset_id:C,datset_name:y,id:D}}=n;let O=d.map(Z=>Z.dataset_field);O=O.filter(Z=>!f.isEmpty(Z)),O=O.join(",");let j={components_id:x,bus_field:O,datset_id:C,datset_name:y,id:D};s=[...s,j]}if(S!=="dActiveTable"&&d)for(let x of d){let C=Ce(x);s=[...s,...C]}return s},xe=n=>{let s=null;const{isBasic:p,children:d}=n;if(!p){const{slots:S,props:{datset_id:x},name:C,id:y}=n;if(C==="dActiveTable"){if(!x)return H.exports.Message.warning(`\u52A8\u6001\u8868\u683C ${y} \u672A\u9009\u62E9\u6570\u636E\u96C6`),!1;Ae(n.props,"datset_id"),Ae(n.props,"datset_name"),Ae(n.props,"datsource_id"),Ae(n.props,"sort_id")}if(C==="dSearchTable"&&P(n,"defVal",""),S&&S.named&&S.named.length>0)for(let D in S.named){if(!S.named[D].comDetail)continue;if(xe(S.named[D].comDetail)===!1)return s=!1,s}}if(d&&d.length>0){for(let S of d)if(xe(S)===!1)return s=!1,s}return n},Ct=()=>{if(!r(V).name){q(),H.exports.Message.warning("\u8BF7\u8F93\u5165\u8868\u5355\u540D\u79F0");return}const{isAdd:n}=r(u);let s=ye(v.value)||[],p=Ce(v.value),d=Ce(E.value),S=p.map(U=>U.components_id),x=d.map(U=>U.components_id),C=S.filter(U=>!x.includes(U)),y=x.filter(U=>!S.includes(U)),D=[];for(let U of p)C.includes(U.components_id)?D=[...D,{...U,act:"add"}]:D=[...D,{...U,act:"mod"}];for(let U of d)y.includes(U.components_id)&&(D=[...D,{...U,act:"del"}]);let O=xe(f.copy(r(v)));if(O===!1)return;O=JSON.stringify(O),s=s.filter(U=>!f.isEmpty(U));const{datset_id:j,datset_name:Z,datsource_id:Je,id:Te,original_id:pe}=r(T)||{};let _e={...r(V),act:n?"add":"mod",id:n?"":Te,original_id:n?"":pe,dat_range:r(u).currentGroup.dat_range,form_text:O,datset_id:j,datset_name:Z,datsource_id:Je,sort_id:r(u).row?r(u).row.sort_id:r(u).currentGroup.id,bus_field:s.join(","),tableset:D};console.log(_e,"obj"),pl(_e).then(U=>{U.status==100?(H.exports.Message.success(U.msg),h(null),N([]),_.push({name:"customFormList",params:{currentGroup:r(u).currentGroup}})):H.exports.Message.warning(U.msg)})},Ie=k(!1),ue=k(!1),Ee=k(null),Fe=(n,s)=>{let p=f.copy(n);d(p),v.value=p;function d(S){const{isBasic:x,children:C}=S;if(!x){const{dataset_field:y,dataset_code:D,slots:O}=S;if(y&&!s.includes(y)&&(S.dataset_field=""),D&&!s.includes(D)&&(S.dataset_code=""),O&&O.named&&O.named.length>0)for(let j in O.named)!O.named[j].comDetail||d(O.named[j].comDetail)}if(C&&C.length>0)for(let y in C)d(C[y])}},xt=()=>{ue.value=!1,Ee.value=null,(!r(T)||!r(T).datset_id)&&Fe(v.value,[])},St=()=>{H.exports.MessageBox.confirm("\u662F\u5426\u53D6\u6D88\u7ED1\u5B9A\u6570\u636E\u96C6","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{T.value={...T.value,datset_id:"",datset_name:"",datsource_id:""},Ee.value=null}).catch(n=>{console.log(n)})},kt=async n=>{if(!n){ue.value=!1;return}!r(T)||n.datset_id!==r(T).datset_id?H.exports.MessageBox.confirm("\u8BE5\u64CD\u4F5C\u5C06\u5F71\u54CD\u5DF2\u7ED1\u5B9A\u5B57\u6BB5\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(async()=>{Ie.value=!0;let s=f.copy(r(l));for(let d in s)if(r(T).datset_id===s[d]){s.splice(d,1);break}s=Array.from(new Set([...s,n.datset_id])),T.value={...r(T),datset_id:n.datset_id,datset_name:n.datset_name,datsource_id:n.datsource_id},N(s),await L(r(T).datset_id);let p=r(A).map(d=>d.name);Fe(v.value,p),ue.value=!1}).catch(()=>{}).finally(()=>{Ie.value=!1}):ue.value=!1},Ve=k([]),Dt=(n,s)=>{Ve.value=[],ft({pageNum:0,pageSize:0,filter:{sortId:n,dat_range:s}}).then(d=>{const{status:S,data:{list:x},msg:C}=d;S==104?Ve.value=x.map(y=>{let D={...y,datset_id:y.id};return delete D.id,D}):H.exports.Message.warning(C)})},Ze=k(!1),wt=()=>{Ze.value=!1;const n=JSON.stringify(r(v)),s=new Blob([n],{type:""});ml.saveAs(s,"data.json")},et=k(!1),ce=k(null),Mt=n=>{const s=new FileReader;s.readAsText(n.raw,"UTF-8"),s.onload=function(p){let d=[];try{d=JSON.parse(p.target.result)}catch{d=[]}ce.value=d}},Tt=()=>{!r(ce)||(Array.isArray(r(ce))?P(v.value,"children",[...r(v).children,...r(ce)]):v.value=r(ce),ce.value=null,et.value=!1,ue.value=!0)},Nt=()=>{if(!r(v).children||r(v).children.length===0){H.exports.Message("\u6682\u65E0\u6570\u636E");return}H.exports.MessageBox.confirm("\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u5DF2\u6784\u5EFA\u6570\u636E, \u662F\u5426\u7EE7\u7EED?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{P(v.value,"children",[]),h(null),N([r(T).datset_id])})},Be=k(!1),Se=k(null),At=()=>{h(null),Se.value=f.copy(r(v)),Be.value=!0},tt=()=>{h(null),Se.value=null,Be.value=!1},Ot=()=>{v.value=f.copy(r(Se)),tt()},ke=Q(()=>{let n=[];n=s(v.value);function s(p){let d=[];const{isBasic:S,children:x}=p;if(!S){const{name:C,slots:y}=p;let D=f.copy(p);if(["dInput","dInputNumber","dTextarea","dTime","dRadio","dCheckbox","dSelect","dCascader","dRegion","dActiveTable","dComputeTable"].includes(C)&&(d=[...d,D]),y&&y.named&&y.named.length>0)for(let O in y.named){let j=f.copy(y.named[O]);!j||!j.comDetail||f.isEmpty(j.id)||(d=[...d,j])}}if(x)for(let C in x)d=[...d,...s(x[C])];return d}return n});be("flatData",ke);const De=Q(()=>{let n=[];r(ke).forEach(p=>{const{dataset_field:d,dataset_code:S}=p;d&&n.push(d),S&&n.push(S)});let s=r(A).map(p=>p.name);return n=n.filter(p=>s.includes(p)),n});be("usedFields",De);const we=k(""),ne=k([]),de=k([]),ze=k(!1),Pt=()=>{let n=[];r(ke).forEach(p=>{const{dataset_field:d,dataset_code:S,id:x,label:C}=p;d&&r(De).includes(d)&&n.push({dataset_field:d,id:x,alias:"",describe:C.replace("\uFF1A","")}),S&&r(De).includes(S)&&n.push({dataset_field:S,id:x,alias:"",describe:C.replace("\uFF1A","")})}),r(v).saveBeforeConfig?de.value=f.copy(r(v).saveBeforeConfig):de.value={cbApi:"",configFields:[]},de.value.configFields=s(r(de).configFields),ne.value=s(r(v).configFields),we.value=r(v).cbApi||"",ze.value=!0;function s(p){if(!p||p.length===0)return n;let d=f.copy(p),S=n.map(O=>O.id);d=d.filter(O=>S.includes(O.id));let x=d.map(O=>O.id),C=n.filter(O=>x.includes(O.id)),y={};C.forEach(O=>y[O.id]=O.describe);let D=n.filter(O=>!x.includes(O.id));return d=d.map(O=>({...O,describe:y[O.id]})),d=[...d,...D],d}},$t=k("after"),Rt=k(""),lt=Q(()=>{let n={},s=[];for(let p of r(ne))f.isEmpty(p.alias)||(n[p.alias]?s.push(p.alias):n[p.alias]=1);return Array.from(new Set(s))}),je=Q(()=>{let n=[],s=[];for(let p of r(ne))f.isEmpty(p.alias)||n.push(p.alias);for(let p of r(ne))f.isEmpty(p.alias)&&n.includes(p.dataset_field)&&s.push(p.dataset_field);return s}),Lt=()=>{if(r(lt).length>0){H.exports.Message.warning("\u522B\u540D\u914D\u7F6E\u91CD\u590D");return}if(r(je).length>0){H.exports.Message.warning('\u68C0\u6D4B\u5230\u8BBE\u7F6E\u4E2D\u5B58\u5728\u4E0E\u8868\u5355\u5B57\u6BB5\u91CD\u590D\u7684\u5B57\u6BB5\u522B\u540D\uFF0C\u4E3A\u4E86\u907F\u514D\u6570\u636E\u4F20\u8F93\u9519\u8BEF\u7CFB\u7EDF\u5DF2\u81EA\u52A8\u52A0\u540E\u7F00"_ext"\u5904\u7406');for(let s of ne.value)r(je).includes(s.dataset_field)&&f.isEmpty(s.alias)&&(s.alias=`${s.dataset_field}_ext`);return}let n=f.copy(r(v));n.cbApi=r(we),n.configFields=f.copy(r(ne)),n.saveBeforeConfig=f.copy(r(de)),v.value=n,we.value="",ne.value=[],de.value=[],ze.value=!1},It=k("comp"),He=k(!0),qe=k(!1),Et=k([]),Ft=()=>He.value=!1,Vt=n=>{He.value=!0,fe(()=>{let s=document.querySelector(".el-tabs__active-bar"),p=document.querySelector(`#tab-${n.name}`);s.style.transform=`translateY(${p.offsetTop}px)`})},ot=n=>{let s=f.copy(n);return s.id=f.nanoid(),s.props.labelAlign="flex-end",s.props.labelColAlign="center",s.props.cntCompDisArr=[{id:f.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}],s.props.cntCompReqArr=[{id:f.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}],s.props.cntCompShowArr=[{id:f.nanoid(),cntCompId:"",op:"",val:"",logicOp:""}],s.name==="dInput"&&(s.props.searchPageWidth=550),["dRadio","dCheckbox"].includes(s.name)&&(s.props.dic=s.props.dic.map(p=>({...p,slotId:f.nanoid()})),s.props.chooseAlign="many",s.props.chooseRowNum=0),["dRadio","dCheckbox","dSelect"].includes(s.name)&&(s.props.opDisabledSet=[{target:"",type:"",value:"",options:[]}],s.props.opNoteSet=[{target:"",value:""}]),s.name==="dCascader"&&(s.props.dic=[{pid:0,id:1,label:"\u4E00\u7EA7\u9009\u9879",value:"a",isEdit:!1,level:1,children:[{pid:1,id:2,label:"\u4E8C\u7EA7\u9009\u9879",value:"b",isEdit:!1,level:2,children:[{pid:2,id:3,label:"\u4E09\u7EA7\u9009\u9879",value:"c",isEdit:!1,level:3}]}]}]),s.name==="dDraggable"&&(s.props.gpDisCdtGp=[{key:"",label:"",op:"",logicOp:""}],s.props.align=1,s.props.cAlign=1,s.props.groupBorderColor="#ccc"),s.name==="dComputeTable"&&(s.props.hCodeList=[],s.props.cTableTitle="\u8BA1\u7B97\u8868\u683C"),s.name==="dDivider"&&(s.props.dividerType="solid",s.props.dividerHeight=1,s.props.dividerColor="#606871"),s.name==="dText"&&(s.props.textColor="#262626",s.props.textAlign="left",s.props.textFontSize=12,s.props.textLineHeight=12,s.props.textSpaceLetter=0,s.props.textWeight=!1),s.name==="dFish"&&(s.props.dicDataSet={},s.props.busDataSet={}),s},at=n=>ot(n),Bt=(n,s)=>{let p=new Image;n.setDragImage(p,0,0)},zt=n=>{var d,S,x,C,y,D,O,j,Z;n.relatedContext.element?g({id:n.relatedContext.element.id,willInsertAfter:n.willInsertAfter}):g({});let s=n.dragged._underlying_vm_,p=n.to._prevClass;return qe.value=!0,p.includes("draggable-active-table")&&(s.tag="table",s.tableId=((C=(x=(S=(d=n.to)==null?void 0:d.__vue__)==null?void 0:S.$props)==null?void 0:x.data)==null?void 0:C.id)||((Z=(j=(O=(D=(y=n.to)==null?void 0:y.__vue__)==null?void 0:D.$parent)==null?void 0:O.$props)==null?void 0:j.data)==null?void 0:Z.id)),s.tag==="table"&&!p.includes("draggable-active-table")&&(delete s.tag,delete s.tableId,s.props.fieldsSet&&(s.props.fieldsSet=[])),["dRadio","dCheckbox"].includes(s.name)&&p.includes("draggable-compute-table")&&(s.tag="cTable"),s.tag==="cTable"&&!p.includes("draggable-compute-table")&&delete s.tag,p.includes("draggable-components")?!1:!(!["dInput","dInputNumber","dTextarea","dTime","dRadio","dCheckbox","dSelect","dCascader","dRegion"].includes(s.name)&&p.includes("draggable-active-table")||!["dRadio","dCheckbox"].includes(s.name)&&p.includes("draggable-compute-table"))},jt=n=>{g({});let s=f.copy(r(t))||{};qe.value=!1,s&&n.to.__vue__.$attrs.compId===s.id&&p(r(v),s.id);function p(d,S){const{isBasic:x,children:C}=d;if(!x){const{id:y}=d;if(y===S){h(d);return}}if(C&&C.length>0)for(let y of C)p(y,S)}},Me=k(null),Ht=n=>{let s=at(n);if(r(t)&&r(t).id&&r(t).props.isCollect){let d=r(t).name,S=f.copy(r(v));if(d==="dFish"){H.exports.Message.warning("\u65E0\u6CD5\u63D2\u5165\u6B64\u5143\u7D20\u81F3\u9C7C\u9AA8\u56FE");return}if(!["dInput","dInputNumber","dTextarea","dTime","dRadio","dCheckbox","dSelect","dCascader","dRegion"].includes(n.name)&&d==="dActiveTable"){H.exports.Message.warning("\u65E0\u6CD5\u63D2\u5165\u6B64\u5143\u7D20\u81F3\u52A8\u6001\u8868\u683C");return}if(!["dRadio","dCheckbox"].includes(n.name)&&d==="dComputeTable"){H.exports.Message.warning("\u65E0\u6CD5\u63D2\u5165\u6B64\u5143\u7D20\u81F3\u8BA1\u7B97\u8868\u683C");return}p(S,r(t).id,s),v.value=S}else P(v.value,"children",[...v.value.children,s]),fe(()=>{let d=r(Me).$el.scrollHeight;r(Me).$el.scrollTop=d});function p(d,S,x){let C=d.children;for(let y in C){let D=C[y];if(D.id===S){D.name==="dActiveTable"&&(x.tag="table",x.tableId=D.id),D.children.push(x),h(D);break}else D.children&&p(D,S,x)}}},me=k(1),qt=n=>{var p;me.value=n/100;const s=(d,S)=>{!d||(d.style.zoom=`${S}`)};s((p=r(Me))==null?void 0:p.$el,r(me)),s(document.querySelector(".form-header"),r(me)),s(document.querySelector(".form-footer"),r(me))},Wt=n=>{const{name:s,id:p,props:d,attrs:S,tag:x}=n;let C=f.copy(Ue);const{basic:y,container:D}=C;let j=[...y,...D].find(pe=>pe.name===s);if(!j)return;j.id=f.nanoid(),j.props=f.copy(d),j.attrs=f.copy(S),x&&(j.tag=x);let Z=f.copy(r(v)),Je=Z.children;Te(Je,p),v.value=Z;function Te(pe,_e){for(let U in pe){let Ne=pe[U];if(Ne.id===_e){pe.push(j);break}else Ne.children&&Ne.children.length>0&&Te(Ne.children,_e)}}},Jt=n=>{H.exports.MessageBox.confirm("\u6B64\u64CD\u4F5C\u5C06\u5220\u9664\u8BE5\u7EC4\u4EF6, \u662F\u5426\u7EE7\u7EED?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{const{id:p,name:d,props:S}=n;let x=f.copy(r(v));if(s(x,p),v.value=x,h(null),d==="dActiveTable"){let C=f.copy(r(l));for(let y in C)if(S.datset_id===C[y]){C.splice(y,1);break}N(C)}});function s(p,d){const{children:S,slots:x}=p;if(S&&S.length>0)for(let C in p.children)p.children[C].id===d?p.children.splice(C,1):s(p.children[C],d);if(x&&x.named&&x.named.length>0)for(let C in p.slots.named)!p.slots.named[C].comDetail||(p.slots.named[C].comDetail.id===d?p.slots.named.splice(C,1):s(p.slots.named[C].comDetail,d))}},st=n=>{if(!n)return;let s=f.copy(r(v));p(s,n.id),v.value=s;function p(d,S){const{isBasic:x,children:C}=d;if(!x){const{id:y,slots:D}=d;if(S===y)return!0;if(D&&D.named&&D.named.length>0)for(let O in D.named){let j=D.named[O].comDetail;!j||p(j,S)&&(D.named[O].comDetail=f.copy(n))}}if(C&&C.length>0)for(let y in C){let D=C[y];p(D,S)&&(C[y]=f.copy(n))}}},Gt=n=>{!n.isBasic||(v.value=n)};ae(t,n=>st(n),{deep:!0});const Ut=(n,s)=>{if(n==="chooseOuter")p(v.value,s.id);else{let d=f.copy(r(v));p(d,s.id),v.value=d}function p(d,S){const{children:x,isBasic:C}=d;if(x&&x.length>0)for(let y in d.children)if(d.children[y].id===S){if(n==="chooseOuter")h(C?null:d);else if(n==="moveTop")if(y==0){H.exports.Message("\u5DF2\u7ECF\u79FB\u5230\u7236\u7EC4\u4EF6\u9876\u90E8");break}else{let D=Number(y),O=f.copy(d.children[D-1]);d.children[D-1]=f.copy(d.children[D]),d.children[D]=O}else if(n==="moveBottom")if(y==d.children.length-1){H.exports.Message("\u5DF2\u7ECF\u79FB\u5230\u7236\u7EC4\u4EF6\u5E95\u90E8");break}else{let D=Number(y),O=f.copy(d.children[D+1]);d.children[D+1]=f.copy(d.children[D]),d.children[D]=O}break}else p(d.children[y],S)}},it=()=>{if(u.value=m.params,console.log(r(u),"rPms"),r(u).row){const{isAdd:n,row:{l_sort_id:s,dat_range:p,datset_id:d,name:S,version:x,form_text:C,tableset:y}}=m.params;w.value={id:s,range:p},T.value=f.copy(m.params.row),s&&P(T.value,"sort_id",s),V.value={name:n?"\u9ED8\u8BA4\u8868\u5355\u540D\u79F0":S,version:x||"v1.0"},d&&L(d),C&&(v.value=C),y&&y.length>0&&z(v.value,y)}E.value=f.copy(r(v)),h(null)},We=k({}),rt=["441900","442000","460400"],nt=()=>ul().then(n=>{let s={province:[],city:{},area:{}},p=n||[],d=[],S=[];for(let x in p){let C=p[x],y=x.slice(2,4),D=x.slice(4);y==="00"&&D==="00"?(s.province.push({label:C,value:x}),s.city[x]=[]):y!=="00"&&D==="00"?d.push({label:C,value:x}):y!=="00"&&D!=="00"&&S.push({label:C,value:x})}d.forEach(x=>{var y,D;let C=`${x.value.slice(0,2)}0000`;(D=(y=s.city[C])==null?void 0:y.push)==null||D.call(y,x),rt.includes(x.value)?s.area[x.value]=[{...x}]:s.area[x.value]=[]}),S.forEach(x=>{var y,D;let C=`${x.value.slice(0,4)}00`;(D=(y=s.area[C])==null?void 0:y.push)==null||D.call(y,x)}),We.value=s}).catch(n=>{console.log(n)});return be("regionData",We),rl(async()=>{it(),await nt(),window.history&&window.history.pushState&&(history.pushState(null,null,document.URL),window.addEventListener("popstate",F,!1))}),nl(()=>{window.removeEventListener("popstate",F,!1)}),{__sfc:!0,states:e,currentCom:t,choosedDataset:l,isPrint:o,isShowPrintRes:i,mutations:a,setCurCom:h,setRelatedComp:g,setChoosedDataset:N,setPrint:M,setPrintResShow:b,route:m,router:_,rPms:u,currentGroup:w,currentDataSet:T,fData:v,zData:E,datsetFields_list:A,getFields:L,feedbackTabProperty:z,goBack:F,form:V,showTitle:$,titleRef:I,titleChange:q,printView:K,generatePrintView:te,printFn:ee,printWidth:Y,printInitPadding:ie,printPaddingList:R,controlPadding:W,formatTooltip:J,showVisible:X,getActiveDic:G,presetData:le,preview:re,clearFormValidate:ht,printForm:Xe,onPrintForm:yt,collectField:ye,echoTableInfo:Ce,formatFormData:xe,save:Ct,loading:Ie,showDatasetVisible:ue,tempDataSet:Ee,clearABindFieldByB:Fe,cancelChooseDataset:xt,cancelBindDataset:St,updateDataset:kt,dataSetList:Ve,getTableList:Dt,jsonVisible:Ze,exportJSON:wt,uploadVisible:et,uploadArr:ce,updateReason:Mt,handleJSON:Tt,deleteAllData:Nt,moveVisible:Be,cacheData:Se,onInitMMove:At,onMoveSave:tt,onMoveCancel:Ot,flatData:ke,usedFields:De,cbApi:we,configFields:ne,saveBeforeConfig:de,advanceConfigVisible:ze,handleCbConfig:Pt,cbName:$t,configSrh:Rt,repeatAlias:lt,repeatSpecialAlias:je,onAdCfgSave:Lt,activeTab:It,showComBox:He,showTrashBox:qe,trashList:Et,closeComBox:Ft,tabClick:Vt,extendCompProp:ot,cloneDefaultField:at,onDragSetData:Bt,onMove:zt,onEnd:jt,renderComRef:Me,insertElement:Ht,resizeNum:me,onPageResize:qt,handleCopyCom:Wt,handleDeleteCom:Jt,handleEditCom:st,handleUpdateData:Gt,onControl:Ut,onPmsInit:it,regionData:We,verticalArea:rt,getRegionDic:nt,comsDic:Ue,FormResize:Tl,Category:Re,CodeMirror:_l,RenderCom:cl,RenderFormByJson:bl,SettingPanel:$s,RenderTree:Vs}}});var js=function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:l.loading,expression:"loading"}],staticClass:"form-builder"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!l.isShowPrintRes,expression:"!isShowPrintRes"}],staticClass:"header"},[t("div",{staticClass:"header-basic"},[t("div",{staticClass:"h-basic-back"},[t("i",{staticClass:"el-icon-my-leftarrow",on:{click:l.goBack}}),t("span",{staticStyle:{cursor:"pointer"},on:{click:l.goBack}},[e._v("\u8FD4\u56DE\u5217\u8868")])]),t("div",{staticClass:"h-basic-title"},[l.showTitle?t("el-input",{ref:"titleRef",attrs:{size:"mini",maxlength:"25",placeholder:"\u8BF7\u8F93\u5165\u8868\u5355\u540D\u79F0"},on:{blur:l.titleChange},model:{value:l.form.name,callback:function(o){e.$set(l.form,"name",typeof o=="string"?o.trim():o)},expression:"form.name"}}):t("span",{on:{click:l.titleChange}},[e._v(e._s(l.form.name))]),t("dIcon",{attrs:{name:"myEdit",size:"18"},on:{click:l.titleChange}})],1),t("div",{staticClass:"h-basic-save"},[t("div",{staticClass:"tools-btn",on:{click:l.generatePrintView}},[t("i",{staticClass:"el-icon-my-formview"}),t("span",[e._v("\u6253\u5370\u9884\u89C8")])]),t("div",{staticClass:"tools-btn",on:{click:()=>{l.setPrint(!1),l.preview()}}},[t("dIcon",{attrs:{name:"preview"}}),t("span",[e._v("\u9884\u89C8")])],1),t("el-button",{attrs:{type:"primary"},on:{click:l.save}},[e._v("\u4FDD\u5B58")])],1)]),t("div",{staticClass:"header-tools"},[t("div",{staticClass:"tools-btn",on:{click:function(o){l.jsonVisible=!0}}},[t("d-icon",{attrs:{name:"createJson"}}),t("span",[e._v("\u751F\u6210JSON")])],1),t("div",{staticClass:"tools-btn",on:{click:function(o){l.uploadVisible=!0}}},[t("d-icon",{attrs:{name:"importJson"}}),t("span",[e._v("\u5BFC\u5165JSON")])],1),t("div",{staticClass:"tools-btn",on:{click:()=>{l.showDatasetVisible=!0,l.tempDataSet=JSON.parse(JSON.stringify(l.currentDataSet))}}},[t("d-icon",{attrs:{name:"dataset"}}),t("span",[e._v("\u6570\u636E\u96C6")])],1),t("div",{staticClass:"tools-btn",on:{click:l.deleteAllData}},[t("d-icon",{attrs:{name:"delete"}}),t("span",[e._v("\u6E05\u7A7A")])],1),t("div",{staticClass:"tools-btn",on:{click:l.handleCbConfig}},[t("d-icon",{attrs:{name:"gjConfig"}}),t("span",[e._v("\u9AD8\u7EA7\u914D\u7F6E")])],1),t("div",{staticClass:"tools-btn",on:{click:l.goBack}},[t("d-icon",{attrs:{name:"back"}}),t("span",[e._v("\u9000\u51FA")])],1),t(l.FormResize,{on:{cResize:l.onPageResize}})],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:!l.isShowPrintRes,expression:"!isShowPrintRes"}],staticClass:"content"},[t("el-tabs",{staticClass:"left-tab",attrs:{"tab-position":"left"},on:{"tab-click":l.tabClick},model:{value:l.activeTab,callback:function(o){l.activeTab=o},expression:"activeTab"}},[t("el-tab-pane",{attrs:{label:"\u7EC4\u4EF6",name:"comp"}},[t("span",{staticClass:"tab-item tab-item-comp",attrs:{slot:"label"},slot:"label"},[t("d-icon",{attrs:{name:l.activeTab==="comp"?"activeComp":"comp",size:24}}),t("span",[e._v("\u7EC4\u4EF6")])],1),l.showComBox?t("div",{ref:"compRef",staticClass:"components draggable-tool"},[t("div",{staticClass:"draggable-tool-title"},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("\u57FA\u7840\u63A7\u4EF6")]),t("i",{staticClass:"el-icon-close",staticStyle:{cursor:"pointer"},on:{click:l.closeComBox}})]),t("draggable",e._b({staticClass:"can draggable-components",attrs:{clone:l.cloneDefaultField,setData:l.onDragSetData,move:l.onMove},on:{unchoose:l.onEnd,end:l.onEnd},model:{value:l.comsDic.basic,callback:function(o){e.$set(l.comsDic,"basic",o)},expression:"comsDic.basic"}},"draggable",{animation:150,group:{name:"name",pull:"clone"},sort:!0},!1),e._l(l.comsDic.basic,function(o,i){return t("div",{key:i,staticClass:"draggable-com-item",class:[`${o.name}-icon`],on:{click:function(a){return l.insertElement(o)}}},[t("i",{class:`el-icon-my-${o.name}`}),t("span",[e._v(e._s(o.label))])])}),0)],1):e._e()]),t("el-tab-pane",{attrs:{label:"\u5E03\u5C40",name:"layout"}},[t("span",{staticClass:"tab-item tab-item-layout",attrs:{slot:"label"},slot:"label"},[t("d-icon",{attrs:{name:l.activeTab==="layout"?"activeLayout":"layout",size:24}}),t("span",[e._v("\u5E03\u5C40")])],1),l.showComBox?t("div",{staticClass:"components draggable-tool"},[t("div",{staticClass:"draggable-tool-title"},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("\u5E03\u5C40\u63A7\u4EF6")]),t("i",{staticClass:"el-icon-close",staticStyle:{cursor:"pointer"},on:{click:l.closeComBox}})]),t("draggable",e._b({staticClass:"can draggable-components",attrs:{setData:l.onDragSetData,clone:l.cloneDefaultField,move:l.onMove},on:{unchoose:l.onEnd},model:{value:l.comsDic.container,callback:function(o){e.$set(l.comsDic,"container",o)},expression:"comsDic.container"}},"draggable",{animation:150,group:{name:"name",pull:"clone"},sort:!0},!1),e._l(l.comsDic.container,function(o,i){return t("div",{key:i,staticClass:"draggable-com-item",class:[`${o.name}-icon`],on:{click:function(a){return l.insertElement(o)}}},[o.name==="dComputeTable"?t("d-icon",{attrs:{name:"cptTab",size:40}}):t("i",{class:`el-icon-my-${o.name}`}),t("span",[e._v(e._s(o.label))])],1)}),0)],1):e._e()]),t("el-tab-pane",{attrs:{label:"\u6811\u5F62",name:"tree"}},[t("span",{staticClass:"tab-item tab-item-tree",attrs:{slot:"label"},slot:"label"},[t("i",{class:l.activeTab==="tree"?"el-icon-my-activeTree":"el-icon-my-bTree",staticStyle:{"background-size":"90% auto"}}),t("span",[e._v("\u6811\u5F62")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:l.showComBox,expression:"showComBox"}],staticClass:"tab-tree-container"},[t("div",{staticClass:"tab-tree-title"},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("\u6570\u636E\u7ED3\u6784\u6811")]),t("i",{staticClass:"el-icon-close",staticStyle:{cursor:"pointer"},on:{click:l.closeComBox}})]),t(l.RenderTree,{attrs:{data:l.fData,allowMove:l.moveVisible}}),t("div",{staticClass:"tree-move-btn"},[l.moveVisible?e._e():t("div",{staticClass:"tree-move-btn-item",on:{click:l.onInitMMove}},[t("dIcon",{attrs:{name:"tMove"}}),t("span",[e._v("\u6279\u91CF\u79FB\u52A8")])],1),l.moveVisible?[t("div",{staticClass:"tree-move-btn-item",on:{click:l.onMoveCancel}},[t("dIcon",{attrs:{name:"tCancel"}}),t("span",[e._v("\u53D6\u6D88")])],1),t("div",{staticClass:"tree-move-btn-item",on:{click:l.onMoveSave}},[t("dIcon",{attrs:{name:"tSave"}}),t("span",[e._v("\u4FDD\u5B58")])],1)]:e._e()],2)],1)])],1),t("div",{staticClass:"draggable-content"},[t("div",{staticClass:"form-header"}),t(l.RenderCom,e._g({ref:"renderComRef",staticClass:"draggable-com compact-form",attrs:{data:l.fData,options:{group:{name:"name"},sort:!0}},on:{updateData:l.handleUpdateData,copyCom:l.handleCopyCom,deleteCom:l.handleDeleteCom,control:l.onControl}},e.$listeners)),t("div",{staticClass:"form-footer"})],1),t(l.SettingPanel)],1),l.isShowPrintRes?t("div",{staticClass:"print-section"},[t("div",{staticClass:"tool"},[t("el-button",{on:{click:()=>{l.setPrintResShow(!1),l.setPrint(!1)}}},[e._v("\u8FD4\u56DE")]),t("el-button",{attrs:{type:"primary"},on:{click:l.printFn}},[e._v("\u6253\u5370")])],1),t("div",{staticStyle:{display:"inline-block"},attrs:{id:"canvasCon"}}),t("el-slider",{style:{width:`${l.printWidth}px`},attrs:{"format-tooltip":l.formatTooltip,range:"","show-stops":"",max:l.printWidth},model:{value:l.printPaddingList,callback:function(o){l.printPaddingList=o},expression:"printPaddingList"}}),t(l.RenderFormByJson,{ref:"printView",style:{padding:`0 ${l.printWidth-l.printPaddingList[1]}px 0 ${l.printPaddingList[0]}px`},attrs:{id:"printCon",data:l.fData}})],1):e._e(),t("transition-group",{attrs:{tag:"div",name:"slide-fade"}},[l.showTrashBox?[t("draggable",e._b({key:"trashDraggable",staticClass:"delete-area",attrs:{ghostClass:"trash"},model:{value:l.trashList,callback:function(o){l.trashList=o},expression:"trashList"}},"draggable",{animation:150,group:{name:"name",pull:"clone"},sort:!0},!1))]:e._e()],2),t("el-dialog",{staticClass:"view-edit",attrs:{title:"\u4FEE\u6539\u6570\u636E\u96C6","z-index":1e3,"show-close":!0,"close-on-click-modal":!1,visible:l.showDatasetVisible,"before-close":l.cancelChooseDataset,width:"938px"},on:{"update:visible":function(o){l.showDatasetVisible=o}}},[l.currentDataSet?t("div",{staticStyle:{display:"flex","align-items":"center","margin-bottom":"8px"}},[t("div",[e._v("\u5F53\u524D\u7ED1\u5B9A\u6570\u636E\u96C6\uFF1A"+e._s(l.currentDataSet.datset_name))])]):e._e(),t("el-container",[t("el-aside",{attrs:{width:"240px"}},[t(l.Category,{attrs:{type:"1",inner:"choose",initData:l.currentGroup},on:{"node-click":(o,i)=>{l.currentGroup={...o,dat_range:i},l.getTableList(o.id,i)}}})],1),t("el-main",[l.dataSetList.filter(o=>o.datset_type==="U").length>0?t("el-row",[e._l(l.dataSetList,function(o){return[o.datset_type==="U"?t("el-col",{key:o.datset_id,class:{"box-border":l.tempDataSet&&l.tempDataSet.datset_id===o.datset_id,"disable-btn":l.choosedDataset.includes(o.datset_id)},attrs:{span:12}},[t("div",{staticClass:"box-btn",on:{click:function(i){l.tempDataSet=JSON.parse(JSON.stringify(o))}}},[t("i",{staticClass:"el-icon-my-dataset2"}),t("div",{staticClass:"box-fit"},[e._v(" "+e._s(o.datset_name)+" "),t("div",{staticClass:"databaseName"},[e._v(" "+e._s(o.datset_content)+" ")])])])]):e._e()]})],2):t("div",{staticClass:"fe-full"},[t("el-empty",{attrs:{image:$e,description:"\u6682\u65E0\u6570\u636E\u54E6\uFF5E","image-size":200}})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return l.updateDataset(l.tempDataSet)}}},[e._v("\u786E\u5B9A")]),l.currentDataSet&&l.currentDataSet.datset_id?t("el-button",{attrs:{type:"primary",plain:""},on:{click:l.cancelBindDataset}},[e._v("\u53D6\u6D88\u7ED1\u5B9A")]):e._e(),t("el-button",{attrs:{size:"mini"},on:{click:l.cancelChooseDataset}},[e._v("\u53D6\u6D88")])],1)],1),t("el-dialog",{staticClass:"json-edit",attrs:{title:"\u5BFC\u51FAJSON\u6570\u636E",visible:l.jsonVisible,"close-on-click-modal":!1,width:"800px","destroy-on-close":""},on:{"update:visible":function(o){l.jsonVisible=o}}},[t("div",{staticStyle:{height:"500px"}},[t(l.CodeMirror,{ref:"jsonEditor",staticStyle:{width:"100%",height:"100%"},attrs:{mode:"application/json","json-code":JSON.stringify(l.fData),readonly:!1}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:l.exportJSON}},[e._v("\u5BFC\u51FAJSON\u6570\u636E")]),t("el-button",{attrs:{size:"small"},on:{click:function(o){l.jsonVisible=!1}}},[e._v("\u53D6\u6D88")])],1)]),t("el-dialog",{staticClass:"json-import-edit",attrs:{title:"\u5BFC\u5165JSON\u6570\u636E",visible:l.uploadVisible,"close-on-click-modal":!1,"destroy-on-close":!0},on:{"update:visible":function(o){l.uploadVisible=o}}},[t("elUpload",{staticStyle:{height:"fit-content"},attrs:{drag:"",action:"",multiple:"","on-change":l.updateReason,"auto-upload":!1,accept:".json",limit:1,"list-type":"multipart/form-data"}},[t("i",{staticClass:"el-icon-upload"}),t("div",{staticClass:"el-upload__text"},[e._v("\u5C06\u6587\u4EF6\u62D6\u5230\u6B64\u5904\uFF0C\u6216"),t("em",[e._v("\u70B9\u51FB\u4E0A\u4F20")])]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\u53EA\u80FD\u4E0A\u4F20JSON\u6587\u4EF6")])]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:l.handleJSON}},[e._v("\u786E\u5B9A")]),t("el-button",{attrs:{size:"small"},on:{click:()=>{l.uploadVisible=!1,l.uploadArr=null}}},[e._v("\u53D6\u6D88")])],1)],1),t("el-dialog",{staticClass:"view-edit new-view-edit",attrs:{title:"\u9884\u89C8\u6548\u679C","close-on-click-modal":!1,visible:l.showVisible,"before-close":l.clearFormValidate,"destroy-on-close":""},on:{"update:visible":function(o){l.showVisible=o}}},[l.showVisible?t(l.RenderFormByJson,{ref:"printForm",attrs:{data:JSON.parse(JSON.stringify(l.fData))}}):e._e(),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l.isPrint?t("el-button",{attrs:{type:"primary",size:"small"},on:{click:l.onPrintForm}},[e._v("\u6253\u5370")]):e._e(),t("el-button",{attrs:{size:"small"},on:{click:l.clearFormValidate}},[e._v("\u5173\u95ED")])],1)],1),t("el-dialog",{staticClass:"advance-config-dialog",attrs:{title:"\u9AD8\u7EA7\u914D\u7F6E","close-on-click-modal":!1,visible:l.advanceConfigVisible},on:{"update:visible":function(o){l.advanceConfigVisible=o}}},[t("el-tabs",{staticClass:"config-tabs",model:{value:l.cbName,callback:function(o){l.cbName=o},expression:"cbName"}},[t("el-tab-pane",{staticClass:"before-pane",attrs:{label:"\u4FDD\u5B58\u524D",name:"before"}},[t("div",{staticClass:"agree-dic-container"},[t("div",{staticClass:"agree-con-header"},[t("span",[e._v("\u540D\u79F0")]),t("span",[e._v("\u503C")])]),e._l(l.saveBeforeConfig,function(o,i){return t("div",{key:i,staticClass:"agree-item"},[t("el-input",{attrs:{clearable:"",type:"text",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},model:{value:o.label,callback:function(a){e.$set(o,"label",a)},expression:"item.label"}}),t("el-input",{attrs:{clearable:"",type:"text",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},model:{value:o.value,callback:function(a){e.$set(o,"value",a)},expression:"item.value"}}),t("i",{directives:[{name:"show",rawName:"v-show",value:i===l.saveBeforeConfig.length-1,expression:"index === saveBeforeConfig.length - 1"}],staticClass:"el-icon-my-relAdd",staticStyle:{"margin-right":"8px"},on:{click:()=>l.saveBeforeConfig.push({label:"",value:""})}}),t("i",{directives:[{name:"show",rawName:"v-show",value:l.saveBeforeConfig.length>1,expression:"saveBeforeConfig.length > 1"}],staticClass:"el-icon-my-relDel",on:{click:()=>l.saveBeforeConfig.splice(i,1)}})],1)})],2)]),t("el-tab-pane",{staticClass:"after-pane",attrs:{label:"\u4FDD\u5B58\u540E",name:"after"}},[t("div",{staticStyle:{"margin-bottom":"8px"}},[t("div",{staticStyle:{"margin-bottom":"8px"}},[e._v("Api:")]),t("el-input",{attrs:{type:"text",size:"mini",placeholder:"\u8BF7\u8F93\u5165Api"},model:{value:l.cbApi,callback:function(o){l.cbApi=typeof o=="string"?o.trim():o},expression:"cbApi"}})],1),t("div",{staticStyle:{"margin-bottom":"8px"}},[e._v("\u5B57\u6BB5\u914D\u7F6E\uFF1A")]),t("el-input",{staticStyle:{"margin-bottom":"8px",width:"50%"},attrs:{"suffix-icon":"el-icon-search",type:"text",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},model:{value:l.configSrh,callback:function(o){l.configSrh=typeof o=="string"?o.trim():o},expression:"configSrh"}}),t("el-table",{staticStyle:{width:"100%"},attrs:{data:l.configFields.filter(o=>o.dataset_field.toLowerCase().includes(l.configSrh.toLowerCase())||o.describe.toLowerCase().includes(l.configSrh.toLowerCase())),height:"calc(100% - 130px)"}},[t("el-table-column",{attrs:{label:"\u5B57\u6BB5\u540D","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("span",[e._v(e._s(`${o.dataset_field}\uFF08${o.describe}\uFF09`))])]}}])}),t("el-table-column",{attrs:{label:"\u522B\u540D"},scopedSlots:e._u([{key:"default",fn:function({row:o}){return[t("el-input",{class:{alias_ipt_repeat:l.repeatAlias.includes(o.alias)},attrs:{type:"text",size:"mini",placeholder:"\u8BF7\u8F93\u5165\u522B\u540D"},model:{value:o.alias,callback:function(i){e.$set(o,"alias",typeof i=="string"?i.trim():i)},expression:"row['alias']"}})]}}])})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:l.onAdCfgSave}},[e._v("\u786E\u5B9A")]),t("el-button",{on:{click:()=>{l.cbApi="",l.configFields=[],l.saveBeforeConfig=[],l.advanceConfigVisible=!1}}},[e._v("\u53D6\u6D88")])],1)],1)],1)},Hs=[],qs=B(zs,js,Hs,!1,null,"efdfb3ec",null,null);const Zs=qs.exports;export{Zs as default};
