import{W as o,X as n,g as c,_ as l}from"./index.0af4b258.js";const d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABOZJREFUeF7tm2vIZlMUx39/9/v9kppcJ2bCRCTj8sUlQkIogxLJy8wYSfjIN8oHiuSLUnJpkim3KL4YkUKIKEaTRu6DXIex9H/tY16P533ec87ez3mezLPq9D717rX22v+z17781zpiMxdt5uNnGoCIqIDYoQUgIennFnpFVCJie/h7HC1kgyJiX+AZ4JgWBiqVKyQ9lKHfWjUivgV2b2ngBgPwMHBpSwOV2lpJB2baaKweETsDPzRW3KQwDcCPwI4ZRirV+ZI+LmCntomIOBJ4p7bCfxtOAxAZBmaqLpN0XyFbtcxExArg7lqN+zcqCsBzks7KcKaxakSsBk5srNgTAqVmwG/AwZI+y3CotmpEHAQ45NruAO6r6AywwXslLa89ioyGEfEIcEmGiaEA4Flw+LAXw4g4Dngt8+0bgBUlF8HqZbwBnCBpQ+bb6aseEbsCrwILC9gfCgD26wFJUwUc/JeJiNgSeBo4s5DtoQFg/+4HlkoqsshGxLbAg8CSQoMfWgjM9G8lcI2k9TlOp+P6KuD4HDt9dIc6A6r+vC1OSXqqqfMRsRVwNXA7sHdT/RrtOwGg8uMt4C7gSUm/DHIuvfHzvUoDC2oMpG2TTgGonPRW6S3Mp7gvAIeH14l56TnKuwiwRdtRNdAbCQAN/Bt60+uHcQ4YutcFO5gAMJkBBfmAgjOzM1OTEJiEwCQE8jjBj4D5nUVs+Y6W54bA0cCNwOXlfevEYjYACyR9GBEmQ31hObYTtzd14pzAxozESBkAKn8i4mzgtg6A+A64J1HivmWe1BL4sgDMAOIcwOToKYCvtKXkdeAxEyOSvrfRiHh57ACYAcRewAXAqcDJwH4NkXDezxzjS8Djkj7p1R81AAslfVB3UBFxAHBY2jn2B3ZKj6++vhb78fT+FHiz34D7AJCTHMkOgTkBiAgPbo/0bAeY2/OzNWBuwOTIr+mvf69vwihnZofKA5BqDTzVnbnZB9izIblhcuQrwFTaOpMmkv6YbZZlArAs9xzwzwyICMf7oU6PAW0KLWYbo7e5tc4CS/qycAjkAwB8k4orHNPDls9TOtz1CNN0+6hnwFWFt7m6AHqhfEXSulEDcGtaues6Xrrde8CdGSny7BAYNQAG1HcRb61t5H8BwM3AIW1GD0wAyN0GxyEEcmbA0gkAmZTYZAaMeBv02jcJgYxdYLIGdLkImr/zDe+ndPX1VXgbwFdkFzu7aNu1v01lrEPAg3wXWCPJ5/eBEhG7pVOdT3YGpo6MJQC+wr6drrCNy+UiwmSJCyUWAa4MGyQ5AFw3jBBw9fkLkr6u8/oGtYkIkymnA7sMaDdWALjk5XlJpriKSCqPc95htiKpsQHANPUqSY77ohIRXg/OBbxG9MpYAOBBu/or5+uNuRZIE6um2HuLp8YCgNWS3i/62vsYiwh/19T7bdPIAVgDPCHpzw4A8O5wWaLUq+5uSURsm+6L7AIrJRmETiQiXEN4xIzORgrATU5SDuLtS6OSDksXFwLg2txzwBJJj5Ye5Fz2IuK8lHRx05wZMJULwGmSXpzL4dL/j4jFgD+Zszgd3zTpWrl0US4AiyW57rdTSUnWMwB/PXJHw9Rb5asvZfNyAVgkyZedTiUlXK8EzEi1YYSdhL1Q0rMGoPVnZ6W+BmmDXvqWoG3xxUZJv7vfvwD9CF4TI3O68AAAAABJRU5ErkJggg==";const p={components:{dIcon:o},name:"login",data(){return{form:{username:"",password:"",checkcode:""},checkcodeSrc:"",checkcodeId:"",rules:{checkcode:[{required:!0,message:"\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:["blur","change"]}]},expireData:{},versions:{frontEnd:"v1.2.1 beta.14.18-2019",backEnd:""}}},methods:{...n({loginFn:"user/login"}),login(){this.$refs.loginForm.validate(i=>{if(i){let e={account:this.form.username,captcha:this.form.checkcode,captchaID:this.checkcodeId,password:`${this.$fun.encryDataECB(this.form.password)} 11HDESaAhiHHugDz`};this.loginFn(e)}})},getCheckCode(){this.$api.user.getCheckCode().then(i=>{const{data:{base64Blob:e,id:s}}=i;this.checkcodeSrc=e,this.checkcodeId=s})},getLicense(){this.$api.user.getLicense().then(i=>{console.log(i);const{status:e,data:s}=i;if(e===100){this.expireData=s;const{expireDate:t,version:a,type:r}=s;this.versions.backEnd=a,r===1?console.log(`\u6FC0\u6D3B\u7801\u5C06\u4E8E${t}\u5230\u671F\uFF0C\u8FC7\u671F\u540E\u5C06\u4E0D\u80FD\u767B\u5F55\u7CFB\u7EDF`):r===2&&console.log(`\u68C0\u6D4B\u5230\u60A8\u7684\u6FC0\u6D3B\u7801\u5DF2\u4E8E${t}\u8FC7\u671F\uFF0C\u8BF7\u60A8\u91CD\u65B0\u7533\u8BF7license\u6587\u4EF6`)}})}},mounted(){this.getCheckCode(),this.getLicense()}};var m=function(){var e=this,s=e._self._c;return s("div",{staticClass:"login-container"},[s("div",{staticClass:"banner"},[s("div",{staticClass:"login-abstract"},[e._m(0),s("h2",{staticClass:"introduce-2"},[e._v("\u62D6\u62FD\u5F0F\u8F7B\u677E\u8BBE\u8BA1\u4E1A\u52A1\u8868\u5355")]),s("h4",{staticClass:"introduce-4"},[e._v("\u8DE8\u5E94\u7528\u6570\u636E\u53EF\u4EE5\u8FDB\u884C\u5173\u8054")]),e._m(1),s("div",{staticClass:"system-version"},[e._v(" \u7248\u672C\uFF1A "),s("span",[e._v(e._s(e.versions.frontEnd)+"\uFF08\u524D\u7AEF\uFF09")]),s("span",{domProps:{innerHTML:e._s("&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;")}}),s("span",[e._v(e._s(e.versions.backEnd)+"\uFF08\u540E\u7AEF\uFF09")])])]),s("div",{staticClass:"login-entity"},[s("div",{staticClass:"login-box"},[s("h2",[e._v("\u7528\u6237\u767B\u5F55")]),s("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.form,rules:e.rules}},[s("el-form-item",{attrs:{prop:"username"}},[s("d-icon",{staticClass:"form-icon",attrs:{name:"login-user"}}),s("el-input",{ref:"username",staticClass:"login-form-item username",attrs:{placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(()=>{e.$refs.password&&e.$refs.password.focus()}).apply(null,arguments)}},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("d-icon",{staticClass:"form-icon",attrs:{name:"login-password"}}),s("el-input",{ref:"password",staticClass:"login-form-item password",attrs:{type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(()=>{e.$refs.checkcode&&e.$refs.checkcode.focus()}).apply(null,arguments)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),s("el-form-item",{attrs:{prop:"checkcode"}},[s("el-input",{ref:"checkcode",staticClass:"login-form-item checkcode",staticStyle:{width:"calc(100% - 115px)"},attrs:{type:"text",maxlength:"4",placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.form.checkcode,callback:function(t){e.$set(e.form,"checkcode",typeof t=="string"?t.trim():t)},expression:"form.checkcode"}}),s("div",{staticClass:"verification-code",style:{backgroundImage:`url(${e.checkcodeSrc})`},on:{click:e.getCheckCode}})],1)],1),s("el-button",{staticClass:"login-button",attrs:{type:"primary"},on:{click:e.login}},[e._v("\u767B\u5F55")]),e.expireData.type===1?s("div",{staticClass:"expire-note"},[s("i",{staticClass:"el-icon-warning-outline",staticStyle:{"margin-right":"8px",color:"#FEA600","font-size":"16px"}}),s("span",[e._v(e._s(e.expireData.content))])]):e._e()],1)])]),s("div",{staticClass:"copyright"},[e._v("Copyright \xA9\u7248\u6743\u6240\u6709 \xB7 \u6210\u90FD\u5EF6\u534E\u897F\u90E8\u5065\u5EB7\u533B\u7597\u4FE1\u606F\u4EA7\u4E1A\u7814\u7A76\u9662\u6709\u9650\u516C\u53F8 \xA9\u8700ICP\u590719031335\u53F7-1 ")]),e.expireData.type===2?s("div",{staticClass:"expired-coat"},[s("el-empty",{attrs:{image:l,description:e.expireData.content,"image-size":200}})],1):e._e()])},u=[function(){var i=this,e=i._self._c;return e("div",{staticClass:"system-title"},[e("img",{staticClass:"company",attrs:{src:d}}),e("span",{staticClass:"system-name"},[i._v("\u81EA\u5B9A\u4E49\u8868\u5355\u7CFB\u7EDF")])])},function(){var i=this,e=i._self._c;return e("ul",{staticClass:"introduce-list"},[e("li",[i._v("\u81EA\u5B9A\u4E49\u5E03\u5C40\u6837\u5F0F")]),e("li",[i._v("\u8DE8\u5E94\u7528\u6570\u636E\u5173\u8054")]),e("li",[i._v("\u5B57\u6BB5\u7C7B\u578B\u4E30\u5BCC\u591A\u6837")]),e("li",[i._v("\u8868\u5355\u4E2D\u5D4C\u5957\u5B50\u8868\u5355")])])}],g=c(p,m,u,!1,null,"fbd9c373",null,null);const f=g.exports;export{f as default};
